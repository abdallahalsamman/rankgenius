function al(n,e){return function(){return n.apply(e,arguments)}}const{toString:Ld}=Object.prototype,{getPrototypeOf:us}=Object,Fi=(n=>e=>{const t=Ld.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),un=n=>(n=n.toLowerCase(),e=>Fi(e)===n),ji=n=>e=>typeof e===n,{isArray:ko}=Array,Ko=ji("undefined");function Nd(n){return n!==null&&!Ko(n)&&n.constructor!==null&&!Ko(n.constructor)&&Wt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ll=un("ArrayBuffer");function Rd(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ll(n.buffer),e}const Pd=ji("string"),Wt=ji("function"),cl=ji("number"),Hi=n=>n!==null&&typeof n=="object",Dd=n=>n===!0||n===!1,Ai=n=>{if(Fi(n)!=="object")return!1;const e=us(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Fd=un("Date"),jd=un("File"),Hd=un("Blob"),Ud=un("FileList"),$d=n=>Hi(n)&&Wt(n.pipe),zd=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Wt(n.append)&&((e=Fi(n))==="formdata"||e==="object"&&Wt(n.toString)&&n.toString()==="[object FormData]"))},qd=un("URLSearchParams"),Wd=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Go(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let o,i;if(typeof n!="object"&&(n=[n]),ko(n))for(o=0,i=n.length;o<i;o++)e.call(null,n[o],o,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),a=r.length;let c;for(o=0;o<a;o++)c=r[o],e.call(null,n[c],c,n)}}function dl(n,e){e=e.toLowerCase();const t=Object.keys(n);let o=t.length,i;for(;o-- >0;)if(i=t[o],e===i.toLowerCase())return i;return null}const ul=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hl=n=>!Ko(n)&&n!==ul;function Hr(){const{caseless:n}=hl(this)&&this||{},e={},t=(o,i)=>{const r=n&&dl(e,i)||i;Ai(e[r])&&Ai(o)?e[r]=Hr(e[r],o):Ai(o)?e[r]=Hr({},o):ko(o)?e[r]=o.slice():e[r]=o};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Go(arguments[o],t);return e}const Kd=(n,e,t,{allOwnKeys:o}={})=>(Go(e,(i,r)=>{t&&Wt(i)?n[r]=al(i,t):n[r]=i},{allOwnKeys:o}),n),Vd=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Yd=(n,e,t,o)=>{n.prototype=Object.create(e.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Jd=(n,e,t,o)=>{let i,r,a;const c={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),r=i.length;r-- >0;)a=i[r],(!o||o(a,n,e))&&!c[a]&&(e[a]=n[a],c[a]=!0);n=t!==!1&&us(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Xd=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const o=n.indexOf(e,t);return o!==-1&&o===t},Gd=n=>{if(!n)return null;if(ko(n))return n;let e=n.length;if(!cl(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Zd=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&us(Uint8Array)),Qd=(n,e)=>{const o=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=o.next())&&!i.done;){const r=i.value;e.call(n,r[0],r[1])}},eu=(n,e)=>{let t;const o=[];for(;(t=n.exec(e))!==null;)o.push(t);return o},tu=un("HTMLFormElement"),nu=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,o,i){return o.toUpperCase()+i}),ca=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),ou=un("RegExp"),fl=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),o={};Go(t,(i,r)=>{let a;(a=e(i,r,n))!==!1&&(o[r]=a||i)}),Object.defineProperties(n,o)},iu=n=>{fl(n,(e,t)=>{if(Wt(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const o=n[t];if(Wt(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ru=(n,e)=>{const t={},o=i=>{i.forEach(r=>{t[r]=!0})};return ko(n)?o(n):o(String(n).split(e)),t},su=()=>{},au=(n,e)=>(n=+n,Number.isFinite(n)?n:e),Br="abcdefghijklmnopqrstuvwxyz",da="0123456789",pl={DIGIT:da,ALPHA:Br,ALPHA_DIGIT:Br+Br.toUpperCase()+da},lu=(n=16,e=pl.ALPHA_DIGIT)=>{let t="";const{length:o}=e;for(;n--;)t+=e[Math.random()*o|0];return t};function cu(n){return!!(n&&Wt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const du=n=>{const e=new Array(10),t=(o,i)=>{if(Hi(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[i]=o;const r=ko(o)?[]:{};return Go(o,(a,c)=>{const u=t(a,i+1);!Ko(u)&&(r[c]=u)}),e[i]=void 0,r}}return o};return t(n,0)},uu=un("AsyncFunction"),hu=n=>n&&(Hi(n)||Wt(n))&&Wt(n.then)&&Wt(n.catch),F={isArray:ko,isArrayBuffer:ll,isBuffer:Nd,isFormData:zd,isArrayBufferView:Rd,isString:Pd,isNumber:cl,isBoolean:Dd,isObject:Hi,isPlainObject:Ai,isUndefined:Ko,isDate:Fd,isFile:jd,isBlob:Hd,isRegExp:ou,isFunction:Wt,isStream:$d,isURLSearchParams:qd,isTypedArray:Zd,isFileList:Ud,forEach:Go,merge:Hr,extend:Kd,trim:Wd,stripBOM:Vd,inherits:Yd,toFlatObject:Jd,kindOf:Fi,kindOfTest:un,endsWith:Xd,toArray:Gd,forEachEntry:Qd,matchAll:eu,isHTMLForm:tu,hasOwnProperty:ca,hasOwnProp:ca,reduceDescriptors:fl,freezeMethods:iu,toObjectSet:ru,toCamelCase:nu,noop:su,toFiniteNumber:au,findKey:dl,global:ul,isContextDefined:hl,ALPHABET:pl,generateString:lu,isSpecCompliantForm:cu,toJSONObject:du,isAsyncFn:uu,isThenable:hu};function Ve(n,e,t,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),o&&(this.request=o),i&&(this.response=i)}F.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gl=Ve.prototype,ml={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ml[n]={value:n}});Object.defineProperties(Ve,ml);Object.defineProperty(gl,"isAxiosError",{value:!0});Ve.from=(n,e,t,o,i,r)=>{const a=Object.create(gl);return F.toFlatObject(n,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),Ve.call(a,n.message,e,t,o,i),a.cause=n,a.name=n.name,r&&Object.assign(a,r),a};const fu=null;function Ur(n){return F.isPlainObject(n)||F.isArray(n)}function bl(n){return F.endsWith(n,"[]")?n.slice(0,-2):n}function ua(n,e,t){return n?n.concat(e).map(function(i,r){return i=bl(i),!t&&r?"["+i+"]":i}).join(t?".":""):e}function pu(n){return F.isArray(n)&&!n.some(Ur)}const gu=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function Ui(n,e,t){if(!F.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=F.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!F.isUndefined(x[m])});const o=t.metaTokens,i=t.visitor||b,r=t.dots,a=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function p(f){if(f===null)return"";if(F.isDate(f))return f.toISOString();if(!u&&F.isBlob(f))throw new Ve("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(f)||F.isTypedArray(f)?u&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function b(f,m,x){let _=f;if(f&&!x&&typeof f=="object"){if(F.endsWith(m,"{}"))m=o?m:m.slice(0,-2),f=JSON.stringify(f);else if(F.isArray(f)&&pu(f)||(F.isFileList(f)||F.endsWith(m,"[]"))&&(_=F.toArray(f)))return m=bl(m),_.forEach(function(W,$){!(F.isUndefined(W)||W===null)&&e.append(a===!0?ua([m],$,r):a===null?m:m+"[]",p(W))}),!1}return Ur(f)?!0:(e.append(ua(x,m,r),p(f)),!1)}const w=[],O=Object.assign(gu,{defaultVisitor:b,convertValue:p,isVisitable:Ur});function R(f,m){if(!F.isUndefined(f)){if(w.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));w.push(f),F.forEach(f,function(_,N){(!(F.isUndefined(_)||_===null)&&i.call(e,_,F.isString(N)?N.trim():N,m,O))===!0&&R(_,m?m.concat(N):[N])}),w.pop()}}if(!F.isObject(n))throw new TypeError("data must be an object");return R(n),e}function ha(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function hs(n,e){this._pairs=[],n&&Ui(n,this,e)}const vl=hs.prototype;vl.append=function(e,t){this._pairs.push([e,t])};vl.toString=function(e){const t=e?function(o){return e.call(this,o,ha)}:ha;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function mu(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wl(n,e,t){if(!e)return n;const o=t&&t.encode||mu,i=t&&t.serialize;let r;if(i?r=i(e,t):r=F.isURLSearchParams(e)?e.toString():new hs(e,t).toString(o),r){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class bu{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(o){o!==null&&e(o)})}}const fa=bu,yl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vu=typeof URLSearchParams<"u"?URLSearchParams:hs,wu=typeof FormData<"u"?FormData:null,yu=typeof Blob<"u"?Blob:null,ku=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),xu=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),dn={isBrowser:!0,classes:{URLSearchParams:vu,FormData:wu,Blob:yu},isStandardBrowserEnv:ku,isStandardBrowserWebWorkerEnv:xu,protocols:["http","https","file","blob","url","data"]};function Eu(n,e){return Ui(n,new dn.classes.URLSearchParams,Object.assign({visitor:function(t,o,i,r){return dn.isNode&&F.isBuffer(t)?(this.append(o,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Su(n){return F.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _u(n){const e={},t=Object.keys(n);let o;const i=t.length;let r;for(o=0;o<i;o++)r=t[o],e[r]=n[r];return e}function kl(n){function e(t,o,i,r){let a=t[r++];const c=Number.isFinite(+a),u=r>=t.length;return a=!a&&F.isArray(i)?i.length:a,u?(F.hasOwnProp(i,a)?i[a]=[i[a],o]:i[a]=o,!c):((!i[a]||!F.isObject(i[a]))&&(i[a]=[]),e(t,o,i[a],r)&&F.isArray(i[a])&&(i[a]=_u(i[a])),!c)}if(F.isFormData(n)&&F.isFunction(n.entries)){const t={};return F.forEachEntry(n,(o,i)=>{e(Su(o),i,t,0)}),t}return null}function Tu(n,e,t){if(F.isString(n))try{return(e||JSON.parse)(n),F.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(t||JSON.stringify)(n)}const fs={transitional:yl,adapter:["xhr","http"],transformRequest:[function(e,t){const o=t.getContentType()||"",i=o.indexOf("application/json")>-1,r=F.isObject(e);if(r&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i&&i?JSON.stringify(kl(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(r){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Eu(e,this.formSerializer).toString();if((c=F.isFileList(e))||o.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ui(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),Tu(e)):e}],transformResponse:[function(e){const t=this.transitional||fs.transitional,o=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&F.isString(e)&&(o&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?Ve.from(c,Ve.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],n=>{fs.headers[n]={}});const ps=fs,Cu=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bu=n=>{const e={};let t,o,i;return n&&n.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),o=a.substring(i+1).trim(),!(!t||e[t]&&Cu[t])&&(t==="set-cookie"?e[t]?e[t].push(o):e[t]=[o]:e[t]=e[t]?e[t]+", "+o:o)}),e},pa=Symbol("internals");function Ho(n){return n&&String(n).trim().toLowerCase()}function Ii(n){return n===!1||n==null?n:F.isArray(n)?n.map(Ii):String(n)}function Ou(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(n);)e[o[1]]=o[2];return e}const Au=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Or(n,e,t,o,i){if(F.isFunction(o))return o.call(this,e,t);if(i&&(e=t),!!F.isString(e)){if(F.isString(o))return e.indexOf(o)!==-1;if(F.isRegExp(o))return o.test(e)}}function Iu(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,o)=>t.toUpperCase()+o)}function Mu(n,e){const t=F.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+t,{value:function(i,r,a){return this[o].call(this,e,i,r,a)},configurable:!0})})}class $i{constructor(e){e&&this.set(e)}set(e,t,o){const i=this;function r(c,u,p){const b=Ho(u);if(!b)throw new Error("header name must be a non-empty string");const w=F.findKey(i,b);(!w||i[w]===void 0||p===!0||p===void 0&&i[w]!==!1)&&(i[w||u]=Ii(c))}const a=(c,u)=>F.forEach(c,(p,b)=>r(p,b,u));return F.isPlainObject(e)||e instanceof this.constructor?a(e,t):F.isString(e)&&(e=e.trim())&&!Au(e)?a(Bu(e),t):e!=null&&r(t,e,o),this}get(e,t){if(e=Ho(e),e){const o=F.findKey(this,e);if(o){const i=this[o];if(!t)return i;if(t===!0)return Ou(i);if(F.isFunction(t))return t.call(this,i,o);if(F.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ho(e),e){const o=F.findKey(this,e);return!!(o&&this[o]!==void 0&&(!t||Or(this,this[o],o,t)))}return!1}delete(e,t){const o=this;let i=!1;function r(a){if(a=Ho(a),a){const c=F.findKey(o,a);c&&(!t||Or(o,o[c],c,t))&&(delete o[c],i=!0)}}return F.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let o=t.length,i=!1;for(;o--;){const r=t[o];(!e||Or(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const t=this,o={};return F.forEach(this,(i,r)=>{const a=F.findKey(o,r);if(a){t[a]=Ii(i),delete t[r];return}const c=e?Iu(r):String(r).trim();c!==r&&delete t[r],t[c]=Ii(i),o[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return F.forEach(this,(o,i)=>{o!=null&&o!==!1&&(t[i]=e&&F.isArray(o)?o.join(", "):o)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach(i=>o.set(i)),o}static accessor(e){const o=(this[pa]=this[pa]={accessors:{}}).accessors,i=this.prototype;function r(a){const c=Ho(a);o[c]||(Mu(i,a),o[c]=!0)}return F.isArray(e)?e.forEach(r):r(e),this}}$i.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors($i.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(o){this[t]=o}}});F.freezeMethods($i);const bn=$i;function Ar(n,e){const t=this||ps,o=e||t,i=bn.from(o.headers);let r=o.data;return F.forEach(n,function(c){r=c.call(t,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function xl(n){return!!(n&&n.__CANCEL__)}function Zo(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}F.inherits(Zo,Ve,{__CANCEL__:!0});function Lu(n,e,t){const o=t.config.validateStatus;!t.status||!o||o(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const Nu=dn.isStandardBrowserEnv?function(){return{write:function(t,o,i,r,a,c){const u=[];u.push(t+"="+encodeURIComponent(o)),F.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),F.isString(r)&&u.push("path="+r),F.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){const o=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ru(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Pu(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function El(n,e){return n&&!Ru(e)?Pu(n,e):e}const Du=dn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let o;function i(r){let a=r;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return o=i(window.location.href),function(a){const c=F.isString(a)?i(a):a;return c.protocol===o.protocol&&c.host===o.host}}():function(){return function(){return!0}}();function Fu(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ju(n,e){n=n||10;const t=new Array(n),o=new Array(n);let i=0,r=0,a;return e=e!==void 0?e:1e3,function(u){const p=Date.now(),b=o[r];a||(a=p),t[i]=u,o[i]=p;let w=r,O=0;for(;w!==i;)O+=t[w++],w=w%n;if(i=(i+1)%n,i===r&&(r=(r+1)%n),p-a<e)return;const R=b&&p-b;return R?Math.round(O*1e3/R):void 0}}function ga(n,e){let t=0;const o=ju(50,250);return i=>{const r=i.loaded,a=i.lengthComputable?i.total:void 0,c=r-t,u=o(c),p=r<=a;t=r;const b={loaded:r,total:a,progress:a?r/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&p?(a-r)/u:void 0,event:i};b[e?"download":"upload"]=!0,n(b)}}const Hu=typeof XMLHttpRequest<"u",Uu=Hu&&function(n){return new Promise(function(t,o){let i=n.data;const r=bn.from(n.headers).normalize(),a=n.responseType;let c;function u(){n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let p;F.isFormData(i)&&(dn.isStandardBrowserEnv||dn.isStandardBrowserWebWorkerEnv?r.setContentType(!1):r.getContentType(/^\s*multipart\/form-data/)?F.isString(p=r.getContentType())&&r.setContentType(p.replace(/^\s*(multipart\/form-data);+/,"$1")):r.setContentType("multipart/form-data"));let b=new XMLHttpRequest;if(n.auth){const f=n.auth.username||"",m=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";r.set("Authorization","Basic "+btoa(f+":"+m))}const w=El(n.baseURL,n.url);b.open(n.method.toUpperCase(),wl(w,n.params,n.paramsSerializer),!0),b.timeout=n.timeout;function O(){if(!b)return;const f=bn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:f,config:n,request:b};Lu(function(N){t(N),u()},function(N){o(N),u()},x),b=null}if("onloadend"in b?b.onloadend=O:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(O)},b.onabort=function(){b&&(o(new Ve("Request aborted",Ve.ECONNABORTED,n,b)),b=null)},b.onerror=function(){o(new Ve("Network Error",Ve.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let m=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const x=n.transitional||yl;n.timeoutErrorMessage&&(m=n.timeoutErrorMessage),o(new Ve(m,x.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,b)),b=null},dn.isStandardBrowserEnv){const f=Du(w)&&n.xsrfCookieName&&Nu.read(n.xsrfCookieName);f&&r.set(n.xsrfHeaderName,f)}i===void 0&&r.setContentType(null),"setRequestHeader"in b&&F.forEach(r.toJSON(),function(m,x){b.setRequestHeader(x,m)}),F.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),a&&a!=="json"&&(b.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&b.addEventListener("progress",ga(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",ga(n.onUploadProgress)),(n.cancelToken||n.signal)&&(c=f=>{b&&(o(!f||f.type?new Zo(null,n,b):f),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const R=Fu(w);if(R&&dn.protocols.indexOf(R)===-1){o(new Ve("Unsupported protocol "+R+":",Ve.ERR_BAD_REQUEST,n));return}b.send(i||null)})},$r={http:fu,xhr:Uu};F.forEach($r,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ma=n=>`- ${n}`,$u=n=>F.isFunction(n)||n===null||n===!1,Sl={getAdapter:n=>{n=F.isArray(n)?n:[n];const{length:e}=n;let t,o;const i={};for(let r=0;r<e;r++){t=n[r];let a;if(o=t,!$u(t)&&(o=$r[(a=String(t)).toLowerCase()],o===void 0))throw new Ve(`Unknown adapter '${a}'`);if(o)break;i[a||"#"+r]=o}if(!o){const r=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?r.length>1?`since :
`+r.map(ma).join(`
`):" "+ma(r[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return o},adapters:$r};function Ir(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Zo(null,n)}function ba(n){return Ir(n),n.headers=bn.from(n.headers),n.data=Ar.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Sl.getAdapter(n.adapter||ps.adapter)(n).then(function(o){return Ir(n),o.data=Ar.call(n,n.transformResponse,o),o.headers=bn.from(o.headers),o},function(o){return xl(o)||(Ir(n),o&&o.response&&(o.response.data=Ar.call(n,n.transformResponse,o.response),o.response.headers=bn.from(o.response.headers))),Promise.reject(o)})}const va=n=>n instanceof bn?n.toJSON():n;function vo(n,e){e=e||{};const t={};function o(p,b,w){return F.isPlainObject(p)&&F.isPlainObject(b)?F.merge.call({caseless:w},p,b):F.isPlainObject(b)?F.merge({},b):F.isArray(b)?b.slice():b}function i(p,b,w){if(F.isUndefined(b)){if(!F.isUndefined(p))return o(void 0,p,w)}else return o(p,b,w)}function r(p,b){if(!F.isUndefined(b))return o(void 0,b)}function a(p,b){if(F.isUndefined(b)){if(!F.isUndefined(p))return o(void 0,p)}else return o(void 0,b)}function c(p,b,w){if(w in e)return o(p,b);if(w in n)return o(void 0,p)}const u={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,b)=>i(va(p),va(b),!0)};return F.forEach(Object.keys(Object.assign({},n,e)),function(b){const w=u[b]||i,O=w(n[b],e[b],b);F.isUndefined(O)&&w!==c||(t[b]=O)}),t}const _l="1.6.0",gs={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{gs[n]=function(o){return typeof o===n||"a"+(e<1?"n ":" ")+n}});const wa={};gs.transitional=function(e,t,o){function i(r,a){return"[Axios v"+_l+"] Transitional option '"+r+"'"+a+(o?". "+o:"")}return(r,a,c)=>{if(e===!1)throw new Ve(i(a," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!wa[a]&&(wa[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,a,c):!0}};function zu(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let i=o.length;for(;i-- >0;){const r=o[i],a=e[r];if(a){const c=n[r],u=c===void 0||a(c,r,n);if(u!==!0)throw new Ve("option "+r+" must be "+u,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+r,Ve.ERR_BAD_OPTION)}}const zr={assertOptions:zu,validators:gs},Cn=zr.validators;class Ri{constructor(e){this.defaults=e,this.interceptors={request:new fa,response:new fa}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=vo(this.defaults,t);const{transitional:o,paramsSerializer:i,headers:r}=t;o!==void 0&&zr.assertOptions(o,{silentJSONParsing:Cn.transitional(Cn.boolean),forcedJSONParsing:Cn.transitional(Cn.boolean),clarifyTimeoutError:Cn.transitional(Cn.boolean)},!1),i!=null&&(F.isFunction(i)?t.paramsSerializer={serialize:i}:zr.assertOptions(i,{encode:Cn.function,serialize:Cn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&F.merge(r.common,r[t.method]);r&&F.forEach(["delete","get","head","post","put","patch","common"],f=>{delete r[f]}),t.headers=bn.concat(a,r);const c=[];let u=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(u=u&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const p=[];this.interceptors.response.forEach(function(m){p.push(m.fulfilled,m.rejected)});let b,w=0,O;if(!u){const f=[ba.bind(this),void 0];for(f.unshift.apply(f,c),f.push.apply(f,p),O=f.length,b=Promise.resolve(t);w<O;)b=b.then(f[w++],f[w++]);return b}O=c.length;let R=t;for(w=0;w<O;){const f=c[w++],m=c[w++];try{R=f(R)}catch(x){m.call(this,x);break}}try{b=ba.call(this,R)}catch(f){return Promise.reject(f)}for(w=0,O=p.length;w<O;)b=b.then(p[w++],p[w++]);return b}getUri(e){e=vo(this.defaults,e);const t=El(e.baseURL,e.url);return wl(t,e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){Ri.prototype[e]=function(t,o){return this.request(vo(o||{},{method:e,url:t,data:(o||{}).data}))}});F.forEach(["post","put","patch"],function(e){function t(o){return function(r,a,c){return this.request(vo(c||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Ri.prototype[e]=t(),Ri.prototype[e+"Form"]=t(!0)});const Mi=Ri;class ms{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const o=this;this.promise.then(i=>{if(!o._listeners)return;let r=o._listeners.length;for(;r-- >0;)o._listeners[r](i);o._listeners=null}),this.promise.then=i=>{let r;const a=new Promise(c=>{o.subscribe(c),r=c}).then(i);return a.cancel=function(){o.unsubscribe(r)},a},e(function(r,a,c){o.reason||(o.reason=new Zo(r,a,c),t(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new ms(function(i){e=i}),cancel:e}}}const qu=ms;function Wu(n){return function(t){return n.apply(null,t)}}function Ku(n){return F.isObject(n)&&n.isAxiosError===!0}const qr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qr).forEach(([n,e])=>{qr[e]=n});const Vu=qr;function Tl(n){const e=new Mi(n),t=al(Mi.prototype.request,e);return F.extend(t,Mi.prototype,e,{allOwnKeys:!0}),F.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Tl(vo(n,i))},t}const xt=Tl(ps);xt.Axios=Mi;xt.CanceledError=Zo;xt.CancelToken=qu;xt.isCancel=xl;xt.VERSION=_l;xt.toFormData=Ui;xt.AxiosError=Ve;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=Wu;xt.isAxiosError=Ku;xt.mergeConfig=vo;xt.AxiosHeaders=bn;xt.formToJSON=n=>kl(F.isHTMLForm(n)?new FormData(n):n);xt.getAdapter=Sl.getAdapter;xt.HttpStatusCode=Vu;xt.default=xt;const Yu=xt;window.axios=Yu;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ju=Object.create,Cl=Object.defineProperty,Xu=Object.getOwnPropertyDescriptor,Bl=Object.getOwnPropertyNames,Gu=Object.getPrototypeOf,Zu=Object.prototype.hasOwnProperty,yn=(n,e)=>function(){return e||(0,n[Bl(n)[0]])((e={exports:{}}).exports,e),e.exports},Qu=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Bl(e))!Zu.call(n,i)&&i!==t&&Cl(n,i,{get:()=>e[i],enumerable:!(o=Xu(e,i))||o.enumerable});return n},st=(n,e,t)=>(t=n!=null?Ju(Gu(n)):{},Qu(e||!n||!n.__esModule?Cl(t,"default",{value:n,enumerable:!0}):t,n)),St=yn({"../alpine/packages/alpinejs/dist/module.cjs.js"(n,e){var t=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(s,l)=>function(){return l||(0,s[r(s)[0]])((l={exports:{}}).exports,l),l.exports},p=(s,l)=>{for(var d in l)o(s,d,{get:l[d],enumerable:!0})},b=(s,l,d,g)=>{if(l&&typeof l=="object"||typeof l=="function")for(let k of r(l))!c.call(s,k)&&k!==d&&o(s,k,{get:()=>l[k],enumerable:!(g=i(l,k))||g.enumerable});return s},w=(s,l,d)=>(d=s!=null?t(a(s)):{},b(l||!s||!s.__esModule?o(d,"default",{value:s,enumerable:!0}):d,s)),O=s=>b(o({},"__esModule",{value:!0}),s),R=u({"node_modules/@vue/shared/dist/shared.cjs.js"(s){Object.defineProperty(s,"__esModule",{value:!0});function l(C,ne){const le=Object.create(null),ge=C.split(",");for(let Ge=0;Ge<ge.length;Ge++)le[ge[Ge]]=!0;return ne?Ge=>!!le[Ge.toLowerCase()]:Ge=>!!le[Ge]}var d={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},g={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},k="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",y=l(k),S=2;function A(C,ne=0,le=C.length){let ge=C.split(/(\r?\n)/);const Ge=ge.filter((At,kt)=>kt%2===1);ge=ge.filter((At,kt)=>kt%2===0);let ht=0;const Ot=[];for(let At=0;At<ge.length;At++)if(ht+=ge[At].length+(Ge[At]&&Ge[At].length||0),ht>=ne){for(let kt=At-S;kt<=At+S||le>ht;kt++){if(kt<0||kt>=ge.length)continue;const Fo=kt+1;Ot.push(`${Fo}${" ".repeat(Math.max(3-String(Fo).length,0))}|  ${ge[kt]}`);const ro=ge[kt].length,Ci=Ge[kt]&&Ge[kt].length||0;if(kt===At){const so=ne-(ht-(ro+Ci)),Tr=Math.max(1,le>ht?ro-so:le-ne);Ot.push("   |  "+" ".repeat(so)+"^".repeat(Tr))}else if(kt>At){if(le>ht){const so=Math.max(Math.min(le-ht,ro),1);Ot.push("   |  "+"^".repeat(so))}ht+=ro+Ci}}break}return Ot.join(`
`)}var K="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",se=l(K),$e=l(K+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),lt=/[>/="'\u0009\u000a\u000c\u0020]/,We={};function rt(C){if(We.hasOwnProperty(C))return We[C];const ne=lt.test(C);return ne&&console.error(`unsafe attribute name: ${C}`),We[C]=!ne}var jt={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},sn=l("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),Oe=l("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");function Xe(C){if(Jt(C)){const ne={};for(let le=0;le<C.length;le++){const ge=C[le],Ge=Xe(Pn(ge)?Bt(ge):ge);if(Ge)for(const ht in Ge)ne[ht]=Ge[ht]}return ne}else if(ln(C))return C}var Ue=/;(?![^(]*\))/g,Qe=/:(.+)/;function Bt(C){const ne={};return C.split(Ue).forEach(le=>{if(le){const ge=le.split(Qe);ge.length>1&&(ne[ge[0].trim()]=ge[1].trim())}}),ne}function Yt(C){let ne="";if(!C)return ne;for(const le in C){const ge=C[le],Ge=le.startsWith("--")?le:_i(le);(Pn(ge)||typeof ge=="number"&&sn(Ge))&&(ne+=`${Ge}:${ge};`)}return ne}function an(C){let ne="";if(Pn(C))ne=C;else if(Jt(C))for(let le=0;le<C.length;le++){const ge=an(C[le]);ge&&(ne+=ge+" ")}else if(ln(C))for(const le in C)C[le]&&(ne+=le+" ");return ne.trim()}var Vn="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Ao="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Io="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Yn=l(Vn),pr=l(Ao),Jn=l(Io),gr=/["'&<>]/;function mr(C){const ne=""+C,le=gr.exec(ne);if(!le)return ne;let ge="",Ge,ht,Ot=0;for(ht=le.index;ht<ne.length;ht++){switch(ne.charCodeAt(ht)){case 34:Ge="&quot;";break;case 38:Ge="&amp;";break;case 39:Ge="&#39;";break;case 60:Ge="&lt;";break;case 62:Ge="&gt;";break;default:continue}Ot!==ht&&(ge+=ne.substring(Ot,ht)),Ot=ht+1,ge+=Ge}return Ot!==ht?ge+ne.substring(Ot,ht):ge}var hi=/^-?>|<!--|-->|--!>|<!-$/g;function br(C){return C.replace(hi,"")}function vr(C,ne){if(C.length!==ne.length)return!1;let le=!0;for(let ge=0;le&&ge<C.length;ge++)le=Xn(C[ge],ne[ge]);return le}function Xn(C,ne){if(C===ne)return!0;let le=Ro(C),ge=Ro(ne);if(le||ge)return le&&ge?C.getTime()===ne.getTime():!1;if(le=Jt(C),ge=Jt(ne),le||ge)return le&&ge?vr(C,ne):!1;if(le=ln(C),ge=ln(ne),le||ge){if(!le||!ge)return!1;const Ge=Object.keys(C).length,ht=Object.keys(ne).length;if(Ge!==ht)return!1;for(const Ot in C){const At=C.hasOwnProperty(Ot),kt=ne.hasOwnProperty(Ot);if(At&&!kt||!At&&kt||!Xn(C[Ot],ne[Ot]))return!1}}return String(C)===String(ne)}function fi(C,ne){return C.findIndex(le=>Xn(le,ne))}var pi=C=>C==null?"":ln(C)?JSON.stringify(C,wr,2):String(C),wr=(C,ne)=>Rn(ne)?{[`Map(${ne.size})`]:[...ne.entries()].reduce((le,[ge,Ge])=>(le[`${ge} =>`]=Ge,le),{})}:Xt(ne)?{[`Set(${ne.size})`]:[...ne.values()]}:ln(ne)&&!Jt(ne)&&!yi(ne)?String(ne):ne,yr=["bigInt","optionalChaining","nullishCoalescingOperator"],Mo=Object.freeze({}),Lo=Object.freeze([]),No=()=>{},Gn=()=>!1,Zn=/^on[^a-z]/,Qn=C=>Zn.test(C),eo=C=>C.startsWith("onUpdate:"),gi=Object.assign,mi=(C,ne)=>{const le=C.indexOf(ne);le>-1&&C.splice(le,1)},bi=Object.prototype.hasOwnProperty,vi=(C,ne)=>bi.call(C,ne),Jt=Array.isArray,Rn=C=>Dn(C)==="[object Map]",Xt=C=>Dn(C)==="[object Set]",Ro=C=>C instanceof Date,Po=C=>typeof C=="function",Pn=C=>typeof C=="string",kr=C=>typeof C=="symbol",ln=C=>C!==null&&typeof C=="object",to=C=>ln(C)&&Po(C.then)&&Po(C.catch),wi=Object.prototype.toString,Dn=C=>wi.call(C),xr=C=>Dn(C).slice(8,-1),yi=C=>Dn(C)==="[object Object]",ki=C=>Pn(C)&&C!=="NaN"&&C[0]!=="-"&&""+parseInt(C,10)===C,xi=l(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fn=C=>{const ne=Object.create(null);return le=>ne[le]||(ne[le]=C(le))},Ei=/-(\w)/g,Si=Fn(C=>C.replace(Ei,(ne,le)=>le?le.toUpperCase():"")),Er=/\B([A-Z])/g,_i=Fn(C=>C.replace(Er,"-$1").toLowerCase()),jn=Fn(C=>C.charAt(0).toUpperCase()+C.slice(1)),Sr=Fn(C=>C?`on${jn(C)}`:""),Do=(C,ne)=>C!==ne&&(C===C||ne===ne),_r=(C,ne)=>{for(let le=0;le<C.length;le++)C[le](ne)},no=(C,ne,le)=>{Object.defineProperty(C,ne,{configurable:!0,enumerable:!1,value:le})},oo=C=>{const ne=parseFloat(C);return isNaN(ne)?C:ne},io,Ti=()=>io||(io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});s.EMPTY_ARR=Lo,s.EMPTY_OBJ=Mo,s.NO=Gn,s.NOOP=No,s.PatchFlagNames=d,s.babelParserDefaultPlugins=yr,s.camelize=Si,s.capitalize=jn,s.def=no,s.escapeHtml=mr,s.escapeHtmlComment=br,s.extend=gi,s.generateCodeFrame=A,s.getGlobalThis=Ti,s.hasChanged=Do,s.hasOwn=vi,s.hyphenate=_i,s.invokeArrayFns=_r,s.isArray=Jt,s.isBooleanAttr=$e,s.isDate=Ro,s.isFunction=Po,s.isGloballyWhitelisted=y,s.isHTMLTag=Yn,s.isIntegerKey=ki,s.isKnownAttr=Oe,s.isMap=Rn,s.isModelListener=eo,s.isNoUnitNumericStyleProp=sn,s.isObject=ln,s.isOn=Qn,s.isPlainObject=yi,s.isPromise=to,s.isReservedProp=xi,s.isSSRSafeAttrName=rt,s.isSVGTag=pr,s.isSet=Xt,s.isSpecialBooleanAttr=se,s.isString=Pn,s.isSymbol=kr,s.isVoidTag=Jn,s.looseEqual=Xn,s.looseIndexOf=fi,s.makeMap=l,s.normalizeClass=an,s.normalizeStyle=Xe,s.objectToString=wi,s.parseStringStyle=Bt,s.propsToAttrMap=jt,s.remove=mi,s.slotFlagsText=g,s.stringifyStyle=Yt,s.toDisplayString=pi,s.toHandlerKey=Sr,s.toNumber=oo,s.toRawType=xr,s.toTypeString=Dn}}),f=u({"node_modules/@vue/shared/index.js"(s,l){l.exports=R()}}),m=u({"node_modules/@vue/reactivity/dist/reactivity.cjs.js"(s){Object.defineProperty(s,"__esModule",{value:!0});var l=f(),d=new WeakMap,g=[],k,y=Symbol("iterate"),S=Symbol("Map key iterate");function A(h){return h&&h._isEffect===!0}function K(h,D=l.EMPTY_OBJ){A(h)&&(h=h.raw);const H=lt(h,D);return D.lazy||H(),H}function se(h){h.active&&(We(h),h.options.onStop&&h.options.onStop(),h.active=!1)}var $e=0;function lt(h,D){const H=function(){if(!H.active)return h();if(!g.includes(H)){We(H);try{return Oe(),g.push(H),k=H,h()}finally{g.pop(),Xe(),k=g[g.length-1]}}};return H.id=$e++,H.allowRecurse=!!D.allowRecurse,H._isEffect=!0,H.active=!0,H.raw=h,H.deps=[],H.options=D,H}function We(h){const{deps:D}=h;if(D.length){for(let H=0;H<D.length;H++)D[H].delete(h);D.length=0}}var rt=!0,jt=[];function sn(){jt.push(rt),rt=!1}function Oe(){jt.push(rt),rt=!0}function Xe(){const h=jt.pop();rt=h===void 0?!0:h}function Ue(h,D,H){if(!rt||k===void 0)return;let de=d.get(h);de||d.set(h,de=new Map);let ie=de.get(H);ie||de.set(H,ie=new Set),ie.has(k)||(ie.add(k),k.deps.push(ie),k.options.onTrack&&k.options.onTrack({effect:k,target:h,type:D,key:H}))}function Qe(h,D,H,de,ie,_e){const je=d.get(h);if(!je)return;const gt=new Set,It=Tt=>{Tt&&Tt.forEach(Gt=>{(Gt!==k||Gt.allowRecurse)&&gt.add(Gt)})};if(D==="clear")je.forEach(It);else if(H==="length"&&l.isArray(h))je.forEach((Tt,Gt)=>{(Gt==="length"||Gt>=de)&&It(Tt)});else switch(H!==void 0&&It(je.get(H)),D){case"add":l.isArray(h)?l.isIntegerKey(H)&&It(je.get("length")):(It(je.get(y)),l.isMap(h)&&It(je.get(S)));break;case"delete":l.isArray(h)||(It(je.get(y)),l.isMap(h)&&It(je.get(S)));break;case"set":l.isMap(h)&&It(je.get(y));break}const jo=Tt=>{Tt.options.onTrigger&&Tt.options.onTrigger({effect:Tt,target:h,key:H,type:D,newValue:de,oldValue:ie,oldTarget:_e}),Tt.options.scheduler?Tt.options.scheduler(Tt):Tt()};gt.forEach(jo)}var Bt=l.makeMap("__proto__,__v_isRef,__isVue"),Yt=new Set(Object.getOwnPropertyNames(Symbol).map(h=>Symbol[h]).filter(l.isSymbol)),an=Jn(),Vn=Jn(!1,!0),Ao=Jn(!0),Io=Jn(!0,!0),Yn=pr();function pr(){const h={};return["includes","indexOf","lastIndexOf"].forEach(D=>{h[D]=function(...H){const de=C(this);for(let _e=0,je=this.length;_e<je;_e++)Ue(de,"get",_e+"");const ie=de[D](...H);return ie===-1||ie===!1?de[D](...H.map(C)):ie}}),["push","pop","shift","unshift","splice"].forEach(D=>{h[D]=function(...H){sn();const de=C(this)[D].apply(this,H);return Xe(),de}}),h}function Jn(h=!1,D=!1){return function(de,ie,_e){if(ie==="__v_isReactive")return!h;if(ie==="__v_isReadonly")return h;if(ie==="__v_raw"&&_e===(h?D?Si:Ei:D?Fn:xi).get(de))return de;const je=l.isArray(de);if(!h&&je&&l.hasOwn(Yn,ie))return Reflect.get(Yn,ie,_e);const gt=Reflect.get(de,ie,_e);return(l.isSymbol(ie)?Yt.has(ie):Bt(ie))||(h||Ue(de,"get",ie),D)?gt:ge(gt)?!je||!l.isIntegerKey(ie)?gt.value:gt:l.isObject(gt)?h?Do(gt):jn(gt):gt}}var gr=hi(),mr=hi(!0);function hi(h=!1){return function(H,de,ie,_e){let je=H[de];if(!h&&(ie=C(ie),je=C(je),!l.isArray(H)&&ge(je)&&!ge(ie)))return je.value=ie,!0;const gt=l.isArray(H)&&l.isIntegerKey(de)?Number(de)<H.length:l.hasOwn(H,de),It=Reflect.set(H,de,ie,_e);return H===C(_e)&&(gt?l.hasChanged(ie,je)&&Qe(H,"set",de,ie,je):Qe(H,"add",de,ie)),It}}function br(h,D){const H=l.hasOwn(h,D),de=h[D],ie=Reflect.deleteProperty(h,D);return ie&&H&&Qe(h,"delete",D,void 0,de),ie}function vr(h,D){const H=Reflect.has(h,D);return(!l.isSymbol(D)||!Yt.has(D))&&Ue(h,"has",D),H}function Xn(h){return Ue(h,"iterate",l.isArray(h)?"length":y),Reflect.ownKeys(h)}var fi={get:an,set:gr,deleteProperty:br,has:vr,ownKeys:Xn},pi={get:Ao,set(h,D){return console.warn(`Set operation on key "${String(D)}" failed: target is readonly.`,h),!0},deleteProperty(h,D){return console.warn(`Delete operation on key "${String(D)}" failed: target is readonly.`,h),!0}},wr=l.extend({},fi,{get:Vn,set:mr}),yr=l.extend({},pi,{get:Io}),Mo=h=>l.isObject(h)?jn(h):h,Lo=h=>l.isObject(h)?Do(h):h,No=h=>h,Gn=h=>Reflect.getPrototypeOf(h);function Zn(h,D,H=!1,de=!1){h=h.__v_raw;const ie=C(h),_e=C(D);D!==_e&&!H&&Ue(ie,"get",D),!H&&Ue(ie,"get",_e);const{has:je}=Gn(ie),gt=de?No:H?Lo:Mo;if(je.call(ie,D))return gt(h.get(D));if(je.call(ie,_e))return gt(h.get(_e));h!==ie&&h.get(D)}function Qn(h,D=!1){const H=this.__v_raw,de=C(H),ie=C(h);return h!==ie&&!D&&Ue(de,"has",h),!D&&Ue(de,"has",ie),h===ie?H.has(h):H.has(h)||H.has(ie)}function eo(h,D=!1){return h=h.__v_raw,!D&&Ue(C(h),"iterate",y),Reflect.get(h,"size",h)}function gi(h){h=C(h);const D=C(this);return Gn(D).has.call(D,h)||(D.add(h),Qe(D,"add",h,h)),this}function mi(h,D){D=C(D);const H=C(this),{has:de,get:ie}=Gn(H);let _e=de.call(H,h);_e?ki(H,de,h):(h=C(h),_e=de.call(H,h));const je=ie.call(H,h);return H.set(h,D),_e?l.hasChanged(D,je)&&Qe(H,"set",h,D,je):Qe(H,"add",h,D),this}function bi(h){const D=C(this),{has:H,get:de}=Gn(D);let ie=H.call(D,h);ie?ki(D,H,h):(h=C(h),ie=H.call(D,h));const _e=de?de.call(D,h):void 0,je=D.delete(h);return ie&&Qe(D,"delete",h,void 0,_e),je}function vi(){const h=C(this),D=h.size!==0,H=l.isMap(h)?new Map(h):new Set(h),de=h.clear();return D&&Qe(h,"clear",void 0,void 0,H),de}function Jt(h,D){return function(de,ie){const _e=this,je=_e.__v_raw,gt=C(je),It=D?No:h?Lo:Mo;return!h&&Ue(gt,"iterate",y),je.forEach((jo,Tt)=>de.call(ie,It(jo),It(Tt),_e))}}function Rn(h,D,H){return function(...de){const ie=this.__v_raw,_e=C(ie),je=l.isMap(_e),gt=h==="entries"||h===Symbol.iterator&&je,It=h==="keys"&&je,jo=ie[h](...de),Tt=H?No:D?Lo:Mo;return!D&&Ue(_e,"iterate",It?S:y),{next(){const{value:Gt,done:Cr}=jo.next();return Cr?{value:Gt,done:Cr}:{value:gt?[Tt(Gt[0]),Tt(Gt[1])]:Tt(Gt),done:Cr}},[Symbol.iterator](){return this}}}}function Xt(h){return function(...D){{const H=D[0]?`on key "${D[0]}" `:"";console.warn(`${l.capitalize(h)} operation ${H}failed: target is readonly.`,C(this))}return h==="delete"?!1:this}}function Ro(){const h={get(_e){return Zn(this,_e)},get size(){return eo(this)},has:Qn,add:gi,set:mi,delete:bi,clear:vi,forEach:Jt(!1,!1)},D={get(_e){return Zn(this,_e,!1,!0)},get size(){return eo(this)},has:Qn,add:gi,set:mi,delete:bi,clear:vi,forEach:Jt(!1,!0)},H={get(_e){return Zn(this,_e,!0)},get size(){return eo(this,!0)},has(_e){return Qn.call(this,_e,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:Jt(!0,!1)},de={get(_e){return Zn(this,_e,!0,!0)},get size(){return eo(this,!0)},has(_e){return Qn.call(this,_e,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:Jt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(_e=>{h[_e]=Rn(_e,!1,!1),H[_e]=Rn(_e,!0,!1),D[_e]=Rn(_e,!1,!0),de[_e]=Rn(_e,!0,!0)}),[h,H,D,de]}var[Po,Pn,kr,ln]=Ro();function to(h,D){const H=D?h?ln:kr:h?Pn:Po;return(de,ie,_e)=>ie==="__v_isReactive"?!h:ie==="__v_isReadonly"?h:ie==="__v_raw"?de:Reflect.get(l.hasOwn(H,ie)&&ie in de?H:de,ie,_e)}var wi={get:to(!1,!1)},Dn={get:to(!1,!0)},xr={get:to(!0,!1)},yi={get:to(!0,!0)};function ki(h,D,H){const de=C(H);if(de!==H&&D.call(h,de)){const ie=l.toRawType(h);console.warn(`Reactive ${ie} contains both the raw and reactive versions of the same object${ie==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var xi=new WeakMap,Fn=new WeakMap,Ei=new WeakMap,Si=new WeakMap;function Er(h){switch(h){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _i(h){return h.__v_skip||!Object.isExtensible(h)?0:Er(l.toRawType(h))}function jn(h){return h&&h.__v_isReadonly?h:no(h,!1,fi,wi,xi)}function Sr(h){return no(h,!1,wr,Dn,Fn)}function Do(h){return no(h,!0,pi,xr,Ei)}function _r(h){return no(h,!0,yr,yi,Si)}function no(h,D,H,de,ie){if(!l.isObject(h))return console.warn(`value cannot be made reactive: ${String(h)}`),h;if(h.__v_raw&&!(D&&h.__v_isReactive))return h;const _e=ie.get(h);if(_e)return _e;const je=_i(h);if(je===0)return h;const gt=new Proxy(h,je===2?de:H);return ie.set(h,gt),gt}function oo(h){return io(h)?oo(h.__v_raw):!!(h&&h.__v_isReactive)}function io(h){return!!(h&&h.__v_isReadonly)}function Ti(h){return oo(h)||io(h)}function C(h){return h&&C(h.__v_raw)||h}function ne(h){return l.def(h,"__v_skip",!0),h}var le=h=>l.isObject(h)?jn(h):h;function ge(h){return!!(h&&h.__v_isRef===!0)}function Ge(h){return At(h)}function ht(h){return At(h,!0)}var Ot=class{constructor(h,D=!1){this._shallow=D,this.__v_isRef=!0,this._rawValue=D?h:C(h),this._value=D?h:le(h)}get value(){return Ue(C(this),"get","value"),this._value}set value(h){h=this._shallow?h:C(h),l.hasChanged(h,this._rawValue)&&(this._rawValue=h,this._value=this._shallow?h:le(h),Qe(C(this),"set","value",h))}};function At(h,D=!1){return ge(h)?h:new Ot(h,D)}function kt(h){Qe(C(h),"set","value",h.value)}function Fo(h){return ge(h)?h.value:h}var ro={get:(h,D,H)=>Fo(Reflect.get(h,D,H)),set:(h,D,H,de)=>{const ie=h[D];return ge(ie)&&!ge(H)?(ie.value=H,!0):Reflect.set(h,D,H,de)}};function Ci(h){return oo(h)?h:new Proxy(h,ro)}var so=class{constructor(h){this.__v_isRef=!0;const{get:D,set:H}=h(()=>Ue(this,"get","value"),()=>Qe(this,"set","value"));this._get=D,this._set=H}get value(){return this._get()}set value(h){this._set(h)}};function Tr(h){return new so(h)}function Od(h){Ti(h)||console.warn("toRefs() expects a reactive object but received a plain one.");const D=l.isArray(h)?new Array(h.length):{};for(const H in h)D[H]=la(h,H);return D}var Ad=class{constructor(h,D){this._object=h,this._key=D,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(h){this._object[this._key]=h}};function la(h,D){return ge(h[D])?h[D]:new Ad(h,D)}var Id=class{constructor(h,D,H){this._setter=D,this._dirty=!0,this.__v_isRef=!0,this.effect=K(h,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,Qe(C(this),"set","value"))}}),this.__v_isReadonly=H}get value(){const h=C(this);return h._dirty&&(h._value=this.effect(),h._dirty=!1),Ue(h,"get","value"),h._value}set value(h){this._setter(h)}};function Md(h){let D,H;return l.isFunction(h)?(D=h,H=()=>{console.warn("Write operation failed: computed value is readonly")}):(D=h.get,H=h.set),new Id(D,H,l.isFunction(h)||!h.set)}s.ITERATE_KEY=y,s.computed=Md,s.customRef=Tr,s.effect=K,s.enableTracking=Oe,s.isProxy=Ti,s.isReactive=oo,s.isReadonly=io,s.isRef=ge,s.markRaw=ne,s.pauseTracking=sn,s.proxyRefs=Ci,s.reactive=jn,s.readonly=Do,s.ref=Ge,s.resetTracking=Xe,s.shallowReactive=Sr,s.shallowReadonly=_r,s.shallowRef=ht,s.stop=se,s.toRaw=C,s.toRef=la,s.toRefs=Od,s.track=Ue,s.trigger=Qe,s.triggerRef=kt,s.unref=Fo}}),x=u({"node_modules/@vue/reactivity/index.js"(s,l){l.exports=m()}}),_={};p(_,{default:()=>Bd}),e.exports=O(_);var N=!1,W=!1,$=[],ve=-1;function z(s){L(s)}function L(s){$.includes(s)||$.push(s),P()}function T(s){let l=$.indexOf(s);l!==-1&&l>ve&&$.splice(l,1)}function P(){!W&&!N&&(N=!0,queueMicrotask(V))}function V(){N=!1,W=!0;for(let s=0;s<$.length;s++)$[s](),ve=s;$.length=0,ve=-1,W=!1}var Z,X,oe,Pe,Ae=!0;function tt(s){Ae=!1,s(),Ae=!0}function ot(s){Z=s.reactive,oe=s.release,X=l=>s.effect(l,{scheduler:d=>{Ae?z(d):d()}}),Pe=s.raw}function at(s){X=s}function wt(s){let l=()=>{};return[g=>{let k=X(g);return s._x_effects||(s._x_effects=new Set,s._x_runEffects=()=>{s._x_effects.forEach(y=>y())}),s._x_effects.add(k),l=()=>{k!==void 0&&(s._x_effects.delete(k),oe(k))},k},()=>{l()}]}function Et(s,l,d={}){s.dispatchEvent(new CustomEvent(l,{detail:d,bubbles:!0,composed:!0,cancelable:!0}))}function xe(s,l){if(typeof ShadowRoot=="function"&&s instanceof ShadowRoot){Array.from(s.children).forEach(k=>xe(k,l));return}let d=!1;if(l(s,()=>d=!0),d)return;let g=s.firstElementChild;for(;g;)xe(g,l),g=g.nextElementSibling}function ue(s,...l){console.warn(`Alpine Warning: ${s}`,...l)}var Re=!1;function Te(){Re&&ue("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Re=!0,document.body||ue("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Et(document,"alpine:init"),Et(document,"alpine:initializing"),pt(),it(l=>ye(l,xe)),me(l=>j(l)),G((l,d)=>{Dt(l,d).forEach(g=>g())});let s=l=>!qe(l.parentElement,!0);Array.from(document.querySelectorAll(ee())).filter(s).forEach(l=>{ye(l)}),Et(document,"alpine:initialized")}var we=[],ae=[];function Ze(){return we.map(s=>s())}function ee(){return we.concat(ae).map(s=>s())}function ce(s){we.push(s)}function Be(s){ae.push(s)}function qe(s,l=!1){return Ee(s,d=>{if((l?ee():Ze()).some(k=>d.matches(k)))return!0})}function Ee(s,l){if(s){if(l(s))return s;if(s._x_teleportBack&&(s=s._x_teleportBack),!!s.parentElement)return Ee(s.parentElement,l)}}function fe(s){return Ze().some(l=>s.matches(l))}var _t=[];function ct(s){_t.push(s)}function ye(s,l=xe,d=()=>{}){ii(()=>{l(s,(g,k)=>{d(g,k),_t.forEach(y=>y(g,k)),Dt(g,g.attributes).forEach(y=>y()),g._x_ignore&&k()})})}function j(s){xe(s,l=>{Se(l),Ye(l)})}var Y=[],ke=[],Q=[];function it(s){Q.push(s)}function me(s,l){typeof l=="function"?(s._x_cleanups||(s._x_cleanups=[]),s._x_cleanups.push(l)):(l=s,ke.push(l))}function G(s){Y.push(s)}function te(s,l,d){s._x_attributeCleanups||(s._x_attributeCleanups={}),s._x_attributeCleanups[l]||(s._x_attributeCleanups[l]=[]),s._x_attributeCleanups[l].push(d)}function Se(s,l){s._x_attributeCleanups&&Object.entries(s._x_attributeCleanups).forEach(([d,g])=>{(l===void 0||l.includes(d))&&(g.forEach(k=>k()),delete s._x_attributeCleanups[d])})}function Ye(s){if(s._x_cleanups)for(;s._x_cleanups.length;)s._x_cleanups.pop()()}var Me=new MutationObserver(So),mt=!1;function pt(){Me.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),mt=!0}function Ut(){Eo(),Me.disconnect(),mt=!1}var $t=[],kn=!1;function Eo(){$t=$t.concat(Me.takeRecords()),$t.length&&!kn&&(kn=!0,queueMicrotask(()=>{An(),kn=!1}))}function An(){So($t),$t.length=0}function dt(s){if(!mt)return s();Ut();let l=s();return pt(),l}var Kn=!1,In=[];function Xi(){Kn=!0}function Gi(){Kn=!1,So(In),In=[]}function So(s){if(Kn){In=In.concat(s);return}let l=[],d=[],g=new Map,k=new Map;for(let y=0;y<s.length;y++)if(!s[y].target._x_ignoreMutationObserver&&(s[y].type==="childList"&&(s[y].addedNodes.forEach(S=>S.nodeType===1&&l.push(S)),s[y].removedNodes.forEach(S=>S.nodeType===1&&d.push(S))),s[y].type==="attributes")){let S=s[y].target,A=s[y].attributeName,K=s[y].oldValue,se=()=>{g.has(S)||g.set(S,[]),g.get(S).push({name:A,value:S.getAttribute(A)})},$e=()=>{k.has(S)||k.set(S,[]),k.get(S).push(A)};S.hasAttribute(A)&&K===null?se():S.hasAttribute(A)?($e(),se()):$e()}k.forEach((y,S)=>{Se(S,y)}),g.forEach((y,S)=>{Y.forEach(A=>A(S,y))});for(let y of d)l.includes(y)||(ke.forEach(S=>S(y)),j(y));l.forEach(y=>{y._x_ignoreSelf=!0,y._x_ignore=!0});for(let y of l)d.includes(y)||y.isConnected&&(delete y._x_ignoreSelf,delete y._x_ignore,Q.forEach(S=>S(y)),y._x_ignore=!0,y._x_ignoreSelf=!0);l.forEach(y=>{delete y._x_ignoreSelf,delete y._x_ignore}),l=null,d=null,g=null,k=null}function ei(s){return Mn(hn(s))}function xn(s,l,d){return s._x_dataStack=[l,...hn(d||s)],()=>{s._x_dataStack=s._x_dataStack.filter(g=>g!==l)}}function hn(s){return s._x_dataStack?s._x_dataStack:typeof ShadowRoot=="function"&&s instanceof ShadowRoot?hn(s.host):s.parentNode?hn(s.parentNode):[]}function Mn(s){return new Proxy({objects:s},Zi)}var Zi={ownKeys({objects:s}){return Array.from(new Set(s.flatMap(l=>Object.keys(l))))},has({objects:s},l){return l==Symbol.unscopables?!1:s.some(d=>Object.prototype.hasOwnProperty.call(d,l))},get({objects:s},l,d){return l=="toJSON"?Qi:Reflect.get(s.find(g=>Object.prototype.hasOwnProperty.call(g,l))||{},l,d)},set({objects:s},l,d,g){const k=s.find(S=>Object.prototype.hasOwnProperty.call(S,l))||s[s.length-1],y=Object.getOwnPropertyDescriptor(k,l);return y!=null&&y.set&&(y!=null&&y.get)?Reflect.set(k,l,d,g):Reflect.set(k,l,d)}};function Qi(){return Reflect.ownKeys(this).reduce((l,d)=>(l[d]=Reflect.get(this,d),l),{})}function ti(s){let l=g=>typeof g=="object"&&!Array.isArray(g)&&g!==null,d=(g,k="")=>{Object.entries(Object.getOwnPropertyDescriptors(g)).forEach(([y,{value:S,enumerable:A}])=>{if(A===!1||S===void 0)return;let K=k===""?y:`${k}.${y}`;typeof S=="object"&&S!==null&&S._x_interceptor?g[y]=S.initialize(s,K,y):l(S)&&S!==g&&!(S instanceof Element)&&d(S,K)})};return d(s)}function ni(s,l=()=>{}){let d={initialValue:void 0,_x_interceptor:!0,initialize(g,k,y){return s(this.initialValue,()=>er(g,k),S=>_o(g,k,S),k,y)}};return l(d),g=>{if(typeof g=="object"&&g!==null&&g._x_interceptor){let k=d.initialize.bind(d);d.initialize=(y,S,A)=>{let K=g.initialize(y,S,A);return d.initialValue=K,k(y,S,A)}}else d.initialValue=g;return d}}function er(s,l){return l.split(".").reduce((d,g)=>d[g],s)}function _o(s,l,d){if(typeof l=="string"&&(l=l.split(".")),l.length===1)s[l[0]]=d;else{if(l.length===0)throw error;return s[l[0]]||(s[l[0]]={}),_o(s[l[0]],l.slice(1),d)}}var oi={};function zt(s,l){oi[s]=l}function v(s,l){return Object.entries(oi).forEach(([d,g])=>{let k=null;function y(){if(k)return k;{let[S,A]=To(l);return k={interceptor:ni,...S},me(l,A),k}}Object.defineProperty(s,`$${d}`,{get(){return g(l,y())},enumerable:!1})}),s}function E(s,l,d,...g){try{return d(...g)}catch(k){I(k,s,l)}}function I(s,l,d=void 0){Object.assign(s,{el:l,expression:d}),console.warn(`Alpine Expression Error: ${s.message}

${d?'Expression: "'+d+`"

`:""}`,l),setTimeout(()=>{throw s},0)}var M=!0;function U(s){let l=M;M=!1;let d=s();return M=l,d}function J(s,l,d={}){let g;return q(s,l)(k=>g=k,d),g}function q(...s){return re(...s)}var re=pe;function he(s){re=s}function pe(s,l){let d={};v(d,s);let g=[d,...hn(s)],k=typeof l=="function"?De(g,l):Ce(g,l,s);return E.bind(null,s,l,k)}function De(s,l){return(d=()=>{},{scope:g={},params:k=[]}={})=>{let y=l.apply(Mn([g,...s]),k);Le(d,y)}}var Ne={};function Je(s,l){if(Ne[s])return Ne[s];let d=Object.getPrototypeOf(async function(){}).constructor,g=/^[\n\s]*if.*\(.*\)/.test(s.trim())||/^(let|const)\s/.test(s.trim())?`(async()=>{ ${s} })()`:s,y=(()=>{try{let S=new d(["__self","scope"],`with (scope) { __self.result = ${g} }; __self.finished = true; return __self.result;`);return Object.defineProperty(S,"name",{value:`[Alpine] ${s}`}),S}catch(S){return I(S,l,s),Promise.resolve()}})();return Ne[s]=y,y}function Ce(s,l,d){let g=Je(l,d);return(k=()=>{},{scope:y={},params:S=[]}={})=>{g.result=void 0,g.finished=!1;let A=Mn([y,...s]);if(typeof g=="function"){let K=g(g,A).catch(se=>I(se,d,l));g.finished?(Le(k,g.result,A,S,d),g.result=void 0):K.then(se=>{Le(k,se,A,S,d)}).catch(se=>I(se,d,l)).finally(()=>g.result=void 0)}}}function Le(s,l,d,g,k){if(M&&typeof l=="function"){let y=l.apply(d,g);y instanceof Promise?y.then(S=>Le(s,S,d,g)).catch(S=>I(S,k,l)):s(y)}else typeof l=="object"&&l instanceof Promise?l.then(y=>s(y)):s(l)}var He="x-";function nt(s=""){return He+s}function Ke(s){He=s}var ut={};function Fe(s,l){return ut[s]=l,{before(d){if(!ut[d]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const g=Ln.indexOf(d);Ln.splice(g>=0?g:Ln.indexOf("DEFAULT"),0,s)}}}function Dt(s,l,d){if(l=Array.from(l),s._x_virtualDirectives){let y=Object.entries(s._x_virtualDirectives).map(([A,K])=>({name:A,value:K})),S=yt(y);y=y.map(A=>S.find(K=>K.name===A.name)?{name:`x-bind:${A.name}`,value:`"${A.value}"`}:A),l=l.concat(y)}let g={};return l.map(Sn((y,S)=>g[y]=S)).filter(_n).map(Ic(g,d)).sort(Mc).map(y=>ri(s,y))}function yt(s){return Array.from(s).map(Sn()).filter(l=>!_n(l))}var Vt=!1,nn=new Map,En=Symbol();function ii(s){Vt=!0;let l=Symbol();En=l,nn.set(l,[]);let d=()=>{for(;nn.get(l).length;)nn.get(l).shift()();nn.delete(l)},g=()=>{Vt=!1,d()};s(d),g()}function To(s){let l=[],d=A=>l.push(A),[g,k]=wt(s);return l.push(k),[{Alpine:Oo,effect:g,cleanup:d,evaluateLater:q.bind(q,s),evaluate:J.bind(J,s)},()=>l.forEach(A=>A())]}function ri(s,l){let d=()=>{},g=ut[l.type]||d,[k,y]=To(s);te(s,l.original,y);let S=()=>{s._x_ignore||s._x_ignoreSelf||(g.inline&&g.inline(s,l,k),g=g.bind(g,s,l,k),Vt?nn.get(En).push(g):g())};return S.runCleanups=y,S}var on=(s,l)=>({name:d,value:g})=>(d.startsWith(s)&&(d=d.replace(s,l)),{name:d,value:g}),Co=s=>s;function Sn(s=()=>{}){return({name:l,value:d})=>{let{name:g,value:k}=fn.reduce((y,S)=>S(y),{name:l,value:d});return g!==l&&s(g,l),{name:g,value:k}}}var fn=[];function rn(s){fn.push(s)}function _n({name:s}){return si().test(s)}var si=()=>new RegExp(`^${He}([^:^.]+)\\b`);function Ic(s,l){return({name:d,value:g})=>{let k=d.match(si()),y=d.match(/:([a-zA-Z0-9\-_:]+)/),S=d.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],A=l||s[d]||d;return{type:k?k[1]:null,value:y?y[1]:null,modifiers:S.map(K=>K.replace(".","")),expression:g,original:A}}}var tr="DEFAULT",Ln=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",tr,"teleport"];function Mc(s,l){let d=Ln.indexOf(s.type)===-1?tr:s.type,g=Ln.indexOf(l.type)===-1?tr:l.type;return Ln.indexOf(d)-Ln.indexOf(g)}var nr=[],or=!1;function ir(s=()=>{}){return queueMicrotask(()=>{or||setTimeout(()=>{rr()})}),new Promise(l=>{nr.push(()=>{s(),l()})})}function rr(){for(or=!1;nr.length;)nr.shift()()}function Lc(){or=!0}function sr(s,l){return Array.isArray(l)?Ds(s,l.join(" ")):typeof l=="object"&&l!==null?Nc(s,l):typeof l=="function"?sr(s,l()):Ds(s,l)}function Ds(s,l){let d=k=>k.split(" ").filter(y=>!s.classList.contains(y)).filter(Boolean),g=k=>(s.classList.add(...k),()=>{s.classList.remove(...k)});return l=l===!0?l="":l||"",g(d(l))}function Nc(s,l){let d=A=>A.split(" ").filter(Boolean),g=Object.entries(l).flatMap(([A,K])=>K?d(A):!1).filter(Boolean),k=Object.entries(l).flatMap(([A,K])=>K?!1:d(A)).filter(Boolean),y=[],S=[];return k.forEach(A=>{s.classList.contains(A)&&(s.classList.remove(A),S.push(A))}),g.forEach(A=>{s.classList.contains(A)||(s.classList.add(A),y.push(A))}),()=>{S.forEach(A=>s.classList.add(A)),y.forEach(A=>s.classList.remove(A))}}function ai(s,l){return typeof l=="object"&&l!==null?Rc(s,l):Pc(s,l)}function Rc(s,l){let d={};return Object.entries(l).forEach(([g,k])=>{d[g]=s.style[g],g.startsWith("--")||(g=Dc(g)),s.style.setProperty(g,k)}),setTimeout(()=>{s.style.length===0&&s.removeAttribute("style")}),()=>{ai(s,d)}}function Pc(s,l){let d=s.getAttribute("style",l);return s.setAttribute("style",l),()=>{s.setAttribute("style",d||"")}}function Dc(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ar(s,l=()=>{}){let d=!1;return function(){d?l.apply(this,arguments):(d=!0,s.apply(this,arguments))}}Fe("transition",(s,{value:l,modifiers:d,expression:g},{evaluate:k})=>{typeof g=="function"&&(g=k(g)),g!==!1&&(!g||typeof g=="boolean"?jc(s,d,l):Fc(s,g,l))});function Fc(s,l,d){Fs(s,sr,""),{enter:k=>{s._x_transition.enter.during=k},"enter-start":k=>{s._x_transition.enter.start=k},"enter-end":k=>{s._x_transition.enter.end=k},leave:k=>{s._x_transition.leave.during=k},"leave-start":k=>{s._x_transition.leave.start=k},"leave-end":k=>{s._x_transition.leave.end=k}}[d](l)}function jc(s,l,d){Fs(s,ai);let g=!l.includes("in")&&!l.includes("out")&&!d,k=g||l.includes("in")||["enter"].includes(d),y=g||l.includes("out")||["leave"].includes(d);l.includes("in")&&!g&&(l=l.filter((Xe,Ue)=>Ue<l.indexOf("out"))),l.includes("out")&&!g&&(l=l.filter((Xe,Ue)=>Ue>l.indexOf("out")));let S=!l.includes("opacity")&&!l.includes("scale"),A=S||l.includes("opacity"),K=S||l.includes("scale"),se=A?0:1,$e=K?Bo(l,"scale",95)/100:1,lt=Bo(l,"delay",0)/1e3,We=Bo(l,"origin","center"),rt="opacity, transform",jt=Bo(l,"duration",150)/1e3,sn=Bo(l,"duration",75)/1e3,Oe="cubic-bezier(0.4, 0.0, 0.2, 1)";k&&(s._x_transition.enter.during={transformOrigin:We,transitionDelay:`${lt}s`,transitionProperty:rt,transitionDuration:`${jt}s`,transitionTimingFunction:Oe},s._x_transition.enter.start={opacity:se,transform:`scale(${$e})`},s._x_transition.enter.end={opacity:1,transform:"scale(1)"}),y&&(s._x_transition.leave.during={transformOrigin:We,transitionDelay:`${lt}s`,transitionProperty:rt,transitionDuration:`${sn}s`,transitionTimingFunction:Oe},s._x_transition.leave.start={opacity:1,transform:"scale(1)"},s._x_transition.leave.end={opacity:se,transform:`scale(${$e})`})}function Fs(s,l,d={}){s._x_transition||(s._x_transition={enter:{during:d,start:d,end:d},leave:{during:d,start:d,end:d},in(g=()=>{},k=()=>{}){lr(s,l,{during:this.enter.during,start:this.enter.start,end:this.enter.end},g,k)},out(g=()=>{},k=()=>{}){lr(s,l,{during:this.leave.during,start:this.leave.start,end:this.leave.end},g,k)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(s,l,d,g){const k=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let y=()=>k(d);if(l){s._x_transition&&(s._x_transition.enter||s._x_transition.leave)?s._x_transition.enter&&(Object.entries(s._x_transition.enter.during).length||Object.entries(s._x_transition.enter.start).length||Object.entries(s._x_transition.enter.end).length)?s._x_transition.in(d):y():s._x_transition?s._x_transition.in(d):y();return}s._x_hidePromise=s._x_transition?new Promise((S,A)=>{s._x_transition.out(()=>{},()=>S(g)),s._x_transitioning&&s._x_transitioning.beforeCancel(()=>A({isFromCancelledTransition:!0}))}):Promise.resolve(g),queueMicrotask(()=>{let S=js(s);S?(S._x_hideChildren||(S._x_hideChildren=[]),S._x_hideChildren.push(s)):k(()=>{let A=K=>{let se=Promise.all([K._x_hidePromise,...(K._x_hideChildren||[]).map(A)]).then(([$e])=>$e());return delete K._x_hidePromise,delete K._x_hideChildren,se};A(s).catch(K=>{if(!K.isFromCancelledTransition)throw K})})})};function js(s){let l=s.parentNode;if(l)return l._x_hidePromise?l:js(l)}function lr(s,l,{during:d,start:g,end:k}={},y=()=>{},S=()=>{}){if(s._x_transitioning&&s._x_transitioning.cancel(),Object.keys(d).length===0&&Object.keys(g).length===0&&Object.keys(k).length===0){y(),S();return}let A,K,se;Hc(s,{start(){A=l(s,g)},during(){K=l(s,d)},before:y,end(){A(),se=l(s,k)},after:S,cleanup(){K(),se()}})}function Hc(s,l){let d,g,k,y=ar(()=>{dt(()=>{d=!0,g||l.before(),k||(l.end(),rr()),l.after(),s.isConnected&&l.cleanup(),delete s._x_transitioning})});s._x_transitioning={beforeCancels:[],beforeCancel(S){this.beforeCancels.push(S)},cancel:ar(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();y()}),finish:y},dt(()=>{l.start(),l.during()}),Lc(),requestAnimationFrame(()=>{if(d)return;let S=Number(getComputedStyle(s).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,A=Number(getComputedStyle(s).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;S===0&&(S=Number(getComputedStyle(s).animationDuration.replace("s",""))*1e3),dt(()=>{l.before()}),g=!0,requestAnimationFrame(()=>{d||(dt(()=>{l.end()}),rr(),setTimeout(s._x_transitioning.finish,S+A),k=!0)})})}function Bo(s,l,d){if(s.indexOf(l)===-1)return d;const g=s[s.indexOf(l)+1];if(!g||l==="scale"&&isNaN(g))return d;if(l==="duration"||l==="delay"){let k=g.match(/([0-9]+)ms/);if(k)return k[1]}return l==="origin"&&["top","right","left","center","bottom"].includes(s[s.indexOf(l)+2])?[g,s[s.indexOf(l)+2]].join(" "):g}var Tn=!1;function li(s,l=()=>{}){return(...d)=>Tn?l(...d):s(...d)}function Uc(s){return(...l)=>Tn&&s(...l)}function $c(s,l){s._x_dataStack&&(l._x_dataStack=s._x_dataStack,l.setAttribute("data-has-alpine-state",!0)),Tn=!0,Hs(()=>{ye(l,(d,g)=>{g(d,()=>{})})}),Tn=!1}var cr=!1;function zc(s,l){l._x_dataStack||(l._x_dataStack=s._x_dataStack),Tn=!0,cr=!0,Hs(()=>{qc(l)}),Tn=!1,cr=!1}function qc(s){let l=!1;ye(s,(g,k)=>{xe(g,(y,S)=>{if(l&&fe(y))return S();l=!0,k(y,S)})})}function Hs(s){let l=X;at((d,g)=>{let k=l(d);return oe(k),()=>{}}),s(),at(l)}function Wc(s){return Tn?cr?!0:s.hasAttribute("data-has-alpine-state"):!1}function Us(s,l,d,g=[]){switch(s._x_bindings||(s._x_bindings=Z({})),s._x_bindings[l]=d,l=g.includes("camel")?Qc(l):l,l){case"value":Kc(s,d);break;case"style":Yc(s,d);break;case"class":Vc(s,d);break;case"selected":case"checked":Jc(s,l,d);break;default:$s(s,l,d);break}}function Kc(s,l){if(s.type==="radio")s.attributes.value===void 0&&(s.value=l),window.fromModel&&(s.checked=zs(s.value,l));else if(s.type==="checkbox")Number.isInteger(l)?s.value=l:!Array.isArray(l)&&typeof l!="boolean"&&![null,void 0].includes(l)?s.value=String(l):Array.isArray(l)?s.checked=l.some(d=>zs(d,s.value)):s.checked=!!l;else if(s.tagName==="SELECT")Zc(s,l);else{if(s.value===l)return;s.value=l===void 0?"":l}}function Vc(s,l){s._x_undoAddedClasses&&s._x_undoAddedClasses(),s._x_undoAddedClasses=sr(s,l)}function Yc(s,l){s._x_undoAddedStyles&&s._x_undoAddedStyles(),s._x_undoAddedStyles=ai(s,l)}function Jc(s,l,d){$s(s,l,d),Gc(s,l,d)}function $s(s,l,d){[null,void 0,!1].includes(d)&&ed(l)?s.removeAttribute(l):(qs(l)&&(d=l),Xc(s,l,d))}function Xc(s,l,d){s.getAttribute(l)!=d&&s.setAttribute(l,d)}function Gc(s,l,d){s[l]!==d&&(s[l]=d)}function Zc(s,l){const d=[].concat(l).map(g=>g+"");Array.from(s.options).forEach(g=>{g.selected=d.includes(g.value)})}function Qc(s){return s.toLowerCase().replace(/-(\w)/g,(l,d)=>d.toUpperCase())}function zs(s,l){return s==l}function qs(s){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(s)}function ed(s){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(s)}function td(s,l,d){return s._x_bindings&&s._x_bindings[l]!==void 0?s._x_bindings[l]:Ws(s,l,d)}function nd(s,l,d,g=!0){if(s._x_bindings&&s._x_bindings[l]!==void 0)return s._x_bindings[l];if(s._x_inlineBindings&&s._x_inlineBindings[l]!==void 0){let k=s._x_inlineBindings[l];return k.extract=g,U(()=>J(s,k.expression))}return Ws(s,l,d)}function Ws(s,l,d){let g=s.getAttribute(l);return g===null?typeof d=="function"?d():d:g===""?!0:qs(l)?!![l,"true"].includes(g):g}function Ks(s,l){var d;return function(){var g=this,k=arguments,y=function(){d=null,s.apply(g,k)};clearTimeout(d),d=setTimeout(y,l)}}function Vs(s,l){let d;return function(){let g=this,k=arguments;d||(s.apply(g,k),d=!0,setTimeout(()=>d=!1,l))}}function Ys({get:s,set:l},{get:d,set:g}){let k=!0,y,S=X(()=>{const A=s(),K=d();if(k)g(dr(A)),k=!1,y=JSON.stringify(A);else{const se=JSON.stringify(A);se!==y?(g(dr(A)),y=se):(l(dr(K)),y=JSON.stringify(K))}JSON.stringify(d()),JSON.stringify(s())});return()=>{oe(S)}}function dr(s){return typeof s=="object"?JSON.parse(JSON.stringify(s)):s}function od(s){(Array.isArray(s)?s:[s]).forEach(d=>d(Oo))}var Nn={},Js=!1;function id(s,l){if(Js||(Nn=Z(Nn),Js=!0),l===void 0)return Nn[s];Nn[s]=l,typeof l=="object"&&l!==null&&l.hasOwnProperty("init")&&typeof l.init=="function"&&Nn[s].init(),ti(Nn[s])}function rd(){return Nn}var Xs={};function sd(s,l){let d=typeof l!="function"?()=>l:l;return s instanceof Element?Gs(s,d()):(Xs[s]=d,()=>{})}function ad(s){return Object.entries(Xs).forEach(([l,d])=>{Object.defineProperty(s,l,{get(){return(...g)=>d(...g)}})}),s}function Gs(s,l,d){let g=[];for(;g.length;)g.pop()();let k=Object.entries(l).map(([S,A])=>({name:S,value:A})),y=yt(k);return k=k.map(S=>y.find(A=>A.name===S.name)?{name:`x-bind:${S.name}`,value:`"${S.value}"`}:S),Dt(s,k,d).map(S=>{g.push(S.runCleanups),S()}),()=>{for(;g.length;)g.pop()()}}var Zs={};function ld(s,l){Zs[s]=l}function cd(s,l){return Object.entries(Zs).forEach(([d,g])=>{Object.defineProperty(s,d,{get(){return(...k)=>g.bind(l)(...k)},enumerable:!1})}),s}var dd={get reactive(){return Z},get release(){return oe},get effect(){return X},get raw(){return Pe},version:"3.13.2",flushAndStopDeferringMutations:Gi,dontAutoEvaluateFunctions:U,disableEffectScheduling:tt,startObservingMutations:pt,stopObservingMutations:Ut,setReactivityEngine:ot,onAttributeRemoved:te,onAttributesAdded:G,closestDataStack:hn,skipDuringClone:li,onlyDuringClone:Uc,addRootSelector:ce,addInitSelector:Be,addScopeToNode:xn,deferMutations:Xi,mapAttributes:rn,evaluateLater:q,interceptInit:ct,setEvaluator:he,mergeProxies:Mn,extractProp:nd,findClosest:Ee,onElRemoved:me,closestRoot:qe,destroyTree:j,interceptor:ni,transition:lr,setStyles:ai,mutateDom:dt,directive:Fe,entangle:Ys,throttle:Vs,debounce:Ks,evaluate:J,initTree:ye,nextTick:ir,prefixed:nt,prefix:Ke,plugin:od,magic:zt,store:id,start:Te,clone:zc,cloneNode:$c,bound:td,$data:ei,walk:xe,data:ld,bind:sd},Oo=dd,ci=w(x());zt("nextTick",()=>ir),zt("dispatch",s=>Et.bind(Et,s)),zt("watch",(s,{evaluateLater:l,effect:d})=>(g,k)=>{let y=l(g),S=!0,A,K=d(()=>y(se=>{JSON.stringify(se),S?A=se:queueMicrotask(()=>{k(se,A),A=se}),S=!1}));s._x_effects.delete(K)}),zt("store",rd),zt("data",s=>ei(s)),zt("root",s=>qe(s)),zt("refs",s=>(s._x_refs_proxy||(s._x_refs_proxy=Mn(ud(s))),s._x_refs_proxy));function ud(s){let l=[],d=s;for(;d;)d._x_refs&&l.push(d._x_refs),d=d.parentNode;return l}var ur={};function Qs(s){return ur[s]||(ur[s]=0),++ur[s]}function hd(s,l){return Ee(s,d=>{if(d._x_ids&&d._x_ids[l])return!0})}function fd(s,l){s._x_ids||(s._x_ids={}),s._x_ids[l]||(s._x_ids[l]=Qs(l))}zt("id",s=>(l,d=null)=>{let g=hd(s,l),k=g?g._x_ids[l]:Qs(l);return d?`${l}-${k}-${d}`:`${l}-${k}`}),zt("el",s=>s),ea("Focus","focus","focus"),ea("Persist","persist","persist");function ea(s,l,d){zt(l,g=>ue(`You can't use [$${l}] without first installing the "${s}" plugin here: https://alpinejs.dev/plugins/${d}`,g))}Fe("modelable",(s,{expression:l},{effect:d,evaluateLater:g,cleanup:k})=>{let y=g(l),S=()=>{let $e;return y(lt=>$e=lt),$e},A=g(`${l} = __placeholder`),K=$e=>A(()=>{},{scope:{__placeholder:$e}}),se=S();K(se),queueMicrotask(()=>{if(!s._x_model)return;s._x_removeModelListeners.default();let $e=s._x_model.get,lt=s._x_model.set,We=Ys({get(){return $e()},set(rt){lt(rt)}},{get(){return S()},set(rt){K(rt)}});k(We)})}),Fe("teleport",(s,{modifiers:l,expression:d},{cleanup:g})=>{s.tagName.toLowerCase()!=="template"&&ue("x-teleport can only be used on a <template> tag",s);let k=ta(d),y=s.content.cloneNode(!0).firstElementChild;s._x_teleport=y,y._x_teleportBack=s,s.setAttribute("data-teleport-template",!0),y.setAttribute("data-teleport-target",!0),s._x_forwardEvents&&s._x_forwardEvents.forEach(A=>{y.addEventListener(A,K=>{K.stopPropagation(),s.dispatchEvent(new K.constructor(K.type,K))})}),xn(y,{},s);let S=(A,K,se)=>{se.includes("prepend")?K.parentNode.insertBefore(A,K):se.includes("append")?K.parentNode.insertBefore(A,K.nextSibling):K.appendChild(A)};dt(()=>{S(y,k,l),ye(y),y._x_ignore=!0}),s._x_teleportPutBack=()=>{let A=ta(d);dt(()=>{S(s._x_teleport,A,l)})},g(()=>y.remove())});var pd=document.createElement("div");function ta(s){let l=li(()=>document.querySelector(s),()=>pd)();return l||ue(`Cannot find x-teleport element for selector: "${s}"`),l}var na=()=>{};na.inline=(s,{modifiers:l},{cleanup:d})=>{l.includes("self")?s._x_ignoreSelf=!0:s._x_ignore=!0,d(()=>{l.includes("self")?delete s._x_ignoreSelf:delete s._x_ignore})},Fe("ignore",na),Fe("effect",(s,{expression:l},{effect:d})=>d(q(s,l)));function hr(s,l,d,g){let k=s,y=K=>g(K),S={},A=(K,se)=>$e=>se(K,$e);if(d.includes("dot")&&(l=gd(l)),d.includes("camel")&&(l=md(l)),d.includes("passive")&&(S.passive=!0),d.includes("capture")&&(S.capture=!0),d.includes("window")&&(k=window),d.includes("document")&&(k=document),d.includes("debounce")){let K=d[d.indexOf("debounce")+1]||"invalid-wait",se=di(K.split("ms")[0])?Number(K.split("ms")[0]):250;y=Ks(y,se)}if(d.includes("throttle")){let K=d[d.indexOf("throttle")+1]||"invalid-wait",se=di(K.split("ms")[0])?Number(K.split("ms")[0]):250;y=Vs(y,se)}return d.includes("prevent")&&(y=A(y,(K,se)=>{se.preventDefault(),K(se)})),d.includes("stop")&&(y=A(y,(K,se)=>{se.stopPropagation(),K(se)})),d.includes("self")&&(y=A(y,(K,se)=>{se.target===s&&K(se)})),(d.includes("away")||d.includes("outside"))&&(k=document,y=A(y,(K,se)=>{s.contains(se.target)||se.target.isConnected!==!1&&(s.offsetWidth<1&&s.offsetHeight<1||s._x_isShown!==!1&&K(se))})),d.includes("once")&&(y=A(y,(K,se)=>{K(se),k.removeEventListener(l,y,S)})),y=A(y,(K,se)=>{vd(l)&&wd(se,d)||K(se)}),k.addEventListener(l,y,S),()=>{k.removeEventListener(l,y,S)}}function gd(s){return s.replace(/-/g,".")}function md(s){return s.toLowerCase().replace(/-(\w)/g,(l,d)=>d.toUpperCase())}function di(s){return!Array.isArray(s)&&!isNaN(s)}function bd(s){return[" ","_"].includes(s)?s:s.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function vd(s){return["keydown","keyup"].includes(s)}function wd(s,l){let d=l.filter(y=>!["window","document","prevent","stop","once","capture"].includes(y));if(d.includes("debounce")){let y=d.indexOf("debounce");d.splice(y,di((d[y+1]||"invalid-wait").split("ms")[0])?2:1)}if(d.includes("throttle")){let y=d.indexOf("throttle");d.splice(y,di((d[y+1]||"invalid-wait").split("ms")[0])?2:1)}if(d.length===0||d.length===1&&oa(s.key).includes(d[0]))return!1;const k=["ctrl","shift","alt","meta","cmd","super"].filter(y=>d.includes(y));return d=d.filter(y=>!k.includes(y)),!(k.length>0&&k.filter(S=>((S==="cmd"||S==="super")&&(S="meta"),s[`${S}Key`])).length===k.length&&oa(s.key).includes(d[0]))}function oa(s){if(!s)return[];s=bd(s);let l={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return l[s]=s,Object.keys(l).map(d=>{if(l[d]===s)return d}).filter(d=>d)}Fe("model",(s,{modifiers:l,expression:d},{effect:g,cleanup:k})=>{let y=s;l.includes("parent")&&(y=s.parentNode);let S=q(y,d),A;typeof d=="string"?A=q(y,`${d} = __placeholder`):typeof d=="function"&&typeof d()=="string"?A=q(y,`${d()} = __placeholder`):A=()=>{};let K=()=>{let We;return S(rt=>We=rt),ia(We)?We.get():We},se=We=>{let rt;S(jt=>rt=jt),ia(rt)?rt.set(We):A(()=>{},{scope:{__placeholder:We}})};typeof d=="string"&&s.type==="radio"&&dt(()=>{s.hasAttribute("name")||s.setAttribute("name",d)});var $e=s.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(s.type)||l.includes("lazy")?"change":"input";let lt=Tn?()=>{}:hr(s,$e,l,We=>{se(yd(s,l,We,K()))});if(l.includes("fill")&&([null,""].includes(K())||s.type==="checkbox"&&Array.isArray(K()))&&s.dispatchEvent(new Event($e,{})),s._x_removeModelListeners||(s._x_removeModelListeners={}),s._x_removeModelListeners.default=lt,k(()=>s._x_removeModelListeners.default()),s.form){let We=hr(s.form,"reset",[],rt=>{ir(()=>s._x_model&&s._x_model.set(s.value))});k(()=>We())}s._x_model={get(){return K()},set(We){se(We)}},s._x_forceModelUpdate=We=>{We===void 0&&typeof d=="string"&&d.match(/\./)&&(We=""),window.fromModel=!0,dt(()=>Us(s,"value",We)),delete window.fromModel},g(()=>{let We=K();l.includes("unintrusive")&&document.activeElement.isSameNode(s)||s._x_forceModelUpdate(We)})});function yd(s,l,d,g){return dt(()=>{if(d instanceof CustomEvent&&d.detail!==void 0)return d.detail!==null&&d.detail!==void 0?d.detail:d.target.value;if(s.type==="checkbox")if(Array.isArray(g)){let k=l.includes("number")?fr(d.target.value):d.target.value;return d.target.checked?g.concat([k]):g.filter(y=>!kd(y,k))}else return d.target.checked;else{if(s.tagName.toLowerCase()==="select"&&s.multiple)return l.includes("number")?Array.from(d.target.selectedOptions).map(k=>{let y=k.value||k.text;return fr(y)}):Array.from(d.target.selectedOptions).map(k=>k.value||k.text);{let k=d.target.value;return l.includes("number")?fr(k):l.includes("trim")?k.trim():k}}})}function fr(s){let l=s?parseFloat(s):null;return xd(l)?l:s}function kd(s,l){return s==l}function xd(s){return!Array.isArray(s)&&!isNaN(s)}function ia(s){return s!==null&&typeof s=="object"&&typeof s.get=="function"&&typeof s.set=="function"}Fe("cloak",s=>queueMicrotask(()=>dt(()=>s.removeAttribute(nt("cloak"))))),Be(()=>`[${nt("init")}]`),Fe("init",li((s,{expression:l},{evaluate:d})=>typeof l=="string"?!!l.trim()&&d(l,{},!1):d(l,{},!1))),Fe("text",(s,{expression:l},{effect:d,evaluateLater:g})=>{let k=g(l);d(()=>{k(y=>{dt(()=>{s.textContent=y})})})}),Fe("html",(s,{expression:l},{effect:d,evaluateLater:g})=>{let k=g(l);d(()=>{k(y=>{dt(()=>{s.innerHTML=y,s._x_ignoreSelf=!0,ye(s),delete s._x_ignoreSelf})})})}),rn(on(":",Co(nt("bind:"))));var ra=(s,{value:l,modifiers:d,expression:g,original:k},{effect:y})=>{if(!l){let A={};ad(A),q(s,g)(se=>{Gs(s,se,k)},{scope:A});return}if(l==="key")return Ed(s,g);if(s._x_inlineBindings&&s._x_inlineBindings[l]&&s._x_inlineBindings[l].extract)return;let S=q(s,g);y(()=>S(A=>{A===void 0&&typeof g=="string"&&g.match(/\./)&&(A=""),dt(()=>Us(s,l,A,d))}))};ra.inline=(s,{value:l,modifiers:d,expression:g})=>{l&&(s._x_inlineBindings||(s._x_inlineBindings={}),s._x_inlineBindings[l]={expression:g,extract:!1})},Fe("bind",ra);function Ed(s,l){s._x_keyExpression=l}ce(()=>`[${nt("data")}]`),Fe("data",(s,{expression:l},{cleanup:d})=>{if(Wc(s))return;l=l===""?"{}":l;let g={};v(g,s);let k={};cd(k,g);let y=J(s,l,{scope:k});(y===void 0||y===!0)&&(y={}),v(y,s);let S=Z(y);ti(S);let A=xn(s,S);S.init&&J(s,S.init),d(()=>{S.destroy&&J(s,S.destroy),A()})}),Fe("show",(s,{modifiers:l,expression:d},{effect:g})=>{let k=q(s,d);s._x_doHide||(s._x_doHide=()=>{dt(()=>{s.style.setProperty("display","none",l.includes("important")?"important":void 0)})}),s._x_doShow||(s._x_doShow=()=>{dt(()=>{s.style.length===1&&s.style.display==="none"?s.removeAttribute("style"):s.style.removeProperty("display")})});let y=()=>{s._x_doHide(),s._x_isShown=!1},S=()=>{s._x_doShow(),s._x_isShown=!0},A=()=>setTimeout(S),K=ar(lt=>lt?S():y(),lt=>{typeof s._x_toggleAndCascadeWithTransitions=="function"?s._x_toggleAndCascadeWithTransitions(s,lt,S,y):lt?A():y()}),se,$e=!0;g(()=>k(lt=>{!$e&&lt===se||(l.includes("immediate")&&(lt?A():y()),K(lt),se=lt,$e=!1)}))}),Fe("for",(s,{expression:l},{effect:d,cleanup:g})=>{let k=_d(l),y=q(s,k.items),S=q(s,s._x_keyExpression||"index");s._x_prevKeys=[],s._x_lookup={},d(()=>Sd(s,k,y,S)),g(()=>{Object.values(s._x_lookup).forEach(A=>A.remove()),delete s._x_prevKeys,delete s._x_lookup})});function Sd(s,l,d,g){let k=S=>typeof S=="object"&&!Array.isArray(S),y=s;d(S=>{Td(S)&&S>=0&&(S=Array.from(Array(S).keys(),Oe=>Oe+1)),S===void 0&&(S=[]);let A=s._x_lookup,K=s._x_prevKeys,se=[],$e=[];if(k(S))S=Object.entries(S).map(([Oe,Xe])=>{let Ue=sa(l,Xe,Oe,S);g(Qe=>$e.push(Qe),{scope:{index:Oe,...Ue}}),se.push(Ue)});else for(let Oe=0;Oe<S.length;Oe++){let Xe=sa(l,S[Oe],Oe,S);g(Ue=>$e.push(Ue),{scope:{index:Oe,...Xe}}),se.push(Xe)}let lt=[],We=[],rt=[],jt=[];for(let Oe=0;Oe<K.length;Oe++){let Xe=K[Oe];$e.indexOf(Xe)===-1&&rt.push(Xe)}K=K.filter(Oe=>!rt.includes(Oe));let sn="template";for(let Oe=0;Oe<$e.length;Oe++){let Xe=$e[Oe],Ue=K.indexOf(Xe);if(Ue===-1)K.splice(Oe,0,Xe),lt.push([sn,Oe]);else if(Ue!==Oe){let Qe=K.splice(Oe,1)[0],Bt=K.splice(Ue-1,1)[0];K.splice(Oe,0,Bt),K.splice(Ue,0,Qe),We.push([Qe,Bt])}else jt.push(Xe);sn=Xe}for(let Oe=0;Oe<rt.length;Oe++){let Xe=rt[Oe];A[Xe]._x_effects&&A[Xe]._x_effects.forEach(T),A[Xe].remove(),A[Xe]=null,delete A[Xe]}for(let Oe=0;Oe<We.length;Oe++){let[Xe,Ue]=We[Oe],Qe=A[Xe],Bt=A[Ue],Yt=document.createElement("div");dt(()=>{Bt||ue('x-for ":key" is undefined or invalid',y),Bt.after(Yt),Qe.after(Bt),Bt._x_currentIfEl&&Bt.after(Bt._x_currentIfEl),Yt.before(Qe),Qe._x_currentIfEl&&Qe.after(Qe._x_currentIfEl),Yt.remove()}),Bt._x_refreshXForScope(se[$e.indexOf(Ue)])}for(let Oe=0;Oe<lt.length;Oe++){let[Xe,Ue]=lt[Oe],Qe=Xe==="template"?y:A[Xe];Qe._x_currentIfEl&&(Qe=Qe._x_currentIfEl);let Bt=se[Ue],Yt=$e[Ue],an=document.importNode(y.content,!0).firstElementChild,Vn=Z(Bt);xn(an,Vn,y),an._x_refreshXForScope=Ao=>{Object.entries(Ao).forEach(([Io,Yn])=>{Vn[Io]=Yn})},dt(()=>{Qe.after(an),ye(an)}),typeof Yt=="object"&&ue("x-for key cannot be an object, it must be a string or an integer",y),A[Yt]=an}for(let Oe=0;Oe<jt.length;Oe++)A[jt[Oe]]._x_refreshXForScope(se[$e.indexOf(jt[Oe])]);y._x_prevKeys=$e})}function _d(s){let l=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,d=/^\s*\(|\)\s*$/g,g=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,k=s.match(g);if(!k)return;let y={};y.items=k[2].trim();let S=k[1].replace(d,"").trim(),A=S.match(l);return A?(y.item=S.replace(l,"").trim(),y.index=A[1].trim(),A[2]&&(y.collection=A[2].trim())):y.item=S,y}function sa(s,l,d,g){let k={};return/^\[.*\]$/.test(s.item)&&Array.isArray(l)?s.item.replace("[","").replace("]","").split(",").map(S=>S.trim()).forEach((S,A)=>{k[S]=l[A]}):/^\{.*\}$/.test(s.item)&&!Array.isArray(l)&&typeof l=="object"?s.item.replace("{","").replace("}","").split(",").map(S=>S.trim()).forEach(S=>{k[S]=l[S]}):k[s.item]=l,s.index&&(k[s.index]=d),s.collection&&(k[s.collection]=g),k}function Td(s){return!Array.isArray(s)&&!isNaN(s)}function aa(){}aa.inline=(s,{expression:l},{cleanup:d})=>{let g=qe(s);g._x_refs||(g._x_refs={}),g._x_refs[l]=s,d(()=>delete g._x_refs[l])},Fe("ref",aa),Fe("if",(s,{expression:l},{effect:d,cleanup:g})=>{s.tagName.toLowerCase()!=="template"&&ue("x-if can only be used on a <template> tag",s);let k=q(s,l),y=()=>{if(s._x_currentIfEl)return s._x_currentIfEl;let A=s.content.cloneNode(!0).firstElementChild;return xn(A,{},s),dt(()=>{s.after(A),ye(A)}),s._x_currentIfEl=A,s._x_undoIf=()=>{xe(A,K=>{K._x_effects&&K._x_effects.forEach(T)}),A.remove(),delete s._x_currentIfEl},A},S=()=>{s._x_undoIf&&(s._x_undoIf(),delete s._x_undoIf)};d(()=>k(A=>{A?y():S()})),g(()=>s._x_undoIf&&s._x_undoIf())}),Fe("id",(s,{expression:l},{evaluate:d})=>{d(l).forEach(k=>fd(s,k))}),rn(on("@",Co(nt("on:")))),Fe("on",li((s,{value:l,modifiers:d,expression:g},{cleanup:k})=>{let y=g?q(s,g):()=>{};s.tagName.toLowerCase()==="template"&&(s._x_forwardEvents||(s._x_forwardEvents=[]),s._x_forwardEvents.includes(l)||s._x_forwardEvents.push(l));let S=hr(s,l,d,A=>{y(()=>{},{scope:{$event:A},params:[A]})});k(()=>S())})),ui("Collapse","collapse","collapse"),ui("Intersect","intersect","intersect"),ui("Focus","trap","focus"),ui("Mask","mask","mask");function ui(s,l,d){Fe(l,g=>ue(`You can't use [x-${l}] without first installing the "${s}" plugin here: https://alpinejs.dev/plugins/${d}`,g))}Oo.setEvaluator(pe),Oo.setReactivityEngine({reactive:ci.reactive,effect:ci.effect,release:ci.stop,raw:ci.toRaw});var Cd=Oo,Bd=Cd}}),eh=yn({"../alpine/packages/collapse/dist/module.cjs.js"(n,e){var t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(R,f)=>{for(var m in f)t(R,m,{get:f[m],enumerable:!0})},c=(R,f,m,x)=>{if(f&&typeof f=="object"||typeof f=="function")for(let _ of i(f))!r.call(R,_)&&_!==m&&t(R,_,{get:()=>f[_],enumerable:!(x=o(f,_))||x.enumerable});return R},u=R=>c(t({},"__esModule",{value:!0}),R),p={};a(p,{default:()=>O}),e.exports=u(p);function b(R){R.directive("collapse",f),f.inline=(m,{modifiers:x})=>{x.includes("min")&&(m._x_doShow=()=>{},m._x_doHide=()=>{})};function f(m,{modifiers:x}){let _=w(x,"duration",250)/1e3,N=w(x,"min",0),W=!x.includes("min");m._x_isShown||(m.style.height=`${N}px`),!m._x_isShown&&W&&(m.hidden=!0),m._x_isShown||(m.style.overflow="hidden");let $=(z,L)=>{let T=R.setStyles(z,L);return L.height?()=>{}:T},ve={transitionProperty:"height",transitionDuration:`${_}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};m._x_transition={in(z=()=>{},L=()=>{}){W&&(m.hidden=!1),W&&(m.style.display=null);let T=m.getBoundingClientRect().height;m.style.height="auto";let P=m.getBoundingClientRect().height;T===P&&(T=N),R.transition(m,R.setStyles,{during:ve,start:{height:T+"px"},end:{height:P+"px"}},()=>m._x_isShown=!0,()=>{m.getBoundingClientRect().height==P&&(m.style.overflow=null)})},out(z=()=>{},L=()=>{}){let T=m.getBoundingClientRect().height;R.transition(m,$,{during:ve,start:{height:T+"px"},end:{height:N+"px"}},()=>m.style.overflow="hidden",()=>{m._x_isShown=!1,m.style.height==`${N}px`&&W&&(m.style.display="none",m.hidden=!0)})}}}}function w(R,f,m){if(R.indexOf(f)===-1)return m;const x=R[R.indexOf(f)+1];if(!x)return m;if(f==="duration"){let _=x.match(/([0-9]+)ms/);if(_)return _[1]}if(f==="min"){let _=x.match(/([0-9]+)px/);if(_)return _[1]}return x}var O=b}}),th=yn({"../alpine/packages/focus/dist/module.cjs.js"(n,e){var t=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(L,T)=>function(){return T||(0,L[r(L)[0]])((T={exports:{}}).exports,T),T.exports},p=(L,T)=>{for(var P in T)o(L,P,{get:T[P],enumerable:!0})},b=(L,T,P,V)=>{if(T&&typeof T=="object"||typeof T=="function")for(let Z of r(T))!c.call(L,Z)&&Z!==P&&o(L,Z,{get:()=>T[Z],enumerable:!(V=i(T,Z))||V.enumerable});return L},w=(L,T,P)=>(P=L!=null?t(a(L)):{},b(T||!L||!L.__esModule?o(P,"default",{value:L,enumerable:!0}):P,L)),O=L=>b(o({},"__esModule",{value:!0}),L),R=u({"node_modules/tabbable/dist/index.js"(L){Object.defineProperty(L,"__esModule",{value:!0});var T=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],P=T.join(","),V=typeof Element>"u",Z=V?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,X=!V&&Element.prototype.getRootNode?function(ye){return ye.getRootNode()}:function(ye){return ye.ownerDocument},oe=function(j,Y,ke){var Q=Array.prototype.slice.apply(j.querySelectorAll(P));return Y&&Z.call(j,P)&&Q.unshift(j),Q=Q.filter(ke),Q},Pe=function ye(j,Y,ke){for(var Q=[],it=Array.from(j);it.length;){var me=it.shift();if(me.tagName==="SLOT"){var G=me.assignedElements(),te=G.length?G:me.children,Se=ye(te,!0,ke);ke.flatten?Q.push.apply(Q,Se):Q.push({scope:me,candidates:Se})}else{var Ye=Z.call(me,P);Ye&&ke.filter(me)&&(Y||!j.includes(me))&&Q.push(me);var Me=me.shadowRoot||typeof ke.getShadowRoot=="function"&&ke.getShadowRoot(me),mt=!ke.shadowRootFilter||ke.shadowRootFilter(me);if(Me&&mt){var pt=ye(Me===!0?me.children:Me.children,!0,ke);ke.flatten?Q.push.apply(Q,pt):Q.push({scope:me,candidates:pt})}else it.unshift.apply(it,me.children)}}return Q},Ae=function(j,Y){return j.tabIndex<0&&(Y||/^(AUDIO|VIDEO|DETAILS)$/.test(j.tagName)||j.isContentEditable)&&isNaN(parseInt(j.getAttribute("tabindex"),10))?0:j.tabIndex},tt=function(j,Y){return j.tabIndex===Y.tabIndex?j.documentOrder-Y.documentOrder:j.tabIndex-Y.tabIndex},ot=function(j){return j.tagName==="INPUT"},at=function(j){return ot(j)&&j.type==="hidden"},wt=function(j){var Y=j.tagName==="DETAILS"&&Array.prototype.slice.apply(j.children).some(function(ke){return ke.tagName==="SUMMARY"});return Y},Et=function(j,Y){for(var ke=0;ke<j.length;ke++)if(j[ke].checked&&j[ke].form===Y)return j[ke]},xe=function(j){if(!j.name)return!0;var Y=j.form||X(j),ke=function(G){return Y.querySelectorAll('input[type="radio"][name="'+G+'"]')},Q;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")Q=ke(window.CSS.escape(j.name));else try{Q=ke(j.name)}catch(me){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",me.message),!1}var it=Et(Q,j.form);return!it||it===j},ue=function(j){return ot(j)&&j.type==="radio"},Re=function(j){return ue(j)&&!xe(j)},Te=function(j){var Y=j.getBoundingClientRect(),ke=Y.width,Q=Y.height;return ke===0&&Q===0},we=function(j,Y){var ke=Y.displayCheck,Q=Y.getShadowRoot;if(getComputedStyle(j).visibility==="hidden")return!0;var it=Z.call(j,"details>summary:first-of-type"),me=it?j.parentElement:j;if(Z.call(me,"details:not([open]) *"))return!0;var G=X(j).host,te=(G==null?void 0:G.ownerDocument.contains(G))||j.ownerDocument.contains(j);if(!ke||ke==="full"){if(typeof Q=="function"){for(var Se=j;j;){var Ye=j.parentElement,Me=X(j);if(Ye&&!Ye.shadowRoot&&Q(Ye)===!0)return Te(j);j.assignedSlot?j=j.assignedSlot:!Ye&&Me!==j.ownerDocument?j=Me.host:j=Ye}j=Se}if(te)return!j.getClientRects().length}else if(ke==="non-zero-area")return Te(j);return!1},ae=function(j){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(j.tagName))for(var Y=j.parentElement;Y;){if(Y.tagName==="FIELDSET"&&Y.disabled){for(var ke=0;ke<Y.children.length;ke++){var Q=Y.children.item(ke);if(Q.tagName==="LEGEND")return Z.call(Y,"fieldset[disabled] *")?!0:!Q.contains(j)}return!0}Y=Y.parentElement}return!1},Ze=function(j,Y){return!(Y.disabled||at(Y)||we(Y,j)||wt(Y)||ae(Y))},ee=function(j,Y){return!(Re(Y)||Ae(Y)<0||!Ze(j,Y))},ce=function(j){var Y=parseInt(j.getAttribute("tabindex"),10);return!!(isNaN(Y)||Y>=0)},Be=function ye(j){var Y=[],ke=[];return j.forEach(function(Q,it){var me=!!Q.scope,G=me?Q.scope:Q,te=Ae(G,me),Se=me?ye(Q.candidates):G;te===0?me?Y.push.apply(Y,Se):Y.push(G):ke.push({documentOrder:it,tabIndex:te,item:Q,isScope:me,content:Se})}),ke.sort(tt).reduce(function(Q,it){return it.isScope?Q.push.apply(Q,it.content):Q.push(it.content),Q},[]).concat(Y)},qe=function(j,Y){Y=Y||{};var ke;return Y.getShadowRoot?ke=Pe([j],Y.includeContainer,{filter:ee.bind(null,Y),flatten:!1,getShadowRoot:Y.getShadowRoot,shadowRootFilter:ce}):ke=oe(j,Y.includeContainer,ee.bind(null,Y)),Be(ke)},Ee=function(j,Y){Y=Y||{};var ke;return Y.getShadowRoot?ke=Pe([j],Y.includeContainer,{filter:Ze.bind(null,Y),flatten:!0,getShadowRoot:Y.getShadowRoot}):ke=oe(j,Y.includeContainer,Ze.bind(null,Y)),ke},fe=function(j,Y){if(Y=Y||{},!j)throw new Error("No node provided");return Z.call(j,P)===!1?!1:ee(Y,j)},_t=T.concat("iframe").join(","),ct=function(j,Y){if(Y=Y||{},!j)throw new Error("No node provided");return Z.call(j,_t)===!1?!1:Ze(Y,j)};L.focusable=Ee,L.isFocusable=ct,L.isTabbable=fe,L.tabbable=qe}}),f=u({"node_modules/focus-trap/dist/focus-trap.js"(L){Object.defineProperty(L,"__esModule",{value:!0});var T=R();function P(xe,ue){var Re=Object.keys(xe);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(xe);ue&&(Te=Te.filter(function(we){return Object.getOwnPropertyDescriptor(xe,we).enumerable})),Re.push.apply(Re,Te)}return Re}function V(xe){for(var ue=1;ue<arguments.length;ue++){var Re=arguments[ue]!=null?arguments[ue]:{};ue%2?P(Object(Re),!0).forEach(function(Te){Z(xe,Te,Re[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(Re)):P(Object(Re)).forEach(function(Te){Object.defineProperty(xe,Te,Object.getOwnPropertyDescriptor(Re,Te))})}return xe}function Z(xe,ue,Re){return ue in xe?Object.defineProperty(xe,ue,{value:Re,enumerable:!0,configurable:!0,writable:!0}):xe[ue]=Re,xe}var X=function(){var xe=[];return{activateTrap:function(Re){if(xe.length>0){var Te=xe[xe.length-1];Te!==Re&&Te.pause()}var we=xe.indexOf(Re);we===-1||xe.splice(we,1),xe.push(Re)},deactivateTrap:function(Re){var Te=xe.indexOf(Re);Te!==-1&&xe.splice(Te,1),xe.length>0&&xe[xe.length-1].unpause()}}}(),oe=function(ue){return ue.tagName&&ue.tagName.toLowerCase()==="input"&&typeof ue.select=="function"},Pe=function(ue){return ue.key==="Escape"||ue.key==="Esc"||ue.keyCode===27},Ae=function(ue){return ue.key==="Tab"||ue.keyCode===9},tt=function(ue){return setTimeout(ue,0)},ot=function(ue,Re){var Te=-1;return ue.every(function(we,ae){return Re(we)?(Te=ae,!1):!0}),Te},at=function(ue){for(var Re=arguments.length,Te=new Array(Re>1?Re-1:0),we=1;we<Re;we++)Te[we-1]=arguments[we];return typeof ue=="function"?ue.apply(void 0,Te):ue},wt=function(ue){return ue.target.shadowRoot&&typeof ue.composedPath=="function"?ue.composedPath()[0]:ue.target},Et=function(ue,Re){var Te=(Re==null?void 0:Re.document)||document,we=V({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},Re),ae={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},Ze,ee=function(G,te,Se){return G&&G[te]!==void 0?G[te]:we[Se||te]},ce=function(G){return ae.containerGroups.findIndex(function(te){var Se=te.container,Ye=te.tabbableNodes;return Se.contains(G)||Ye.find(function(Me){return Me===G})})},Be=function(G){var te=we[G];if(typeof te=="function"){for(var Se=arguments.length,Ye=new Array(Se>1?Se-1:0),Me=1;Me<Se;Me++)Ye[Me-1]=arguments[Me];te=te.apply(void 0,Ye)}if(te===!0&&(te=void 0),!te){if(te===void 0||te===!1)return te;throw new Error("`".concat(G,"` was specified but was not a node, or did not return a node"))}var mt=te;if(typeof te=="string"&&(mt=Te.querySelector(te),!mt))throw new Error("`".concat(G,"` as selector refers to no known node"));return mt},qe=function(){var G=Be("initialFocus");if(G===!1)return!1;if(G===void 0)if(ce(Te.activeElement)>=0)G=Te.activeElement;else{var te=ae.tabbableGroups[0],Se=te&&te.firstTabbableNode;G=Se||Be("fallbackFocus")}if(!G)throw new Error("Your focus-trap needs to have at least one focusable element");return G},Ee=function(){if(ae.containerGroups=ae.containers.map(function(G){var te=T.tabbable(G,we.tabbableOptions),Se=T.focusable(G,we.tabbableOptions);return{container:G,tabbableNodes:te,focusableNodes:Se,firstTabbableNode:te.length>0?te[0]:null,lastTabbableNode:te.length>0?te[te.length-1]:null,nextTabbableNode:function(Me){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,pt=Se.findIndex(function(Ut){return Ut===Me});if(!(pt<0))return mt?Se.slice(pt+1).find(function(Ut){return T.isTabbable(Ut,we.tabbableOptions)}):Se.slice(0,pt).reverse().find(function(Ut){return T.isTabbable(Ut,we.tabbableOptions)})}}}),ae.tabbableGroups=ae.containerGroups.filter(function(G){return G.tabbableNodes.length>0}),ae.tabbableGroups.length<=0&&!Be("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},fe=function me(G){if(G!==!1&&G!==Te.activeElement){if(!G||!G.focus){me(qe());return}G.focus({preventScroll:!!we.preventScroll}),ae.mostRecentlyFocusedNode=G,oe(G)&&G.select()}},_t=function(G){var te=Be("setReturnFocus",G);return te||(te===!1?!1:G)},ct=function(G){var te=wt(G);if(!(ce(te)>=0)){if(at(we.clickOutsideDeactivates,G)){Ze.deactivate({returnFocus:we.returnFocusOnDeactivate&&!T.isFocusable(te,we.tabbableOptions)});return}at(we.allowOutsideClick,G)||G.preventDefault()}},ye=function(G){var te=wt(G),Se=ce(te)>=0;Se||te instanceof Document?Se&&(ae.mostRecentlyFocusedNode=te):(G.stopImmediatePropagation(),fe(ae.mostRecentlyFocusedNode||qe()))},j=function(G){var te=wt(G);Ee();var Se=null;if(ae.tabbableGroups.length>0){var Ye=ce(te),Me=Ye>=0?ae.containerGroups[Ye]:void 0;if(Ye<0)G.shiftKey?Se=ae.tabbableGroups[ae.tabbableGroups.length-1].lastTabbableNode:Se=ae.tabbableGroups[0].firstTabbableNode;else if(G.shiftKey){var mt=ot(ae.tabbableGroups,function(An){var dt=An.firstTabbableNode;return te===dt});if(mt<0&&(Me.container===te||T.isFocusable(te,we.tabbableOptions)&&!T.isTabbable(te,we.tabbableOptions)&&!Me.nextTabbableNode(te,!1))&&(mt=Ye),mt>=0){var pt=mt===0?ae.tabbableGroups.length-1:mt-1,Ut=ae.tabbableGroups[pt];Se=Ut.lastTabbableNode}}else{var $t=ot(ae.tabbableGroups,function(An){var dt=An.lastTabbableNode;return te===dt});if($t<0&&(Me.container===te||T.isFocusable(te,we.tabbableOptions)&&!T.isTabbable(te,we.tabbableOptions)&&!Me.nextTabbableNode(te))&&($t=Ye),$t>=0){var kn=$t===ae.tabbableGroups.length-1?0:$t+1,Eo=ae.tabbableGroups[kn];Se=Eo.firstTabbableNode}}}else Se=Be("fallbackFocus");Se&&(G.preventDefault(),fe(Se))},Y=function(G){if(Pe(G)&&at(we.escapeDeactivates,G)!==!1){G.preventDefault(),Ze.deactivate();return}if(Ae(G)){j(G);return}},ke=function(G){var te=wt(G);ce(te)>=0||at(we.clickOutsideDeactivates,G)||at(we.allowOutsideClick,G)||(G.preventDefault(),G.stopImmediatePropagation())},Q=function(){if(ae.active)return X.activateTrap(Ze),ae.delayInitialFocusTimer=we.delayInitialFocus?tt(function(){fe(qe())}):fe(qe()),Te.addEventListener("focusin",ye,!0),Te.addEventListener("mousedown",ct,{capture:!0,passive:!1}),Te.addEventListener("touchstart",ct,{capture:!0,passive:!1}),Te.addEventListener("click",ke,{capture:!0,passive:!1}),Te.addEventListener("keydown",Y,{capture:!0,passive:!1}),Ze},it=function(){if(ae.active)return Te.removeEventListener("focusin",ye,!0),Te.removeEventListener("mousedown",ct,!0),Te.removeEventListener("touchstart",ct,!0),Te.removeEventListener("click",ke,!0),Te.removeEventListener("keydown",Y,!0),Ze};return Ze={get active(){return ae.active},get paused(){return ae.paused},activate:function(G){if(ae.active)return this;var te=ee(G,"onActivate"),Se=ee(G,"onPostActivate"),Ye=ee(G,"checkCanFocusTrap");Ye||Ee(),ae.active=!0,ae.paused=!1,ae.nodeFocusedBeforeActivation=Te.activeElement,te&&te();var Me=function(){Ye&&Ee(),Q(),Se&&Se()};return Ye?(Ye(ae.containers.concat()).then(Me,Me),this):(Me(),this)},deactivate:function(G){if(!ae.active)return this;var te=V({onDeactivate:we.onDeactivate,onPostDeactivate:we.onPostDeactivate,checkCanReturnFocus:we.checkCanReturnFocus},G);clearTimeout(ae.delayInitialFocusTimer),ae.delayInitialFocusTimer=void 0,it(),ae.active=!1,ae.paused=!1,X.deactivateTrap(Ze);var Se=ee(te,"onDeactivate"),Ye=ee(te,"onPostDeactivate"),Me=ee(te,"checkCanReturnFocus"),mt=ee(te,"returnFocus","returnFocusOnDeactivate");Se&&Se();var pt=function(){tt(function(){mt&&fe(_t(ae.nodeFocusedBeforeActivation)),Ye&&Ye()})};return mt&&Me?(Me(_t(ae.nodeFocusedBeforeActivation)).then(pt,pt),this):(pt(),this)},pause:function(){return ae.paused||!ae.active?this:(ae.paused=!0,it(),this)},unpause:function(){return!ae.paused||!ae.active?this:(ae.paused=!1,Ee(),Q(),this)},updateContainerElements:function(G){var te=[].concat(G).filter(Boolean);return ae.containers=te.map(function(Se){return typeof Se=="string"?Te.querySelector(Se):Se}),ae.active&&Ee(),this}},Ze.updateContainerElements(ue),Ze};L.createFocusTrap=Et}}),m={};p(m,{default:()=>z}),e.exports=O(m);var x=w(f()),_=w(R());function N(L){let T,P;window.addEventListener("focusin",()=>{T=P,P=document.activeElement}),L.magic("focus",V=>{let Z=V;return{__noscroll:!1,__wrapAround:!1,within(X){return Z=X,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(X){return(0,_.isFocusable)(X)},previouslyFocused(){return T},lastFocused(){return T},focused(){return P},focusables(){return Array.isArray(Z)?Z:(0,_.focusable)(Z,{displayCheck:"none"})},all(){return this.focusables()},isFirst(X){let oe=this.all();return oe[0]&&oe[0].isSameNode(X)},isLast(X){let oe=this.all();return oe.length&&oe.slice(-1)[0].isSameNode(X)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let X=this.all(),oe=document.activeElement;if(X.indexOf(oe)!==-1)return this.__wrapAround&&X.indexOf(oe)===X.length-1?X[0]:X[X.indexOf(oe)+1]},getPrevious(){let X=this.all(),oe=document.activeElement;if(X.indexOf(oe)!==-1)return this.__wrapAround&&X.indexOf(oe)===0?X.slice(-1)[0]:X[X.indexOf(oe)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(X){X&&setTimeout(()=>{X.hasAttribute("tabindex")||X.setAttribute("tabindex","0"),X.focus({preventScroll:this._noscroll})})}}}),L.directive("trap",L.skipDuringClone((V,{expression:Z,modifiers:X},{effect:oe,evaluateLater:Pe,cleanup:Ae})=>{let tt=Pe(Z),ot=!1,at={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>V},wt=V.querySelector("[autofocus]");wt&&(at.initialFocus=wt);let Et=(0,x.createFocusTrap)(V,at),xe=()=>{},ue=()=>{};const Re=()=>{xe(),xe=()=>{},ue(),ue=()=>{},Et.deactivate({returnFocus:!X.includes("noreturn")})};oe(()=>tt(Te=>{ot!==Te&&(Te&&!ot&&(X.includes("noscroll")&&(ue=ve()),X.includes("inert")&&(xe=W(V)),setTimeout(()=>{Et.activate()},15)),!Te&&ot&&Re(),ot=!!Te)})),Ae(Re)},(V,{expression:Z,modifiers:X},{evaluate:oe})=>{X.includes("inert")&&oe(Z)&&W(V)}))}function W(L){let T=[];return $(L,P=>{let V=P.hasAttribute("aria-hidden");P.setAttribute("aria-hidden","true"),T.push(()=>V||P.removeAttribute("aria-hidden"))}),()=>{for(;T.length;)T.pop()()}}function $(L,T){L.isSameNode(document.body)||!L.parentNode||Array.from(L.parentNode.children).forEach(P=>{P.isSameNode(L)?$(L.parentNode,T):T(P)})}function ve(){let L=document.documentElement.style.overflow,T=document.documentElement.style.paddingRight,P=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${P}px`,()=>{document.documentElement.style.overflow=L,document.documentElement.style.paddingRight=T}}var z=N}}),nh=yn({"../alpine/packages/persist/dist/module.cjs.js"(n,e){var t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(m,x)=>{for(var _ in x)t(m,_,{get:x[_],enumerable:!0})},c=(m,x,_,N)=>{if(x&&typeof x=="object"||typeof x=="function")for(let W of i(x))!r.call(m,W)&&W!==_&&t(m,W,{get:()=>x[W],enumerable:!(N=o(x,W))||N.enumerable});return m},u=m=>c(t({},"__esModule",{value:!0}),m),p={};a(p,{default:()=>f}),e.exports=u(p);function b(m){let x=()=>{let _,N;try{N=localStorage}catch(W){console.error(W),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let $=new Map;N={getItem:$.get.bind($),setItem:$.set.bind($)}}return m.interceptor((W,$,ve,z,L)=>{let T=_||`_x_${z}`,P=w(T,N)?O(T,N):W;return ve(P),m.effect(()=>{let V=$();R(T,V,N),ve(V)}),P},W=>{W.as=$=>(_=$,W),W.using=$=>(N=$,W)})};Object.defineProperty(m,"$persist",{get:()=>x()}),m.magic("persist",x),m.persist=(_,{get:N,set:W},$=localStorage)=>{let ve=w(_,$)?O(_,$):N();W(ve),m.effect(()=>{let z=N();R(_,z,$),W(z)})}}function w(m,x){return x.getItem(m)!==null}function O(m,x){return JSON.parse(x.getItem(m,x))}function R(m,x,_){_.setItem(m,JSON.stringify(x))}var f=b}}),oh=yn({"../alpine/packages/intersect/dist/module.cjs.js"(n,e){var t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(m,x)=>{for(var _ in x)t(m,_,{get:x[_],enumerable:!0})},c=(m,x,_,N)=>{if(x&&typeof x=="object"||typeof x=="function")for(let W of i(x))!r.call(m,W)&&W!==_&&t(m,W,{get:()=>x[W],enumerable:!(N=o(x,W))||N.enumerable});return m},u=m=>c(t({},"__esModule",{value:!0}),m),p={};a(p,{default:()=>f}),e.exports=u(p);function b(m){m.directive("intersect",(x,{value:_,expression:N,modifiers:W},{evaluateLater:$,cleanup:ve})=>{let z=$(N),L={rootMargin:R(W),threshold:w(W)},T=new IntersectionObserver(P=>{P.forEach(V=>{V.isIntersecting!==(_==="leave")&&(z(),W.includes("once")&&T.disconnect())})},L);T.observe(x),ve(()=>{T.disconnect()})})}function w(m){if(m.includes("full"))return .99;if(m.includes("half"))return .5;if(!m.includes("threshold"))return 0;let x=m[m.indexOf("threshold")+1];return x==="100"?1:x==="0"?0:+`.${x}`}function O(m){let x=m.match(/^(-?[0-9]+)(px|%)?$/);return x?x[1]+(x[2]||"px"):void 0}function R(m){const x="margin",_="0px 0px 0px 0px",N=m.indexOf(x);if(N===-1)return _;let W=[];for(let $=1;$<5;$++)W.push(O(m[N+$]||""));return W=W.filter($=>$!==void 0),W.length?W.join(" ").trim():_}var f=b}}),ih=yn({"../alpine/packages/anchor/dist/module.cjs.js"(n,e){var t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(v,E)=>{for(var I in E)t(v,I,{get:E[I],enumerable:!0})},c=(v,E,I,M)=>{if(E&&typeof E=="object"||typeof E=="function")for(let U of i(E))!r.call(v,U)&&U!==I&&t(v,U,{get:()=>E[U],enumerable:!(M=o(E,U))||M.enumerable});return v},u=v=>c(t({},"__esModule",{value:!0}),v),p={};a(p,{default:()=>zt}),e.exports=u(p);var b=Math.min,w=Math.max,O=Math.round,R=Math.floor,f=v=>({x:v,y:v}),m={left:"right",right:"left",bottom:"top",top:"bottom"},x={start:"end",end:"start"};function _(v,E,I){return w(v,b(E,I))}function N(v,E){return typeof v=="function"?v(E):v}function W(v){return v.split("-")[0]}function $(v){return v.split("-")[1]}function ve(v){return v==="x"?"y":"x"}function z(v){return v==="y"?"height":"width"}function L(v){return["top","bottom"].includes(W(v))?"y":"x"}function T(v){return ve(L(v))}function P(v,E,I){I===void 0&&(I=!1);const M=$(v),U=T(v),J=z(U);let q=U==="x"?M===(I?"end":"start")?"right":"left":M==="start"?"bottom":"top";return E.reference[J]>E.floating[J]&&(q=Pe(q)),[q,Pe(q)]}function V(v){const E=Pe(v);return[Z(v),E,Z(E)]}function Z(v){return v.replace(/start|end/g,E=>x[E])}function X(v,E,I){const M=["left","right"],U=["right","left"],J=["top","bottom"],q=["bottom","top"];switch(v){case"top":case"bottom":return I?E?U:M:E?M:U;case"left":case"right":return E?J:q;default:return[]}}function oe(v,E,I,M){const U=$(v);let J=X(W(v),I==="start",M);return U&&(J=J.map(q=>q+"-"+U),E&&(J=J.concat(J.map(Z)))),J}function Pe(v){return v.replace(/left|right|bottom|top/g,E=>m[E])}function Ae(v){return{top:0,right:0,bottom:0,left:0,...v}}function tt(v){return typeof v!="number"?Ae(v):{top:v,right:v,bottom:v,left:v}}function ot(v){return{...v,top:v.y,left:v.x,right:v.x+v.width,bottom:v.y+v.height}}function at(v,E,I){let{reference:M,floating:U}=v;const J=L(E),q=T(E),re=z(q),he=W(E),pe=J==="y",De=M.x+M.width/2-U.width/2,Ne=M.y+M.height/2-U.height/2,Je=M[re]/2-U[re]/2;let Ce;switch(he){case"top":Ce={x:De,y:M.y-U.height};break;case"bottom":Ce={x:De,y:M.y+M.height};break;case"right":Ce={x:M.x+M.width,y:Ne};break;case"left":Ce={x:M.x-U.width,y:Ne};break;default:Ce={x:M.x,y:M.y}}switch($(E)){case"start":Ce[q]-=Je*(I&&pe?-1:1);break;case"end":Ce[q]+=Je*(I&&pe?-1:1);break}return Ce}var wt=async(v,E,I)=>{const{placement:M="bottom",strategy:U="absolute",middleware:J=[],platform:q}=I,re=J.filter(Boolean),he=await(q.isRTL==null?void 0:q.isRTL(E));let pe=await q.getElementRects({reference:v,floating:E,strategy:U}),{x:De,y:Ne}=at(pe,M,he),Je=M,Ce={},Le=0;for(let He=0;He<re.length;He++){const{name:nt,fn:Ke}=re[He],{x:ut,y:Fe,data:Dt,reset:yt}=await Ke({x:De,y:Ne,initialPlacement:M,placement:Je,strategy:U,middlewareData:Ce,rects:pe,platform:q,elements:{reference:v,floating:E}});if(De=ut??De,Ne=Fe??Ne,Ce={...Ce,[nt]:{...Ce[nt],...Dt}},yt&&Le<=50){Le++,typeof yt=="object"&&(yt.placement&&(Je=yt.placement),yt.rects&&(pe=yt.rects===!0?await q.getElementRects({reference:v,floating:E,strategy:U}):yt.rects),{x:De,y:Ne}=at(pe,Je,he)),He=-1;continue}}return{x:De,y:Ne,placement:Je,strategy:U,middlewareData:Ce}};async function Et(v,E){var I;E===void 0&&(E={});const{x:M,y:U,platform:J,rects:q,elements:re,strategy:he}=v,{boundary:pe="clippingAncestors",rootBoundary:De="viewport",elementContext:Ne="floating",altBoundary:Je=!1,padding:Ce=0}=N(E,v),Le=tt(Ce),nt=re[Je?Ne==="floating"?"reference":"floating":Ne],Ke=ot(await J.getClippingRect({element:(I=await(J.isElement==null?void 0:J.isElement(nt)))==null||I?nt:nt.contextElement||await(J.getDocumentElement==null?void 0:J.getDocumentElement(re.floating)),boundary:pe,rootBoundary:De,strategy:he})),ut=Ne==="floating"?{...q.floating,x:M,y:U}:q.reference,Fe=await(J.getOffsetParent==null?void 0:J.getOffsetParent(re.floating)),Dt=await(J.isElement==null?void 0:J.isElement(Fe))?await(J.getScale==null?void 0:J.getScale(Fe))||{x:1,y:1}:{x:1,y:1},yt=ot(J.convertOffsetParentRelativeRectToViewportRelativeRect?await J.convertOffsetParentRelativeRectToViewportRelativeRect({rect:ut,offsetParent:Fe,strategy:he}):ut);return{top:(Ke.top-yt.top+Le.top)/Dt.y,bottom:(yt.bottom-Ke.bottom+Le.bottom)/Dt.y,left:(Ke.left-yt.left+Le.left)/Dt.x,right:(yt.right-Ke.right+Le.right)/Dt.x}}var xe=function(v){return v===void 0&&(v={}),{name:"flip",options:v,async fn(E){var I,M;const{placement:U,middlewareData:J,rects:q,initialPlacement:re,platform:he,elements:pe}=E,{mainAxis:De=!0,crossAxis:Ne=!0,fallbackPlacements:Je,fallbackStrategy:Ce="bestFit",fallbackAxisSideDirection:Le="none",flipAlignment:He=!0,...nt}=N(v,E);if((I=J.arrow)!=null&&I.alignmentOffset)return{};const Ke=W(U),ut=W(re)===re,Fe=await(he.isRTL==null?void 0:he.isRTL(pe.floating)),Dt=Je||(ut||!He?[Pe(re)]:V(re));!Je&&Le!=="none"&&Dt.push(...oe(re,He,Le,Fe));const yt=[re,...Dt],Vt=await Et(E,nt),nn=[];let En=((M=J.flip)==null?void 0:M.overflows)||[];if(De&&nn.push(Vt[Ke]),Ne){const on=P(U,q,Fe);nn.push(Vt[on[0]],Vt[on[1]])}if(En=[...En,{placement:U,overflows:nn}],!nn.every(on=>on<=0)){var ii,To;const on=(((ii=J.flip)==null?void 0:ii.index)||0)+1,Co=yt[on];if(Co)return{data:{index:on,overflows:En},reset:{placement:Co}};let Sn=(To=En.filter(fn=>fn.overflows[0]<=0).sort((fn,rn)=>fn.overflows[1]-rn.overflows[1])[0])==null?void 0:To.placement;if(!Sn)switch(Ce){case"bestFit":{var ri;const fn=(ri=En.map(rn=>[rn.placement,rn.overflows.filter(_n=>_n>0).reduce((_n,si)=>_n+si,0)]).sort((rn,_n)=>rn[1]-_n[1])[0])==null?void 0:ri[0];fn&&(Sn=fn);break}case"initialPlacement":Sn=re;break}if(U!==Sn)return{reset:{placement:Sn}}}return{}}}};async function ue(v,E){const{placement:I,platform:M,elements:U}=v,J=await(M.isRTL==null?void 0:M.isRTL(U.floating)),q=W(I),re=$(I),he=L(I)==="y",pe=["left","top"].includes(q)?-1:1,De=J&&he?-1:1,Ne=N(E,v);let{mainAxis:Je,crossAxis:Ce,alignmentAxis:Le}=typeof Ne=="number"?{mainAxis:Ne,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Ne};return re&&typeof Le=="number"&&(Ce=re==="end"?Le*-1:Le),he?{x:Ce*De,y:Je*pe}:{x:Je*pe,y:Ce*De}}var Re=function(v){return v===void 0&&(v=0),{name:"offset",options:v,async fn(E){const{x:I,y:M}=E,U=await ue(E,v);return{x:I+U.x,y:M+U.y,data:U}}}},Te=function(v){return v===void 0&&(v={}),{name:"shift",options:v,async fn(E){const{x:I,y:M,placement:U}=E,{mainAxis:J=!0,crossAxis:q=!1,limiter:re={fn:nt=>{let{x:Ke,y:ut}=nt;return{x:Ke,y:ut}}},...he}=N(v,E),pe={x:I,y:M},De=await Et(E,he),Ne=L(W(U)),Je=ve(Ne);let Ce=pe[Je],Le=pe[Ne];if(J){const nt=Je==="y"?"top":"left",Ke=Je==="y"?"bottom":"right",ut=Ce+De[nt],Fe=Ce-De[Ke];Ce=_(ut,Ce,Fe)}if(q){const nt=Ne==="y"?"top":"left",Ke=Ne==="y"?"bottom":"right",ut=Le+De[nt],Fe=Le-De[Ke];Le=_(ut,Le,Fe)}const He=re.fn({...E,[Je]:Ce,[Ne]:Le});return{...He,data:{x:He.x-I,y:He.y-M}}}}};function we(v){return ee(v)?(v.nodeName||"").toLowerCase():"#document"}function ae(v){var E;return(v==null||(E=v.ownerDocument)==null?void 0:E.defaultView)||window}function Ze(v){var E;return(E=(ee(v)?v.ownerDocument:v.document)||window.document)==null?void 0:E.documentElement}function ee(v){return v instanceof Node||v instanceof ae(v).Node}function ce(v){return v instanceof Element||v instanceof ae(v).Element}function Be(v){return v instanceof HTMLElement||v instanceof ae(v).HTMLElement}function qe(v){return typeof ShadowRoot>"u"?!1:v instanceof ShadowRoot||v instanceof ae(v).ShadowRoot}function Ee(v){const{overflow:E,overflowX:I,overflowY:M,display:U}=Y(v);return/auto|scroll|overlay|hidden|clip/.test(E+M+I)&&!["inline","contents"].includes(U)}function fe(v){return["table","td","th"].includes(we(v))}function _t(v){const E=ye(),I=Y(v);return I.transform!=="none"||I.perspective!=="none"||(I.containerType?I.containerType!=="normal":!1)||!E&&(I.backdropFilter?I.backdropFilter!=="none":!1)||!E&&(I.filter?I.filter!=="none":!1)||["transform","perspective","filter"].some(M=>(I.willChange||"").includes(M))||["paint","layout","strict","content"].some(M=>(I.contain||"").includes(M))}function ct(v){let E=Q(v);for(;Be(E)&&!j(E);){if(_t(E))return E;E=Q(E)}return null}function ye(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function j(v){return["html","body","#document"].includes(we(v))}function Y(v){return ae(v).getComputedStyle(v)}function ke(v){return ce(v)?{scrollLeft:v.scrollLeft,scrollTop:v.scrollTop}:{scrollLeft:v.pageXOffset,scrollTop:v.pageYOffset}}function Q(v){if(we(v)==="html")return v;const E=v.assignedSlot||v.parentNode||qe(v)&&v.host||Ze(v);return qe(E)?E.host:E}function it(v){const E=Q(v);return j(E)?v.ownerDocument?v.ownerDocument.body:v.body:Be(E)&&Ee(E)?E:it(E)}function me(v,E,I){var M;E===void 0&&(E=[]),I===void 0&&(I=!0);const U=it(v),J=U===((M=v.ownerDocument)==null?void 0:M.body),q=ae(U);return J?E.concat(q,q.visualViewport||[],Ee(U)?U:[],q.frameElement&&I?me(q.frameElement):[]):E.concat(U,me(U,[],I))}function G(v){const E=Y(v);let I=parseFloat(E.width)||0,M=parseFloat(E.height)||0;const U=Be(v),J=U?v.offsetWidth:I,q=U?v.offsetHeight:M,re=O(I)!==J||O(M)!==q;return re&&(I=J,M=q),{width:I,height:M,$:re}}function te(v){return ce(v)?v:v.contextElement}function Se(v){const E=te(v);if(!Be(E))return f(1);const I=E.getBoundingClientRect(),{width:M,height:U,$:J}=G(E);let q=(J?O(I.width):I.width)/M,re=(J?O(I.height):I.height)/U;return(!q||!Number.isFinite(q))&&(q=1),(!re||!Number.isFinite(re))&&(re=1),{x:q,y:re}}var Ye=f(0);function Me(v){const E=ae(v);return!ye()||!E.visualViewport?Ye:{x:E.visualViewport.offsetLeft,y:E.visualViewport.offsetTop}}function mt(v,E,I){return E===void 0&&(E=!1),!I||E&&I!==ae(v)?!1:E}function pt(v,E,I,M){E===void 0&&(E=!1),I===void 0&&(I=!1);const U=v.getBoundingClientRect(),J=te(v);let q=f(1);E&&(M?ce(M)&&(q=Se(M)):q=Se(v));const re=mt(J,I,M)?Me(J):f(0);let he=(U.left+re.x)/q.x,pe=(U.top+re.y)/q.y,De=U.width/q.x,Ne=U.height/q.y;if(J){const Je=ae(J),Ce=M&&ce(M)?ae(M):M;let Le=Je.frameElement;for(;Le&&M&&Ce!==Je;){const He=Se(Le),nt=Le.getBoundingClientRect(),Ke=Y(Le),ut=nt.left+(Le.clientLeft+parseFloat(Ke.paddingLeft))*He.x,Fe=nt.top+(Le.clientTop+parseFloat(Ke.paddingTop))*He.y;he*=He.x,pe*=He.y,De*=He.x,Ne*=He.y,he+=ut,pe+=Fe,Le=ae(Le).frameElement}}return ot({width:De,height:Ne,x:he,y:pe})}function Ut(v){let{rect:E,offsetParent:I,strategy:M}=v;const U=Be(I),J=Ze(I);if(I===J)return E;let q={scrollLeft:0,scrollTop:0},re=f(1);const he=f(0);if((U||!U&&M!=="fixed")&&((we(I)!=="body"||Ee(J))&&(q=ke(I)),Be(I))){const pe=pt(I);re=Se(I),he.x=pe.x+I.clientLeft,he.y=pe.y+I.clientTop}return{width:E.width*re.x,height:E.height*re.y,x:E.x*re.x-q.scrollLeft*re.x+he.x,y:E.y*re.y-q.scrollTop*re.y+he.y}}function $t(v){return Array.from(v.getClientRects())}function kn(v){return pt(Ze(v)).left+ke(v).scrollLeft}function Eo(v){const E=Ze(v),I=ke(v),M=v.ownerDocument.body,U=w(E.scrollWidth,E.clientWidth,M.scrollWidth,M.clientWidth),J=w(E.scrollHeight,E.clientHeight,M.scrollHeight,M.clientHeight);let q=-I.scrollLeft+kn(v);const re=-I.scrollTop;return Y(M).direction==="rtl"&&(q+=w(E.clientWidth,M.clientWidth)-U),{width:U,height:J,x:q,y:re}}function An(v,E){const I=ae(v),M=Ze(v),U=I.visualViewport;let J=M.clientWidth,q=M.clientHeight,re=0,he=0;if(U){J=U.width,q=U.height;const pe=ye();(!pe||pe&&E==="fixed")&&(re=U.offsetLeft,he=U.offsetTop)}return{width:J,height:q,x:re,y:he}}function dt(v,E){const I=pt(v,!0,E==="fixed"),M=I.top+v.clientTop,U=I.left+v.clientLeft,J=Be(v)?Se(v):f(1),q=v.clientWidth*J.x,re=v.clientHeight*J.y,he=U*J.x,pe=M*J.y;return{width:q,height:re,x:he,y:pe}}function Kn(v,E,I){let M;if(E==="viewport")M=An(v,I);else if(E==="document")M=Eo(Ze(v));else if(ce(E))M=dt(E,I);else{const U=Me(v);M={...E,x:E.x-U.x,y:E.y-U.y}}return ot(M)}function In(v,E){const I=Q(v);return I===E||!ce(I)||j(I)?!1:Y(I).position==="fixed"||In(I,E)}function Xi(v,E){const I=E.get(v);if(I)return I;let M=me(v,[],!1).filter(re=>ce(re)&&we(re)!=="body"),U=null;const J=Y(v).position==="fixed";let q=J?Q(v):v;for(;ce(q)&&!j(q);){const re=Y(q),he=_t(q);!he&&re.position==="fixed"&&(U=null),(J?!he&&!U:!he&&re.position==="static"&&!!U&&["absolute","fixed"].includes(U.position)||Ee(q)&&!he&&In(v,q))?M=M.filter(De=>De!==q):U=re,q=Q(q)}return E.set(v,M),M}function Gi(v){let{element:E,boundary:I,rootBoundary:M,strategy:U}=v;const q=[...I==="clippingAncestors"?Xi(E,this._c):[].concat(I),M],re=q[0],he=q.reduce((pe,De)=>{const Ne=Kn(E,De,U);return pe.top=w(Ne.top,pe.top),pe.right=b(Ne.right,pe.right),pe.bottom=b(Ne.bottom,pe.bottom),pe.left=w(Ne.left,pe.left),pe},Kn(E,re,U));return{width:he.right-he.left,height:he.bottom-he.top,x:he.left,y:he.top}}function So(v){return G(v)}function ei(v,E,I){const M=Be(E),U=Ze(E),J=I==="fixed",q=pt(v,!0,J,E);let re={scrollLeft:0,scrollTop:0};const he=f(0);if(M||!M&&!J)if((we(E)!=="body"||Ee(U))&&(re=ke(E)),M){const pe=pt(E,!0,J,E);he.x=pe.x+E.clientLeft,he.y=pe.y+E.clientTop}else U&&(he.x=kn(U));return{x:q.left+re.scrollLeft-he.x,y:q.top+re.scrollTop-he.y,width:q.width,height:q.height}}function xn(v,E){return!Be(v)||Y(v).position==="fixed"?null:E?E(v):v.offsetParent}function hn(v,E){const I=ae(v);if(!Be(v))return I;let M=xn(v,E);for(;M&&fe(M)&&Y(M).position==="static";)M=xn(M,E);return M&&(we(M)==="html"||we(M)==="body"&&Y(M).position==="static"&&!_t(M))?I:M||ct(v)||I}var Mn=async function(v){let{reference:E,floating:I,strategy:M}=v;const U=this.getOffsetParent||hn,J=this.getDimensions;return{reference:ei(E,await U(I),M),floating:{x:0,y:0,...await J(I)}}};function Zi(v){return Y(v).direction==="rtl"}var Qi={convertOffsetParentRelativeRectToViewportRelativeRect:Ut,getDocumentElement:Ze,getClippingRect:Gi,getOffsetParent:hn,getElementRects:Mn,getClientRects:$t,getDimensions:So,getScale:Se,isElement:ce,isRTL:Zi};function ti(v,E){let I=null,M;const U=Ze(v);function J(){clearTimeout(M),I&&I.disconnect(),I=null}function q(re,he){re===void 0&&(re=!1),he===void 0&&(he=1),J();const{left:pe,top:De,width:Ne,height:Je}=v.getBoundingClientRect();if(re||E(),!Ne||!Je)return;const Ce=R(De),Le=R(U.clientWidth-(pe+Ne)),He=R(U.clientHeight-(De+Je)),nt=R(pe),ut={rootMargin:-Ce+"px "+-Le+"px "+-He+"px "+-nt+"px",threshold:w(0,b(1,he))||1};let Fe=!0;function Dt(yt){const Vt=yt[0].intersectionRatio;if(Vt!==he){if(!Fe)return q();Vt?q(!1,Vt):M=setTimeout(()=>{q(!1,1e-7)},100)}Fe=!1}try{I=new IntersectionObserver(Dt,{...ut,root:U.ownerDocument})}catch{I=new IntersectionObserver(Dt,ut)}I.observe(v)}return q(!0),J}function ni(v,E,I,M){M===void 0&&(M={});const{ancestorScroll:U=!0,ancestorResize:J=!0,elementResize:q=typeof ResizeObserver=="function",layoutShift:re=typeof IntersectionObserver=="function",animationFrame:he=!1}=M,pe=te(v),De=U||J?[...pe?me(pe):[],...me(E)]:[];De.forEach(Ke=>{U&&Ke.addEventListener("scroll",I,{passive:!0}),J&&Ke.addEventListener("resize",I)});const Ne=pe&&re?ti(pe,I):null;let Je=-1,Ce=null;q&&(Ce=new ResizeObserver(Ke=>{let[ut]=Ke;ut&&ut.target===pe&&Ce&&(Ce.unobserve(E),cancelAnimationFrame(Je),Je=requestAnimationFrame(()=>{Ce&&Ce.observe(E)})),I()}),pe&&!he&&Ce.observe(pe),Ce.observe(E));let Le,He=he?pt(v):null;he&&nt();function nt(){const Ke=pt(v);He&&(Ke.x!==He.x||Ke.y!==He.y||Ke.width!==He.width||Ke.height!==He.height)&&I(),He=Ke,Le=requestAnimationFrame(nt)}return I(),()=>{De.forEach(Ke=>{U&&Ke.removeEventListener("scroll",I),J&&Ke.removeEventListener("resize",I)}),Ne&&Ne(),Ce&&Ce.disconnect(),Ce=null,he&&cancelAnimationFrame(Le)}}var er=(v,E,I)=>{const M=new Map,U={platform:Qi,...I},J={...U.platform,_c:M};return wt(v,E,{...U,platform:J})};function _o(v){v.magic("anchor",E=>{if(!E._x_anchor)throw"Alpine: No x-anchor directive found on element using $anchor...";return E._x_anchor}),v.directive("anchor",(E,{expression:I,modifiers:M,value:U},{cleanup:J,evaluate:q})=>{E._x_anchor=v.reactive({x:0,y:0});let re=q(I);if(!re)throw"Alpine: no element provided to x-anchor...";let pe=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].find(Ce=>M.includes(Ce)),De=0,Ne=M.includes("no-style");if(M.includes("offset")){let Ce=M.findIndex(Le=>Le==="offset");De=M[Ce+1]!==void 0?Number(M[Ce+1]):De}let Je=ni(re,E,()=>{let Ce;er(re,E,{placement:pe,middleware:[xe(),Te({padding:5}),Re(De)]}).then(({x:Le,y:He})=>{JSON.stringify({x:Le,y:He})!==Ce&&(Ne||oi(E,Le,He),E._x_anchor.x=Le,E._x_anchor.y=He),Ce=JSON.stringify({x:Le,y:He})})});J(()=>Je())})}function oi(v,E,I){Object.assign(v.style,{left:E+"px",top:I+"px",position:"absolute"})}var zt=_o}}),rh=yn({"node_modules/nprogress/nprogress.js"(n,e){(function(t,o){typeof define=="function"&&define.amd?define(o):typeof n=="object"?e.exports=o():t.NProgress=o()})(n,function(){var t={};t.version="0.2.0";var o=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(f){var m,x;for(m in f)x=f[m],x!==void 0&&f.hasOwnProperty(m)&&(o[m]=x);return this},t.status=null,t.set=function(f){var m=t.isStarted();f=i(f,o.minimum,1),t.status=f===1?null:f;var x=t.render(!m),_=x.querySelector(o.barSelector),N=o.speed,W=o.easing;return x.offsetWidth,c(function($){o.positionUsing===""&&(o.positionUsing=t.getPositioningCSS()),u(_,a(f,N,W)),f===1?(u(x,{transition:"none",opacity:1}),x.offsetWidth,setTimeout(function(){u(x,{transition:"all "+N+"ms linear",opacity:0}),setTimeout(function(){t.remove(),$()},N)},N)):setTimeout($,N)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var f=function(){setTimeout(function(){t.status&&(t.trickle(),f())},o.trickleSpeed)};return o.trickle&&f(),this},t.done=function(f){return!f&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(f){var m=t.status;return m?(typeof f!="number"&&(f=(1-m)*i(Math.random()*m,.1,.95)),m=i(m+f,0,.994),t.set(m)):t.start()},t.trickle=function(){return t.inc(Math.random()*o.trickleRate)},function(){var f=0,m=0;t.promise=function(x){return!x||x.state()==="resolved"?this:(m===0&&t.start(),f++,m++,x.always(function(){m--,m===0?(f=0,t.done()):t.set((f-m)/f)}),this)}}(),t.render=function(f){if(t.isRendered())return document.getElementById("nprogress");b(document.documentElement,"nprogress-busy");var m=document.createElement("div");m.id="nprogress",m.innerHTML=o.template;var x=m.querySelector(o.barSelector),_=f?"-100":r(t.status||0),N=document.querySelector(o.parent),W;return u(x,{transition:"all 0 linear",transform:"translate3d("+_+"%,0,0)"}),o.showSpinner||(W=m.querySelector(o.spinnerSelector),W&&R(W)),N!=document.body&&b(N,"nprogress-custom-parent"),N.appendChild(m),m},t.remove=function(){w(document.documentElement,"nprogress-busy"),w(document.querySelector(o.parent),"nprogress-custom-parent");var f=document.getElementById("nprogress");f&&R(f)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var f=document.body.style,m="WebkitTransform"in f?"Webkit":"MozTransform"in f?"Moz":"msTransform"in f?"ms":"OTransform"in f?"O":"";return m+"Perspective"in f?"translate3d":m+"Transform"in f?"translate":"margin"};function i(f,m,x){return f<m?m:f>x?x:f}function r(f){return(-1+f)*100}function a(f,m,x){var _;return o.positionUsing==="translate3d"?_={transform:"translate3d("+r(f)+"%,0,0)"}:o.positionUsing==="translate"?_={transform:"translate("+r(f)+"%,0)"}:_={"margin-left":r(f)+"%"},_.transition="all "+m+"ms "+x,_}var c=function(){var f=[];function m(){var x=f.shift();x&&x(m)}return function(x){f.push(x),f.length==1&&m()}}(),u=function(){var f=["Webkit","O","Moz","ms"],m={};function x($){return $.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(ve,z){return z.toUpperCase()})}function _($){var ve=document.body.style;if($ in ve)return $;for(var z=f.length,L=$.charAt(0).toUpperCase()+$.slice(1),T;z--;)if(T=f[z]+L,T in ve)return T;return $}function N($){return $=x($),m[$]||(m[$]=_($))}function W($,ve,z){ve=N(ve),$.style[ve]=z}return function($,ve){var z=arguments,L,T;if(z.length==2)for(L in ve)T=ve[L],T!==void 0&&ve.hasOwnProperty(L)&&W($,L,T);else W($,z[1],z[2])}}();function p(f,m){var x=typeof f=="string"?f:O(f);return x.indexOf(" "+m+" ")>=0}function b(f,m){var x=O(f),_=x+m;p(x,m)||(f.className=_.substring(1))}function w(f,m){var x=O(f),_;p(f,m)&&(_=x.replace(" "+m+" "," "),f.className=_.substring(1,_.length-1))}function O(f){return(" "+(f.className||"")+" ").replace(/\s+/gi," ")}function R(f){f&&f.parentNode&&f.parentNode.removeChild(f)}return t})}}),sh=yn({"../alpine/packages/morph/dist/module.cjs.js"(n,e){var t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(z,L)=>{for(var T in L)t(z,T,{get:L[T],enumerable:!0})},c=(z,L,T,P)=>{if(L&&typeof L=="object"||typeof L=="function")for(let V of i(L))!r.call(z,V)&&V!==T&&t(z,V,{get:()=>L[V],enumerable:!(P=o(L,V))||P.enumerable});return z},u=z=>c(t({},"__esModule",{value:!0}),z),p={};a(p,{default:()=>ve,morph:()=>b}),e.exports=u(p);function b(z,L,T){N();let P,V,Z,X,oe,Pe,Ae,tt,ot;function at(ee={}){let ce=qe=>qe.getAttribute("key"),Be=()=>{};X=ee.updating||Be,oe=ee.updated||Be,Pe=ee.removing||Be,Ae=ee.removed||Be,tt=ee.adding||Be,ot=ee.added||Be,V=ee.key||ce,Z=ee.lookahead||!1}function wt(ee,ce){if(Et(ee,ce))return xe(ee,ce);let Be=!1;if(!w(X,ee,ce,()=>Be=!0)){if(ee.nodeType===1&&window.Alpine&&window.Alpine.cloneNode(ee,ce),f(ce)){ue(ee,ce),oe(ee,ce);return}Be||Re(ee,ce),oe(ee,ce),Te(ee,ce)}}function Et(ee,ce){return ee.nodeType!=ce.nodeType||ee.nodeName!=ce.nodeName||we(ee)!=we(ce)}function xe(ee,ce){if(w(Pe,ee))return;let Be=ce.cloneNode(!0);w(tt,Be)||(ee.replaceWith(Be),Ae(ee),ot(Be))}function ue(ee,ce){let Be=ce.nodeValue;ee.nodeValue!==Be&&(ee.nodeValue=Be)}function Re(ee,ce){if(ee._x_transitioning||ee._x_isShown&&!ce._x_isShown||!ee._x_isShown&&ce._x_isShown)return;let Be=Array.from(ee.attributes),qe=Array.from(ce.attributes);for(let Ee=Be.length-1;Ee>=0;Ee--){let fe=Be[Ee].name;ce.hasAttribute(fe)||ee.removeAttribute(fe)}for(let Ee=qe.length-1;Ee>=0;Ee--){let fe=qe[Ee].name,_t=qe[Ee].value;ee.getAttribute(fe)!==_t&&ee.setAttribute(fe,_t)}}function Te(ee,ce){ee._x_teleport&&(ee=ee._x_teleport),ce._x_teleport&&(ce=ce._x_teleport);let Be=ae(ee.children),qe={},Ee=x(ce),fe=x(ee);for(;Ee;){W(Ee,fe);let ct=we(Ee),ye=we(fe);if(!fe)if(ct&&qe[ct]){let Q=qe[ct];ee.appendChild(Q),fe=Q}else{if(!w(tt,Ee)){let Q=Ee.cloneNode(!0);ee.appendChild(Q),ot(Q)}Ee=_(ce,Ee);continue}let j=Q=>Q&&Q.nodeType===8&&Q.textContent==="[if BLOCK]><![endif]",Y=Q=>Q&&Q.nodeType===8&&Q.textContent==="[if ENDBLOCK]><![endif]";if(j(Ee)&&j(fe)){let Q=0,it=fe;for(;fe;){let Me=_(ee,fe);if(j(Me))Q++;else if(Y(Me)&&Q>0)Q--;else if(Y(Me)&&Q===0){fe=Me;break}fe=Me}let me=fe;Q=0;let G=Ee;for(;Ee;){let Me=_(ce,Ee);if(j(Me))Q++;else if(Y(Me)&&Q>0)Q--;else if(Y(Me)&&Q===0){Ee=Me;break}Ee=Me}let te=Ee,Se=new m(it,me),Ye=new m(G,te);Te(Se,Ye);continue}if(fe.nodeType===1&&Z&&!fe.isEqualNode(Ee)){let Q=_(ce,Ee),it=!1;for(;!it&&Q;)Q.nodeType===1&&fe.isEqualNode(Q)&&(it=!0,fe=Ze(ee,Ee,fe),ye=we(fe)),Q=_(ce,Q)}if(ct!==ye){if(!ct&&ye){qe[ye]=fe,fe=Ze(ee,Ee,fe),qe[ye].remove(),fe=_(ee,fe),Ee=_(ce,Ee);continue}if(ct&&!ye&&Be[ct]&&(fe.replaceWith(Be[ct]),fe=Be[ct]),ct&&ye){let Q=Be[ct];if(Q)qe[ye]=fe,fe.replaceWith(Q),fe=Q;else{qe[ye]=fe,fe=Ze(ee,Ee,fe),qe[ye].remove(),fe=_(ee,fe),Ee=_(ce,Ee);continue}}}let ke=fe&&_(ee,fe);wt(fe,Ee),Ee=Ee&&_(ce,Ee),fe=ke}let _t=[];for(;fe;)w(Pe,fe)||_t.push(fe),fe=_(ee,fe);for(;_t.length;){let ct=_t.shift();ct.remove(),Ae(ct)}}function we(ee){return ee&&ee.nodeType===1&&V(ee)}function ae(ee){let ce={};for(let Be of ee){let qe=we(Be);qe&&(ce[qe]=Be)}return ce}function Ze(ee,ce,Be){if(!w(tt,ce)){let qe=ce.cloneNode(!0);return ee.insertBefore(qe,Be),ot(qe),qe}return ce}return at(T),P=typeof L=="string"?R(L):L,window.Alpine&&window.Alpine.closestDataStack&&!z._x_dataStack&&(P._x_dataStack=window.Alpine.closestDataStack(z),P._x_dataStack&&window.Alpine.cloneNode(z,P)),wt(z,P),P=void 0,z}b.step=()=>{},b.log=()=>{};function w(z,...L){let T=!1;return z(...L,()=>T=!0),T}var O=!1;function R(z){const L=document.createElement("template");return L.innerHTML=z,L.content.firstElementChild}function f(z){return z.nodeType===3||z.nodeType===8}var m=class{constructor(z,L){this.startComment=z,this.endComment=L}get children(){let z=[],L=this.startComment.nextSibling;for(;L&&L!==this.endComment;)z.push(L),L=L.nextSibling;return z}appendChild(z){this.endComment.before(z)}get firstChild(){let z=this.startComment.nextSibling;if(z!==this.endComment)return z}nextNode(z){let L=z.nextSibling;if(L!==this.endComment)return L}insertBefore(z,L){return L.before(z),z}};function x(z){return z.firstChild}function _(z,L){let T;return z instanceof m?T=z.nextNode(L):T=L.nextSibling,T}function N(){if(O)return;O=!0;let z=Element.prototype.setAttribute,L=document.createElement("div");Element.prototype.setAttribute=function(P,V){if(!P.includes("@"))return z.call(this,P,V);L.innerHTML=`<span ${P}="${V}"></span>`;let Z=L.firstElementChild.getAttributeNode(P);L.firstElementChild.removeAttributeNode(Z),this.setAttributeNode(Z)}}function W(z,L){let T=L&&L._x_bindings&&L._x_bindings.id;T&&(z.setAttribute("id",T),z.id=T)}function $(z){z.morph=b}var ve=$}}),ah=yn({"../alpine/packages/mask/dist/module.cjs.js"(n,e){var t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(x,_)=>{for(var N in _)t(x,N,{get:_[N],enumerable:!0})},c=(x,_,N,W)=>{if(_&&typeof _=="object"||typeof _=="function")for(let $ of i(_))!r.call(x,$)&&$!==N&&t(x,$,{get:()=>_[$],enumerable:!(W=o(_,$))||W.enumerable});return x},u=x=>c(t({},"__esModule",{value:!0}),x),p={};a(p,{default:()=>m,stripDown:()=>O}),e.exports=u(p);function b(x){x.directive("mask",(_,{value:N,expression:W},{effect:$,evaluateLater:ve})=>{let z=()=>W,L="";queueMicrotask(()=>{if(["function","dynamic"].includes(N)){let V=ve(W);$(()=>{z=Z=>{let X;return x.dontAutoEvaluateFunctions(()=>{V(oe=>{X=typeof oe=="function"?oe(Z):oe},{scope:{$input:Z,$money:f.bind({el:_})}})}),X},T(_,!1)})}else T(_,!1);_._x_model&&_._x_model.set(_.value)}),_.addEventListener("input",()=>T(_)),_.addEventListener("blur",()=>T(_,!1));function T(V,Z=!0){let X=V.value,oe=z(X);if(!oe||oe==="false")return!1;if(L.length-V.value.length===1)return L=V.value;let Pe=()=>{L=V.value=P(X,oe)};Z?w(V,oe,()=>{Pe()}):Pe()}function P(V,Z){if(V==="")return"";let X=O(Z,V);return R(Z,X)}}).before("model")}function w(x,_,N){let W=x.selectionStart,$=x.value;N();let ve=$.slice(0,W),z=R(_,O(_,ve)).length;x.setSelectionRange(z,z)}function O(x,_){let N=_,W="",$={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},ve="";for(let z=0;z<x.length;z++){if(["9","a","*"].includes(x[z])){ve+=x[z];continue}for(let L=0;L<N.length;L++)if(N[L]===x[z]){N=N.slice(0,L)+N.slice(L+1);break}}for(let z=0;z<ve.length;z++){let L=!1;for(let T=0;T<N.length;T++)if($[ve[z]].test(N[T])){W+=N[T],N=N.slice(0,T)+N.slice(T+1),L=!0;break}if(!L)break}return W}function R(x,_){let N=Array.from(_),W="";for(let $=0;$<x.length;$++){if(!["9","a","*"].includes(x[$])){W+=x[$];continue}if(N.length===0)break;W+=N.shift()}return W}function f(x,_=".",N,W=2){if(x==="-")return"-";if(/^\D+$/.test(x))return"9";N==null&&(N=_===","?".":",");let $=(T,P)=>{let V="",Z=0;for(let X=T.length-1;X>=0;X--)T[X]!==P&&(Z===3?(V=T[X]+P+V,Z=0):V=T[X]+V,Z++);return V},ve=x.startsWith("-")?"-":"",z=x.replaceAll(new RegExp(`[^0-9\\${_}]`,"g"),""),L=Array.from({length:z.split(_)[0].length}).fill("9").join("");return L=`${ve}${$(L,N)}`,W>0&&x.includes(_)&&(L+=`${_}`+"9".repeat(W)),queueMicrotask(()=>{this.el.value.endsWith(_)||this.el.value[this.el.selectionStart-1]===_&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),L}var m=b}}),Ol=class{constructor(){this.arrays=new WeakMap}add(n,e){this.arrays.has(n)||this.arrays.set(n,[]),this.arrays.get(n).push(e)}get(n){return this.arrays.has(n)?this.arrays.get(n):[]}each(n,e){return this.get(n).forEach(e)}};function Mr(n,e,t={},o=!0){n.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:o,composed:!0,cancelable:!0}))}function Al(n){return typeof n=="object"&&n!==null}function ya(n){return Al(n)&&!Wr(n)}function Wr(n){return Array.isArray(n)}function lh(n){return typeof n=="function"}function ka(n){return typeof n!="object"||n===null}function Hn(n){return JSON.parse(JSON.stringify(n))}function gn(n,e){return e===""?n:e.split(".").reduce((t,o)=>{if(t!==void 0)return t[o]},n)}function zi(n,e,t){let o=e.split(".");if(o.length===1)return n[e]=t;let i=o.shift(),r=o.join(".");n[i]===void 0&&(n[i]={}),zi(n[i],r,t)}function bs(n,e,t={},o=""){if(n===e)return t;if(typeof n!=typeof e||ya(n)&&Wr(e)||Wr(n)&&ya(e)||ka(n)||ka(e))return t[o]=e,t;let i=Object.keys(n);return Object.entries(e).forEach(([r,a])=>{t={...t,...bs(n[r],e[r],t,o===""?r:`${o}.${r}`)},i=i.filter(c=>c!==r)}),i.forEach(r=>{t[`${o}.${r}`]="__rm__"}),t}function lo(n){let e=xa(n)?n[0]:n;return xa(n)&&n[1],Al(e)&&Object.entries(e).forEach(([t,o])=>{e[t]=lo(o)}),e}function xa(n){return Array.isArray(n)&&n.length===2&&typeof n[1]=="object"&&Object.keys(n[1]).includes("s")}function Il(){if(document.querySelector('meta[name="csrf-token"]'))return document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.querySelector("[data-csrf]"))return document.querySelector("[data-csrf]").getAttribute("data-csrf");if(window.livewireScriptConfig.csrf??!1)return window.livewireScriptConfig.csrf;throw"Livewire: No CSRF token detected"}function Ml(n){return!!n.match(/<script>Sfdump\(".+"\)<\/script>/)}function ch(n){let e=n.match(/.*<script>Sfdump\(".+"\)<\/script>/s);return[e,n.replace(e,"")]}function Ll(n){let e=document.createElement("html");e.innerHTML=n,e.querySelectorAll("a").forEach(i=>i.setAttribute("target","_top"));let t=document.getElementById("livewire-error");typeof t<"u"&&t!=null?t.innerHTML="":(t=document.createElement("div"),t.id="livewire-error",t.style.position="fixed",t.style.width="100vw",t.style.height="100vh",t.style.padding="50px",t.style.backgroundColor="rgba(0, 0, 0, .6)",t.style.zIndex=2e5);let o=document.createElement("iframe");o.style.backgroundColor="#17161A",o.style.borderRadius="5px",o.style.width="100%",o.style.height="100%",t.appendChild(o),document.body.prepend(t),document.body.style.overflow="hidden",o.contentWindow.document.open(),o.contentWindow.document.write(e.outerHTML),o.contentWindow.document.close(),t.addEventListener("click",()=>Ea(t)),t.setAttribute("tabindex",0),t.addEventListener("keydown",i=>{i.key==="Escape"&&Ea(t)}),t.focus()}function Ea(n){n.outerHTML="",document.body.style.overflow="visible"}var co=[];function bt(n,e){return co[n]||(co[n]=[]),co[n].push(e),()=>{co[n]=co[n].filter(t=>t!==e)}}function Ct(n,...e){let t=co[n]||[],o=[];for(let i=0;i<t.length;i++){let r=t[i](...e);lh(r)&&o.push(r)}return i=>{let r=i;for(let a=0;a<o.length;a++){let c=o[a](r);c!==void 0&&(r=c)}return r}}var sl,Sa=((sl=document.querySelector("[data-uri]"))==null?void 0:sl.getAttribute("data-uri"))??window.livewireScriptConfig.uri??null;function Nl(){dh(()=>{uh()})}var Lr;function dh(n){Lr||(Lr=setTimeout(()=>{n(),Lr=void 0},5))}async function uh(){hh(),await mh(async()=>{let[n,e,t]=fh(),o={method:"POST",body:JSON.stringify({_token:Il(),components:n}),headers:{"Content-type":"application/json","X-Livewire":""}},i=[],r=[],a=[],c=m=>i.forEach(x=>x(m)),u=m=>r.forEach(x=>x(m)),p=m=>a.forEach(x=>x(m)),b=Ct("request.profile",o);Ct("request",{url:Sa,options:o,payload:o.body,respond:m=>a.push(m),succeed:m=>i.push(m),fail:m=>r.push(m)});let w=await fetch(Sa,o),O={status:w.status,response:w};p(O),w=O.response;let R=await w.text();if(!w.ok){b({content:"{}",failed:!0});let m=!1;return t(),u({status:w.status,content:R,preventDefault:()=>m=!0}),m?void 0:(w.status===419&&ph(),gh(R))}w.redirected&&(window.location.href=w.url),Ml(R)?([dump,R]=ch(R),Ll(dump),b({content:"{}",failed:!0})):b({content:R,failed:!1});let{components:f}=JSON.parse(R);e(f),c({status:w.status,json:JSON.parse(R)})})}function hh(){bh().forEach(e=>e.prepare())}function fh(){let n=[],e=[],t=[];return vh(r=>{let[a,c,u]=r.toRequestPayload();n.push(a),e.push(c),t.push(u)}),[n,r=>e.forEach(a=>a(r.shift())),()=>t.forEach(r=>r())]}function ph(){confirm(`This page has expired.
Would you like to refresh the page?`)&&window.location.reload()}function gh(n){Ll(n)}var Kr=!1,Vr=[];async function Rl(n){return new Promise(e=>{Kr?Vr.push(()=>e(n())):e(n())})}async function mh(n){for(Kr=!0,await n(),Kr=!1;Vr.length>0;)Vr.shift()()}var Vo=[];function bh(){return Vo}function vh(n){for(;Vo.length>0;)n(Vo.shift())}function Pl(n){let e=Vo.find(t=>t.component.id===n.id);return e||Vo.push(e=new yh(n)),e}async function Dl(n){return await Rl(()=>{let e=Pl(n);return Nl(),new Promise((t,o)=>{e.addResolver(t)})})}async function wh(n,e,t){return await Rl(()=>{let o=Pl(n);return Nl(),new Promise((i,r)=>{o.addCall(e,t,a=>i(a))})})}var yh=class{constructor(n){this.component=n,this.calls=[],this.receivers=[],this.resolvers=[]}addResolver(n){this.resolvers.push(n)}addCall(n,e,t){this.calls.push({path:"",method:n,params:e,handleReturn(o){t(o)}})}prepare(){Ct("commit.prepare",{component:this.component})}toRequestPayload(){let n=bs(this.component.canonical,this.component.ephemeral),e={snapshot:this.component.snapshotEncoded,updates:n,calls:this.calls.map(w=>({path:w.path,method:w.method,params:w.params}))},t=[],o=[],i=[],r=w=>t.forEach(O=>O(w)),a=()=>o.forEach(w=>w()),c=()=>i.forEach(w=>w()),u=Ct("commit",{component:this.component,commit:e,succeed:w=>{t.push(w)},fail:w=>{o.push(w)},respond:w=>{i.push(w)}});return[e,w=>{let{snapshot:O,effects:R}=w;if(c(),this.component.mergeNewSnapshot(O,R,n),Yr(this.component,this.component.effects),R.returns){let m=R.returns;this.calls.map(({handleReturn:_})=>_).forEach((_,N)=>{_(m[N])})}let f=JSON.parse(O);u({snapshot:f,effects:R}),this.resolvers.forEach(m=>m()),r(w)},()=>{c(),a()}]}};function Yr(n,e){Ct("effects",n,e)}var _a=st(St());function Fl(n,e){return e||(e=()=>{}),(t,o=!1)=>{let i=o,r=t,a=n.$wire,c=a.get(r);return _a.default.interceptor((p,b,w,O,R)=>{if(typeof c>"u"){console.error(`Livewire Entangle Error: Livewire property ['${r}'] cannot be found on component: ['${n.name}']`);return}let f=_a.default.entangle({get(){return a.get(t)},set(m){a.set(t,m,i)}},{get(){return b()},set(m){w(m)}});return e(()=>f()),a.get(t)},p=>{Object.defineProperty(p,"live",{get(){return i=!0,p}})})(c)}}var jl=st(St()),Nr=new WeakMap;function qi(n){if(!Nr.has(n)){let e=new xh(n);Nr.set(n,e),e.registerListeners()}return Nr.get(n)}function kh(n,e,t,o){let i=qi(t),r=()=>n.dispatchEvent(new CustomEvent("livewire-upload-start",{bubbles:!0,detail:{id:t.id,property:e}})),a=()=>n.dispatchEvent(new CustomEvent("livewire-upload-finish",{bubbles:!0,detail:{id:t.id,property:e}})),c=()=>n.dispatchEvent(new CustomEvent("livewire-upload-error",{bubbles:!0,detail:{id:t.id,property:e}})),u=w=>{var O=Math.round(w.loaded*100/w.total);n.dispatchEvent(new CustomEvent("livewire-upload-progress",{bubbles:!0,detail:{progress:O}}))},p=w=>{w.target.files.length!==0&&(r(),w.target.multiple?i.uploadMultiple(e,w.target.files,a,c,u):i.upload(e,w.target.files[0],a,c,u))};n.addEventListener("change",p);let b=()=>{n.value=null};n.addEventListener("click",b),o(()=>{n.removeEventListener("change",p),n.removeEventListener("click",b)})}var xh=class{constructor(n){this.component=n,this.uploadBag=new Ta,this.removeBag=new Ta}registerListeners(){this.component.$wire.$on("upload:generatedSignedUrl",({name:n,url:e})=>{this.component,this.handleSignedUrl(n,e)}),this.component.$wire.$on("upload:generatedSignedUrlForS3",({name:n,payload:e})=>{this.component,this.handleS3PreSignedUrl(n,e)}),this.component.$wire.$on("upload:finished",({name:n,tmpFilenames:e})=>this.markUploadFinished(n,e)),this.component.$wire.$on("upload:errored",({name:n})=>this.markUploadErrored(n)),this.component.$wire.$on("upload:removed",({name:n,tmpFilename:e})=>this.removeBag.shift(n).finishCallback(e))}upload(n,e,t,o,i){this.setUpload(n,{files:[e],multiple:!1,finishCallback:t,errorCallback:o,progressCallback:i})}uploadMultiple(n,e,t,o,i){this.setUpload(n,{files:Array.from(e),multiple:!0,finishCallback:t,errorCallback:o,progressCallback:i})}removeUpload(n,e,t){this.removeBag.push(n,{tmpFilename:e,finishCallback:t}),this.component.$wire.call("_removeUpload",n,e)}setUpload(n,e){this.uploadBag.add(n,e),this.uploadBag.get(n).length===1&&this.startUpload(n,e)}handleSignedUrl(n,e){let t=new FormData;Array.from(this.uploadBag.first(n).files).forEach(r=>t.append("files[]",r,r.name));let o={Accept:"application/json"},i=Il();i&&(o["X-CSRF-TOKEN"]=i),this.makeRequest(n,t,"post",e,o,r=>r.paths)}handleS3PreSignedUrl(n,e){let t=this.uploadBag.first(n).files[0],o=e.headers;"Host"in o&&delete o.Host;let i=e.url;this.makeRequest(n,t,"put",i,o,r=>[e.path])}makeRequest(n,e,t,o,i,r){let a=new XMLHttpRequest;a.open(t,o),Object.entries(i).forEach(([c,u])=>{a.setRequestHeader(c,u)}),a.upload.addEventListener("progress",c=>{c.detail={},c.detail.progress=Math.round(c.loaded*100/c.total),this.uploadBag.first(n).progressCallback(c)}),a.addEventListener("load",()=>{if((a.status+"")[0]==="2"){let u=r(a.response&&JSON.parse(a.response));this.component.$wire.call("_finishUpload",n,u,this.uploadBag.first(n).multiple);return}let c=null;a.status===422&&(c=a.response),this.component.$wire.call("_uploadErrored",n,c,this.uploadBag.first(n).multiple)}),a.send(e)}startUpload(n,e){let t=e.files.map(o=>({name:o.name,size:o.size,type:o.type}));this.component.$wire.call("_startUpload",n,t,e.multiple),this.component}markUploadFinished(n,e){this.component;let t=this.uploadBag.shift(n);t.finishCallback(t.multiple?e:e[0]),this.uploadBag.get(n).length>0&&this.startUpload(n,this.uploadBag.last(n))}markUploadErrored(n){this.component,this.uploadBag.shift(n).errorCallback(),this.uploadBag.get(n).length>0&&this.startUpload(n,this.uploadBag.last(n))}},Ta=class{constructor(){this.bag={}}add(n,e){this.bag[n]||(this.bag[n]=[]),this.bag[n].push(e)}push(n,e){this.add(n,e)}first(n){return this.bag[n]?this.bag[n][0]:null}last(n){return this.bag[n].slice(-1)[0]}get(n){return this.bag[n]}shift(n){return this.bag[n].shift()}call(n,...e){(this.listeners[n]||[]).forEach(t=>{t(...e)})}has(n){return Object.keys(this.listeners).includes(n)}};function Eh(n,e,t,o=()=>{},i=()=>{},r=()=>{}){qi(n).upload(e,t,o,i,r)}function Sh(n,e,t,o=()=>{},i=()=>{},r=()=>{}){qi(n).uploadMultiple(e,t,o,i,r)}function _h(n,e,t,o=()=>{},i=()=>{}){qi(n).removeUpload(e,t,o,i)}var vs={},Hl;function Pt(n,e,t=null){vs[n]=e}function Th(n){Hl=n}var Ca={on:"$on",get:"$get",set:"$set",call:"$call",commit:"$commit",watch:"$watch",entangle:"$entangle",dispatch:"$dispatch",dispatchTo:"$dispatchTo",dispatchSelf:"$dispatchSelf",upload:"$upload",uploadMultiple:"$uploadMultiple",removeUpload:"$removeUpload"};function Ch(n,e){return new Proxy({},{get(t,o){if(o==="__instance")return n;if(o in Ca)return Ba(n,Ca[o]);if(o in vs)return Ba(n,o);if(o in e)return e[o];if(!["then"].includes(o))return Bh(n)(o)},set(t,o,i){return o in e&&(e[o]=i),!0}})}function Ba(n,e){return vs[e](n)}function Bh(n){return Hl(n)}jl.default.magic("wire",(n,{cleanup:e})=>{let t;return new Proxy({},{get(o,i){return t||(t=Bn(n)),["$entangle","entangle"].includes(i)?Fl(t,e):t.$wire[i]},set(o,i,r){return t||(t=Bn(n)),t.$wire[i]=r,!0}})});Pt("__instance",n=>n);Pt("$get",n=>(e,t=!0)=>gn(t?n.reactive:n.ephemeral,e));Pt("$set",n=>async(e,t,o=!0)=>(zi(n.reactive,e,t),o?await Dl(n):Promise.resolve()));Pt("$call",n=>async(e,...t)=>await n.$wire[e](...t));Pt("$entangle",n=>(e,t=!1)=>Fl(n)(e,t));Pt("$toggle",n=>(e,t=!0)=>n.$wire.set(e,!n.$wire.get(e),t));Pt("$watch",n=>(e,t)=>{let o=!0,i;jl.default.effect(()=>{let r=gn(n.reactive,e);JSON.stringify(r),o?i=r:queueMicrotask(()=>{t(r,i),i=r}),o=!1})});Pt("$refresh",n=>n.$wire.$commit);Pt("$commit",n=>async()=>await Dl(n));Pt("$on",n=>(...e)=>Uh(n,...e));Pt("$dispatch",n=>(...e)=>$l(n,...e));Pt("$dispatchSelf",n=>(...e)=>go(n,...e));Pt("$dispatchTo",n=>(...e)=>ws(n,...e));Pt("$upload",n=>(...e)=>Eh(n,...e));Pt("$uploadMultiple",n=>(...e)=>Sh(n,...e));Pt("$removeUpload",n=>(...e)=>_h(n,...e));var Rr=new WeakMap;Pt("$parent",n=>{if(Rr.has(n))return Rr.get(n).$wire;let e=Bn(n.el.parentElement);return Rr.set(n,e),e.$wire});var po=new WeakMap;function Oh(n,e,t){po.has(n)||po.set(n,{});let o=po.get(n);o[e]=t,po.set(n,o)}Th(n=>e=>async(...t)=>{if(t.length===1&&t[0]instanceof Event&&(t=[]),po.has(n)){let o=po.get(n);if(typeof o[e]=="function")return o[e](t)}return await wh(n,e,t)});var Ah=class{constructor(n){if(n.__livewire)throw"Component already initialized";if(n.__livewire=this,this.el=n,this.id=n.getAttribute("wire:id"),this.__livewireId=this.id,this.snapshotEncoded=n.getAttribute("wire:snapshot"),this.snapshot=JSON.parse(this.snapshotEncoded),!this.snapshot)throw"Snapshot missing on Livewire component with id: "+this.id;this.name=this.snapshot.memo.name,this.effects=JSON.parse(n.getAttribute("wire:effects")),this.originalEffects=Hn(this.effects),this.canonical=lo(Hn(this.snapshot.data)),this.ephemeral=lo(Hn(this.snapshot.data)),this.reactive=Alpine.reactive(this.ephemeral),this.$wire=Ch(this,this.reactive),this.cleanups=[],Yr(this,this.effects)}mergeNewSnapshot(n,e,t={}){let o=JSON.parse(n),i=Hn(this.canonical),r=this.applyUpdates(i,t),a=lo(Hn(o.data)),c=bs(r,a);this.snapshotEncoded=n,this.snapshot=o,this.effects=e,this.canonical=lo(Hn(o.data));let u=lo(Hn(o.data));return Object.entries(c).forEach(([p,b])=>{let w=p.split(".")[0];this.reactive[w]=u[w]}),c}applyUpdates(n,e){for(let t in e)zi(n,t,e[t]);return n}replayUpdate(n,e){let t={...this.effects,html:e};this.mergeNewSnapshot(JSON.stringify(n),t),Yr(this,{html:e})}get children(){let n=this.snapshot.memo;return Object.values(n.children).map(t=>t[1]).map(t=>Lh(t))}inscribeSnapshotAndEffectsOnElement(){let n=this.el;n.setAttribute("wire:snapshot",this.snapshotEncoded);let e=this.originalEffects.listeners?{listeners:this.originalEffects.listeners}:{};this.originalEffects.url&&(e.url=this.originalEffects.url),n.setAttribute("wire:effects",JSON.stringify(e))}addCleanup(n){this.cleanups.push(n)}cleanup(){for(;this.cleanups.length>0;)this.cleanups.pop()()}},vn={};function Ih(n){let e=new Ah(n);if(vn[e.id])throw"Component already registered";return Ct("component.init",{component:e,cleanup:o=>e.addCleanup(o)}),vn[e.id]=e,e}function Mh(n){let e=vn[n];e&&(e.cleanup(),delete vn[n])}function Lh(n){let e=vn[n];if(!e)throw"Component not found: "+n;return e}function Bn(n,e=!0){let t=Alpine.findClosest(n,o=>o.__livewire);if(!t){if(e)throw"Could not find Livewire component in DOM tree";return}return t.__livewire}function Ul(n){return Object.values(vn).filter(e=>n==e.name)}function Nh(n){return Ul(n).map(e=>e.$wire)}function Rh(n){let e=vn[n];return e&&e.$wire}function Ph(){return Object.values(vn)[0].$wire}function Dh(){return Object.values(vn)}st(St());bt("effects",(n,e)=>{Fh(n,e.listeners||[]),jh(n,e.dispatches||[])});function Fh(n,e){e.forEach(t=>{let o=i=>{i.__livewire&&i.__livewire.receivedBy.push(n),n.$wire.call("__dispatch",t,i.detail||{})};window.addEventListener(t,o),n.addCleanup(()=>window.removeEventListener(t,o)),n.el.addEventListener(t,i=>{i.__livewire&&(i.bubbles||(i.__livewire&&i.__livewire.receivedBy.push(n.id),n.$wire.call("__dispatch",t,i.detail||{})))})})}function jh(n,e){e.forEach(({name:t,params:o={},self:i=!1,to:r})=>{i?go(n,t,o):r?ws(n,r,t,o):$l(n,t,o)})}function Wi(n,e,t,o=!0){let i=new CustomEvent(e,{bubbles:o,detail:t});i.__livewire={name:e,params:t,receivedBy:[]},n.dispatchEvent(i)}function $l(n,e,t){Wi(n.el,e,t)}function Hh(n,e){Wi(window,n,e)}function go(n,e,t){Wi(n.el,e,t,!1)}function ws(n,e,t,o){Ul(e).forEach(r=>{Wi(r.el,t,o,!1)})}function Uh(n,e,t){n.el.addEventListener(e,o=>{t(o.detail)})}function $h(n,e){window.addEventListener(n,t=>{t.__livewire&&e(t.detail)})}st(St());function Jr(n){return n.match(new RegExp("wire:"))}function Xr(n,e){let[t,...o]=e.replace(new RegExp("wire:"),"").split(".");return new qh(t,o,e,n)}function tn(n,e){bt("directive.init",({el:t,component:o,directive:i,cleanup:r})=>{i.value===n&&e({el:t,directive:i,component:o,cleanup:r})})}function Ki(n){return new zh(n)}var zh=class{constructor(n){this.el=n,this.directives=this.extractTypeModifiersAndValue()}all(){return this.directives}has(n){return this.directives.map(e=>e.value).includes(n)}missing(n){return!this.has(n)}get(n){return this.directives.find(e=>e.value===n)}extractTypeModifiersAndValue(){return Array.from(this.el.getAttributeNames().filter(n=>Jr(n)).map(n=>Xr(this.el,n)))}},qh=class{constructor(n,e,t,o){this.rawName=this.raw=t,this.el=o,this.eventContext,this.value=n,this.modifiers=e,this.expression=this.el.getAttribute(this.rawName)}get method(){const{method:n}=this.parseOutMethodAndParams(this.expression);return n}get params(){const{params:n}=this.parseOutMethodAndParams(this.expression);return n}parseOutMethodAndParams(n){let e=n,t=[];const o=e.match(/(.*?)\((.*)\)/s);return o&&(e=o[1],t=new Function("$event",`return (function () {
                for (var l=arguments.length, p=new Array(l), k=0; k<l; k++) {
                    p[k] = arguments[k];
                }
                return [].concat(p);
            })(${o[2]})`)(this.eventContext)),{method:e,params:t}}},Wh=st(eh()),Kh=st(th()),Vh=st(nh()),Yh=st(oh()),Jh=st(ih());function Xh(){let n=new URL(window.location.href,document.baseURI);ef(n,document.documentElement.outerHTML)}function Gh(n){window.addEventListener("popstate",e=>{let o=(e.state||{}).alpine||{};if(!o._html)return;let i=tf(o._html);n(i)})}function Zh(n,e){Qh(e,n)}function Qh(n,e){zl("pushState",n,e)}function ef(n,e){zl("replaceState",n,e)}function zl(n,e,t){let o=new Date().getTime();ql(o,t);let i=history.state||{};i.alpine||(i.alpine={}),i.alpine._html=o;try{history[n](i,document.title,e)}catch(r){r instanceof DOMException&&r.name==="SecurityError"&&console.error("Livewire: You can't use wire:navigate with a link to a different root domain: "+e),console.error(r)}}function tf(n){return JSON.parse(sessionStorage.getItem("alpine:"+n))}function ql(n,e){try{sessionStorage.setItem("alpine:"+n,JSON.stringify(e))}catch(t){if(![22,1,2,3,4,5,6,7,8,9,10,11,12,13,14].includes(t.code))return;let o=Object.keys(sessionStorage).map(i=>Number(i.replace("alpine:",""))).sort().shift();if(!o)return;sessionStorage.removeItem("alpine:"+o),ql(n,e)}}var cn={};function Oa(n,e){let t=n.pathname;cn[t]||(cn[t]={finished:!1,html:null,whenFinished:()=>{}},fetch(t).then(o=>o.text()).then(o=>{e(o)}))}function Aa(n,e){let t=cn[e.pathname];t.html=n,t.finished=!0,t.whenFinished()}function nf(n,e,t){let o=n.pathname+n.search;if(!cn[o])return t();if(cn[o].finished){let i=cn[o].html;return delete cn[o],e(i)}else cn[o].whenFinished=()=>{let i=cn[o].html;delete cn[o],e(i)}}function of(n,e){let t=i=>i.which>1||i.altKey||i.ctrlKey||i.metaKey||i.shiftKey,o=i=>i.which!==13||i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;n.addEventListener("click",i=>{t(i)||i.preventDefault()}),n.addEventListener("mousedown",i=>{t(i)||(i.preventDefault(),e(r=>{let a=c=>{c.preventDefault(),r(),n.removeEventListener("mouseup",a)};n.addEventListener("mouseup",a)}))}),n.addEventListener("keydown",i=>{o(i)||(i.preventDefault(),e(r=>{r()}))})}function rf(n,e=60,t){n.addEventListener("mouseenter",o=>{let i=setTimeout(()=>{t(o)},e),r=()=>{clearTimeout(i),n.removeEventListener("mouseleave",r)};n.addEventListener("mouseleave",r)})}function Ia(n){return Wl(n.getAttribute("href"))}function Wl(n){return new URL(n,document.baseURI)}var ys=st(St());function Ma(n){ys.default.mutateDom(()=>{n.querySelectorAll("[data-teleport-template]").forEach(e=>e._x_teleport.remove())})}function La(n){ys.default.mutateDom(()=>{n.querySelectorAll("[data-teleport-target]").forEach(e=>e.remove())})}function Na(n){ys.default.walk(n,(e,t)=>{e._x_teleport&&(e._x_teleportPutBack(),t())})}function Ra(){document.body.setAttribute("data-scroll-x",document.body.scrollLeft),document.body.setAttribute("data-scroll-y",document.body.scrollTop),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(n=>{n.setAttribute("data-scroll-x",n.scrollLeft),n.setAttribute("data-scroll-y",n.scrollTop)})}function Pa(){let n=e=>{e.hasAttribute("data-scroll-x")?(e.scrollTo({top:Number(e.getAttribute("data-scroll-x")),left:Number(e.getAttribute("data-scroll-y")),behavior:"instant"}),e.removeAttribute("data-scroll-x"),e.removeAttribute("data-scroll-y")):window.scrollTo({top:0,left:0,behavior:"instant"})};queueMicrotask(()=>{n(document.body),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(n)})}var Gr=st(St()),zo={};function Da(n){zo={},document.querySelectorAll("[x-persist]").forEach(e=>{zo[e.getAttribute("x-persist")]=e,n(e),Gr.default.mutateDom(()=>{e.remove()})})}function Fa(n){let e=[];document.querySelectorAll("[x-persist]").forEach(t=>{let o=zo[t.getAttribute("x-persist")];o&&(e.push(t.getAttribute("x-persist")),o._x_wasPersisted=!0,n(o,t),Gr.default.mutateDom(()=>{t.replaceWith(o)}))}),Object.entries(zo).forEach(([t,o])=>{e.includes(t)||Gr.default.destroyTree(o)}),zo={}}var Yo=st(rh());Yo.default.configure({minimum:.1});Yo.default.configure({trickleSpeed:200});lf();var Zr=!1;function sf(){Zr=!0,setTimeout(()=>{Zr&&Yo.default.start()},150)}function af(){Zr=!1,Yo.default.done(),Yo.default.remove()}function lf(){let n=document.createElement("style");n.innerHTML=`/* Make clicks pass-through */

    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: var(--livewire-progress-bar-color, #29d);

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    /* Fancy blur effect */
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px #29d, 0 0 5px #29d;
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    /* Remove these to get rid of the spinner */
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: var(--livewire-progress-bar-color, #29d);
      border-left-color: var(--livewire-progress-bar-color, #29d);
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    `,document.head.appendChild(n)}var Pr=[],Kl=["data-csrf"];function ja(n,e){let t=new DOMParser().parseFromString(n,"text/html"),o=document.adoptNode(t.body),i=document.adoptNode(t.head);Pr=Pr.concat(Array.from(document.body.querySelectorAll("script")).map(a=>Xl(Gl(a.outerHTML,Kl)))),df(i),cf(o,Pr);let r=document.body;document.body.replaceWith(o),Alpine.destroyTree(r),e()}function cf(n,e){n.querySelectorAll("script").forEach(t=>{if(t.hasAttribute("data-navigate-once")){let o=Xl(Gl(t.outerHTML,Kl));if(e.includes(o))return}t.replaceWith(Vl(t))})}function df(n){let e=Array.from(document.head.children),t=e.map(i=>i.outerHTML),o=document.createDocumentFragment();for(let i of Array.from(n.children))Ua(i)&&(t.includes(i.outerHTML)?o.appendChild(i):(Yl(i)&&uf(i,e)&&setTimeout(()=>window.location.reload()),Jl(i)?document.head.appendChild(Vl(i)):document.head.appendChild(i)));for(let i of Array.from(document.head.children))Ua(i)||i.remove();for(let i of Array.from(n.children))document.head.appendChild(i)}function Vl(n){let e=document.createElement("script");e.textContent=n.textContent,e.async=n.async;for(let t of n.attributes)e.setAttribute(t.name,t.value);return e}function Yl(n){return n.hasAttribute("data-navigate-track")}function uf(n,e){let[t,o]=Ha(n);return e.some(i=>{if(!Yl(i))return!1;let[r,a]=Ha(i);if(r===t&&o!==a)return!0})}function Ha(n){return(Jl(n)?n.src:n.href).split("?")}function Ua(n){return n.tagName.toLowerCase()==="link"&&n.getAttribute("rel").toLowerCase()==="stylesheet"||n.tagName.toLowerCase()==="style"||n.tagName.toLowerCase()==="script"}function Jl(n){return n.tagName.toLowerCase()==="script"}function Xl(n){return n.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0),e&e),0)}function Gl(n,e){let t=n;return e.forEach(o=>{const i=new RegExp(`${o}="[^"]*"|${o}='[^']*'`,"g");t=t.replace(i,"")}),t.trim()}function hf(n,e){let t=n.pathname+n.search;fetch(t).then(o=>o.text()).then(o=>{e(o)})}st(St());var Dr=!0;function ff(n){n.navigate=t=>{e(Wl(t))},n.navigate.disableProgressBar=()=>{Dr=!1},n.addInitSelector(()=>`[${n.prefixed("navigate")}]`),n.directive("navigate",(t,{value:o,expression:i,modifiers:r},{evaluateLater:a,cleanup:c})=>{r.includes("hover")&&rf(t,60,()=>{let p=Ia(t);Oa(p,b=>{Aa(b,p)})}),of(t,p=>{let b=Ia(t);Oa(b,w=>{Aa(w,b)}),p(()=>{e(b)})})});function e(t){Dr&&sf(),pf(t,o=>{Bi("alpine:navigating"),Ra(),Dr&&af(),Xh(),$a(n,i=>{Da(r=>{Ma(r)}),ja(o,()=>{La(document.body),Fa((r,a)=>{Na(r)}),Pa(),Bi("alpine:navigated"),Zh(o,t),i(()=>{za(n)})})})})}Gh(t=>{Ra(),$a(n,o=>{Da(i=>{Ma(i)}),ja(t,()=>{La(document.body),Fa((i,r)=>{Na(i)}),Pa(),Bi("alpine:navigated"),o(()=>{za(n)})})})}),setTimeout(()=>{Bi("alpine:navigated")})}function pf(n,e){nf(n,e,()=>{hf(n,e)})}function $a(n,e){n.stopObservingMutations(),e(t=>{n.startObservingMutations(),setTimeout(()=>{t()})})}function Bi(n){document.dispatchEvent(new CustomEvent(n,{bubbles:!0}))}function za(n){n.initTree(document.body,void 0,(e,t)=>{e._x_wasPersisted&&t()})}function gf(n){n.magic("queryString",(e,{interceptor:t})=>{let o,i=!1,r=!1;return t((a,c,u,p,b)=>{let w=o||p,{initial:O,replace:R,push:f,pop:m}=Qr(w,a,i);return u(O),r?(n.effect(()=>f(c())),m(async x=>{u(x),await(()=>Promise.resolve())()})):n.effect(()=>R(c())),O},a=>{a.alwaysShow=()=>(i=!0,a),a.usePush=()=>(r=!0,a),a.as=c=>(o=c,a)})}),n.history={track:Qr}}function Qr(n,e,t=!1){let{has:o,get:i,set:r,remove:a}=bf(),c=new URL(window.location.href),u=o(c,n),p=u?i(c,n):e,b=JSON.stringify(p),w=f=>JSON.stringify(f)===b;t&&(c=r(c,n,p)),qa(c,n,{value:p});let O=!1,R=(f,m)=>{if(O)return;let x=new URL(window.location.href);!t&&!u&&w(m)?x=a(x,n):x=r(x,n,m),f(x,n,{value:m})};return{initial:p,replace(f){R(qa,f)},push(f){R(mf,f)},pop(f){let m=x=>{!x.state||!x.state.alpine||Object.entries(x.state.alpine).forEach(([_,{value:N}])=>{if(_!==n)return;O=!0;let W=f(N);W instanceof Promise?W.finally(()=>O=!1):O=!1})};return window.addEventListener("popstate",m),()=>window.removeEventListener("popstate",m)}}}function qa(n,e,t){let o=window.history.state||{};o.alpine||(o.alpine={}),o.alpine[e]=Zl(t),window.history.replaceState(o,"",n.toString())}function mf(n,e,t){let o=window.history.state||{};o.alpine||(o.alpine={}),o={alpine:{...o.alpine,[e]:Zl(t)}},window.history.pushState(o,"",n.toString())}function Zl(n){return JSON.parse(JSON.stringify(n))}function bf(){return{has(n,e){let t=n.search;if(!t)return!1;let o=Oi(t);return Object.keys(o).includes(e)},get(n,e){let t=n.search;return t?Oi(t)[e]:!1},set(n,e,t){let o=Oi(n.search);return o[e]=t,n.search=Wa(o),n},remove(n,e){let t=Oi(n.search);return delete t[e],n.search=Wa(t),n}}}function Wa(n){let e=i=>typeof i=="object"&&i!==null,t=(i,r={},a="")=>(Object.entries(i).forEach(([c,u])=>{let p=a===""?c:`${a}[${c}]`;e(u)?r={...r,...t(u,r,p)}:r[p]=encodeURIComponent(u).replaceAll("%20","+").replaceAll("%2C",",")}),r),o=t(n);return Object.entries(o).map(([i,r])=>`${i}=${r}`).join("&")}function Oi(n){if(n=n.replace("?",""),n==="")return{};let e=(i,r,a)=>{let[c,u,...p]=i.split(".");if(!u)return a[i]=r;a[c]===void 0&&(a[c]=isNaN(u)?{}:[]),e([u,...p].join("."),r,a[c])},t=n.split("&").map(i=>i.split("=")),o={};return t.forEach(([i,r])=>{if(r)if(r=decodeURIComponent(r.replaceAll("+","%20")),!i.includes("["))o[i]=r;else{let a=i.replaceAll("[",".").replaceAll("]","");e(a,r,o)}}),o}var vf=st(sh()),wf=st(ah()),Mt=st(St());function yf(){Mr(document,"livewire:init"),Mr(document,"livewire:initializing"),Mt.default.plugin(vf.default),Mt.default.plugin(gf),Mt.default.plugin(Yh.default),Mt.default.plugin(Wh.default),Mt.default.plugin(Jh.default),Mt.default.plugin(Kh.default),Mt.default.plugin(Vh.default),Mt.default.plugin(ff),Mt.default.plugin(wf.default),Mt.default.addRootSelector(()=>"[wire\\:id]"),Mt.default.onAttributesAdded((n,e)=>{let t=Bn(n,!1);t&&e.forEach(o=>{if(!Jr(o.name))return;let i=Xr(n,o.name);Ct("directive.init",{el:n,component:t,directive:i,cleanup:r=>{Mt.default.onAttributeRemoved(n,i.raw,r)}})})}),Mt.default.interceptInit(Mt.default.skipDuringClone(n=>{if(n.hasAttribute("wire:id")){let t=Ih(n);Mt.default.onAttributeRemoved(n,"wire:id",()=>{Mh(t.id)})}let e=Bn(n,!1);e&&(Ct("element.init",{el:n,component:e}),Array.from(n.getAttributeNames()).filter(o=>Jr(o)).map(o=>Xr(n,o)).forEach(o=>{Ct("directive.init",{el:n,component:e,directive:o,cleanup:i=>{Mt.default.onAttributeRemoved(n,o.raw,i)}})}))})),Mt.default.start(),setTimeout(()=>window.Livewire.initialRenderIsFinished=!0),Mr(document,"livewire:initialized")}function kf(){}function xf(){}var Ql=st(St());bt("commit.prepare",({component:n})=>{n.children.forEach(e=>{Ef(e)&&e.$wire.$commit()})});function Ef(n){return!!n.snapshot.memo.bindings}var Sf=st(St()),bo={};bt("element.init",({el:n,component:e})=>{Ki(n).missing("submit")||n.addEventListener("submit",()=>{bo[e.id]=[],Sf.default.walk(e.el,(o,i)=>{if(n.contains(o)){if(o.hasAttribute("wire:ignore"))return i();o.tagName.toLowerCase()==="button"&&o.type==="submit"||o.tagName.toLowerCase()==="select"||o.tagName.toLowerCase()==="input"&&(o.type==="checkbox"||o.type==="radio")?(o.disabled||bo[e.id].push(()=>o.disabled=!1),o.disabled=!0):(o.tagName.toLowerCase()==="input"||o.tagName.toLowerCase()==="textarea")&&(o.readOnly||bo[e.id].push(()=>o.readOnly=!1),o.readOnly=!0)}})})});bt("commit",({component:n,respond:e})=>{e(()=>{_f(n)})});function _f(n){if(bo[n.id])for(;bo[n.id].length>0;)bo[n.id].shift()()}bt("commit",({component:n,succeed:e})=>{e(({effects:t})=>{let o=t.download;if(!o)return;let i=window.webkitURL||window.URL,r=i.createObjectURL(Tf(o.content,o.contentType)),a=document.createElement("a");a.style.display="none",a.href=r,a.download=o.name,document.body.appendChild(a),a.click(),setTimeout(function(){i.revokeObjectURL(r)},0)})});function Tf(n,e="",t=512){const o=atob(n),i=[];e===null&&(e="");for(let r=0;r<o.length;r+=t){let a=o.slice(r,r+t),c=new Array(a.length);for(let p=0;p<a.length;p++)c[p]=a.charCodeAt(p);let u=new Uint8Array(c);i.push(u)}return new Blob(i,{type:e})}var Ka=st(St());bt("effects",(n,e)=>{let t=e.js,o=e.xjs;t&&Object.entries(t).forEach(([i,r])=>{Oh(n,i,()=>{Ka.default.evaluate(n.el,r)})}),o&&o.forEach(i=>{Ka.default.evaluate(n.el,i)})});var Va=st(St());bt("component.init",({component:n,cleanup:e})=>{let o=n.effects.url;o&&Object.entries(o).forEach(([i,r])=>{let{name:a,as:c,use:u,alwaysShow:p}=Cf(i,r);c||(c=a);let b=gn(n.ephemeral,a),{initial:w,replace:O,push:R,pop:f}=Qr(c,b,p);if(u==="replace"){let m=Va.default.effect(()=>{O(gn(n.reactive,a))});e(()=>Va.default.release(m))}else if(u==="push"){let m=bt("commit",({component:_,succeed:N})=>{let W=gn(_.canonical,a);N(()=>{let $=gn(_.canonical,a);JSON.stringify(W)!==JSON.stringify($)&&R($)})}),x=f(async _=>{await n.$wire.set(a,_),document.querySelectorAll("input").forEach(N=>{N._x_forceModelUpdate&&N._x_forceModelUpdate(N._x_model.get())})});e(()=>{m(),x()})}})});function Cf(n,e){let t={use:"replace",alwaysShow:!1};return typeof e=="string"?{...t,name:e,as:e}:{...{...t,name:n,as:n},...e}}bt("request",({options:n})=>{window.Echo&&(n.headers["X-Socket-ID"]=window.Echo.socketId())});bt("effects",(n,e)=>{(e.listeners||[]).forEach(o=>{if(o.startsWith("echo")){if(typeof window.Echo>"u"){console.warn("Laravel Echo cannot be found");return}let i=o.split(/(echo:|echo-)|:|,/);i[1]=="echo:"&&i.splice(2,0,"channel",void 0),i[2]=="notification"&&i.push(void 0,void 0);let[r,a,c,u,p,b,w]=i;["channel","private","encryptedPrivate"].includes(c)?window.Echo[c](p).listen(w,O=>{go(n,o,[O])}):c=="presence"?["here","joining","leaving"].includes(w)?window.Echo.join(p)[w](O=>{go(n,o,[O])}):window.Echo.join(p).listen(w,O=>{go(n,o,[O])}):c=="notification"?window.Echo.private(p).notification(O=>{go(n,o,[O])}):console.warn("Echo channel type not yet supported")}})});Of()&&Alpine.navigate.disableProgressBar();document.addEventListener("alpine:navigated",n=>{document.dispatchEvent(new CustomEvent("livewire:navigated",{bubbles:!0}))});document.addEventListener("alpine:navigating",n=>{document.dispatchEvent(new CustomEvent("livewire:navigating",{bubbles:!0}))});function Bf(n,e,t){n.redirectUsingNavigate?Alpine.navigate(e):t()}function Of(){return!!(document.querySelector("[data-no-progress-bar]")||window.livewireScriptConfig&&window.livewireScriptConfig.progressBar===!1)}bt("effects",(n,e)=>{if(!e.redirect)return;let t=e.redirect;Bf(e,t,()=>{window.location.href=t})});var Af=st(St());function If(n,e,t){let o=e.parentElement?e.parentElement.tagName.toLowerCase():"div",i=document.createElement(o);i.innerHTML=t;let r;try{r=Bn(e.parentElement)}catch{}r&&(i.__livewire=r);let a=i.firstElementChild;a.__livewire=n,Ct("morph",{el:e,toEl:a,component:n}),Af.default.morph(e,a,{updating:(c,u,p,b)=>{if(!ao(c)){if(Ct("morph.updating",{el:c,toEl:u,component:n,skip:b,childrenOnly:p}),c.__livewire_ignore===!0||(c.__livewire_ignore_self===!0&&p(),Ya(c)&&c.getAttribute("wire:id")!==n.id))return b();Ya(c)&&(u.__livewire=n)}},updated:(c,u)=>{ao(c)||Ct("morph.updated",{el:c,component:n})},removing:(c,u)=>{ao(c)||Ct("morph.removing",{el:c,component:n,skip:u})},removed:c=>{ao(c)||Ct("morph.removed",{el:c,component:n})},adding:c=>{Ct("morph.adding",{el:c,component:n})},added:c=>{ao(c)||(Bn(c).id,Ct("morph.added",{el:c}))},key:c=>{if(!ao(c))return c.hasAttribute("wire:key")?c.getAttribute("wire:key"):c.hasAttribute("wire:id")?c.getAttribute("wire:id"):c.id},lookahead:!1})}function ao(n){return typeof n.hasAttribute!="function"}function Ya(n){return n.hasAttribute("wire:id")}bt("effects",(n,e)=>{let t=e.html;t&&queueMicrotask(()=>{If(n,n.el,t)})});bt("commit.prepare",({component:n})=>{ec(n,e=>{e.snapshot.memo.props&&e.$wire.$commit()})});function ec(n,e){n.children.forEach(t=>{e(t),ec(t,e)})}var Ja=st(St());bt("morph.added",({el:n})=>{n.__addedByMorph=!0});tn("transition",({el:n,directive:e,component:t,cleanup:o})=>{let i=Ja.default.reactive({state:!n.__addedByMorph});Ja.default.bind(n,{[e.rawName.replace("wire:","x-")]:"","x-show"(){return i.state}}),n.__addedByMorph&&setTimeout(()=>i.state=!0);let r=[];r.push(bt("morph.removing",({el:a,skip:c})=>{c(),a.addEventListener("transitionend",()=>{a.remove()}),i.state=!1,r.push(bt("morph",({component:u})=>{u===t&&(a.remove(),r.forEach(p=>p()))}))})),o(()=>r.forEach(a=>a()))});var Mf=new Ol;function Lf(n,e){Mf.each(n,t=>{t.callback(),t.callback=()=>{}}),e()}var Xa=st(St());bt("directive.init",({el:n,directive:e,cleanup:t,component:o})=>{if(["snapshot","effects","model","init","loading","poll","ignore","id","data","key","target","dirty"].includes(e.value))return;let i=e.rawName.replace("wire:","x-on:");e.value==="submit"&&!e.modifiers.includes("prevent")&&(i=i+".prevent");let r=Xa.default.bind(n,{[i](a){let c=()=>{Lf(o,()=>{Xa.default.evaluate(n,"$wire."+e.expression,{scope:{$event:a}})})};n.__livewire_confirm?n.__livewire_confirm(()=>{c()}):c()}});t(r)});var mo=st(St());mo.default.addInitSelector(()=>"[wire\\:navigate]");mo.default.addInitSelector(()=>"[wire\\:navigate\\.hover]");mo.default.interceptInit(mo.default.skipDuringClone(n=>{n.hasAttribute("wire:navigate")?mo.default.bind(n,{"x-navigate":!0}):n.hasAttribute("wire:navigate.hover")&&mo.default.bind(n,{"x-navigate.hover":!0})}));document.addEventListener("alpine:navigating",()=>{Livewire.all().forEach(n=>{n.inscribeSnapshotAndEffectsOnElement()})});tn("confirm",({el:n,directive:e})=>{let t=e.expression,o=e.modifiers.includes("prompt");t=t.replaceAll("\\n",`
`),t===""&&(t="Are you sure?"),n.__livewire_confirm=i=>{if(o){let[r,a]=t.split("|");a?prompt(r)===a&&i():console.warn("Livewire: Must provide expectation with wire:confirm.prompt")}else confirm(t)&&i()}});function zn(n,e,t,o=null){if(t=e.modifiers.includes("remove")?!t:t,e.modifiers.includes("class")){let i=e.expression.split(" ");t?n.classList.add(...i):n.classList.remove(...i)}else if(e.modifiers.includes("attr"))t?n.setAttribute(e.expression,!0):n.removeAttribute(e.expression);else{let i=o??window.getComputedStyle(n,null).getPropertyValue("display"),r=["inline","block","table","flex","grid","inline-flex"].filter(a=>e.modifiers.includes(a))[0]||"inline-block";r=e.modifiers.includes("remove")?i:r,n.style.display=t?r:"none"}}var es=new Set,ts=new Set;window.addEventListener("offline",()=>es.forEach(n=>n()));window.addEventListener("online",()=>ts.forEach(n=>n()));tn("offline",({el:n,directive:e,cleanup:t})=>{let o=()=>zn(n,e,!0),i=()=>zn(n,e,!1);es.add(o),ts.add(i),t(()=>{es.delete(o),ts.delete(i)})});tn("loading",({el:n,directive:e,component:t})=>{let o=Ff(n),[i,r]=Nf(e);Rf(t,o,[()=>i(()=>zn(n,e,!0)),()=>r(()=>zn(n,e,!1))]),Pf(t,o,[()=>i(()=>zn(n,e,!0)),()=>r(()=>zn(n,e,!1))])});function Nf(n){if(!n.modifiers.includes("delay")||n.modifiers.includes("none"))return[r=>r(),r=>r()];let e=200,t={shortest:50,shorter:100,short:150,default:200,long:300,longer:500,longest:1e3};Object.keys(t).some(r=>{if(n.modifiers.includes(r))return e=t[r],!0});let o,i=!1;return[r=>{o=setTimeout(()=>{r(),i=!0},e)},async r=>{i?(await r(),i=!1):clearTimeout(o)}]}function Rf(n,e,[t,o]){bt("commit",({component:i,commit:r,respond:a})=>{i===n&&(e.length>0&&!Df(r,e)||(t(),a(()=>{o()})))})}function Pf(n,e,[t,o]){let i=r=>{let{id:a,property:c}=r.detail;return a!==n.id||e.length>0&&!e.map(u=>u.target).includes(c)};window.addEventListener("livewire-upload-start",r=>{i(r)||t()}),window.addEventListener("livewire-upload-finish",r=>{i(r)||o()}),window.addEventListener("livewire-upload-error",r=>{i(r)||o()})}function Df(n,e){let{updates:t,calls:o}=n;return e.some(({target:i,params:r})=>{if(r)return o.some(({method:c,params:u})=>i===c&&r===tc(JSON.stringify(u)));if(Object.keys(t).some(c=>c.startsWith(i))||o.map(c=>c.method).includes(i))return!0})}function Ff(n){let e=Ki(n),t=[];if(e.has("target")){let o=e.get("target"),i=o.expression;i.includes("(")&&i.includes(")")?t.push({target:o.method,params:tc(JSON.stringify(o.params))}):i.includes(",")?i.split(",").map(r=>r.trim()).forEach(r=>{t.push({target:r})}):t.push({target:i})}else{let o=["init","dirty","offline","target","loading","poll","ignore","key","id"];e.all().filter(i=>!o.includes(i.value)).map(i=>i.expression.split("(")[0]).forEach(i=>t.push({target:i}))}return t}function tc(n){return btoa(encodeURIComponent(n))}tn("stream",({el:n,directive:e,component:t,cleanup:o})=>{let{expression:i,modifiers:r}=e,a=bt("stream",({name:c,content:u,replace:p})=>{c===i&&(r.includes("replace")||p?n.innerHTML=u:n.innerHTML=n.innerHTML+u)});o(a)});bt("request",({respond:n})=>{n(e=>{let t=e.response;t.headers.has("X-Livewire-Stream")&&(e.response={ok:!0,redirected:!1,status:200,async text(){let o=await jf(t,i=>{Ct("stream",i)});return Ml(o)&&(this.ok=!1),o}})})});async function jf(n,e){let t=n.body.getReader(),o="";for(;;){let{done:i,value:r}=await t.read(),c=new TextDecoder().decode(r),[u,p]=Hf(o+c);if(u.forEach(b=>{e(b)}),o=p,i)return o}}function Hf(n){let e=/({"stream":true.*?"endStream":true})/g,t=n.match(e),o=[];if(t)for(let r=0;r<t.length;r++)o.push(JSON.parse(t[r]).body);let i=n.replace(e,"");return[o,i]}tn("ignore",({el:n,directive:e})=>{e.modifiers.includes("self")?n.__livewire_ignore_self=!0:n.__livewire_ignore=!0});var nc=new Ol;bt("commit",({component:n,respond:e})=>{e(()=>{setTimeout(()=>{nc.each(n,t=>t(!1))})})});tn("dirty",({el:n,directive:e,component:t})=>{let o=Uf(n);Alpine.reactive({state:!1});let i=!1,r=n.style.display,a=c=>{zn(n,e,c,r),i=c};nc.add(t,a),Alpine.effect(()=>{let c=!1;if(o.length===0)c=JSON.stringify(t.canonical)!==JSON.stringify(t.reactive);else for(let u=0;u<o.length&&!c;u++){let p=o[u];c=JSON.stringify(gn(t.canonical,p))!==JSON.stringify(gn(t.reactive,p))}i!==c&&a(c),i=c})});function Uf(n){let e=Ki(n),t=[];return e.has("model")&&t.push(e.get("model").expression),e.has("target")&&(t=t.concat(e.get("target").expression.split(",").map(o=>o.trim()))),t}var $f=st(St());tn("model",({el:n,directive:e,component:t,cleanup:o})=>{let{expression:i,modifiers:r}=e;if(!i)return console.warn("Livewire: [wire:model] is missing a value.",n);if(oc(t,i))return console.warn('Livewire: [wire:model="'+i+'"] property does not exist on component: ['+t.name+"]",n);if(n.type&&n.type.toLowerCase()==="file")return kh(n,i,t,o);let a=r.includes("live"),c=r.includes("lazy")||r.includes("change"),u=r.includes("blur"),p=r.includes("debounce"),b=i.startsWith("$parent")?()=>t.$wire.$parent.$commit():()=>t.$wire.$commit(),w=qf(n)&&!p&&a?Wf(b,150):b;$f.default.bind(n,{"@change"(){c&&b()},"@blur"(){u&&b()},["x-model"+zf(r)](){return{get(){return gn(t.$wire,i)},set(O){zi(t.$wire,i,O),a&&!c&&!u&&w()}}}})});function zf(n){return n=n.filter(e=>!["lazy","defer"].includes(e)),n.length===0?"":"."+n.join(".")}function qf(n){return["INPUT","TEXTAREA"].includes(n.tagName.toUpperCase())&&!["checkbox","radio"].includes(n.type)}function oc(n,e){if(e.startsWith("$parent")){let o=Bn(n.el.parentElement,!1);return o?oc(o,e.split("$parent.")[1]):!0}let t=e.split(".")[0];return!Object.keys(n.canonical).includes(t)}function Wf(n,e){var t;return function(){var o=this,i=arguments,r=function(){t=null,n.apply(o,i)};clearTimeout(t),t=setTimeout(r,e)}}var Kf=st(St());tn("init",({el:n,directive:e})=>{let t=e.expression??"$refresh";Kf.default.evaluate(n,`$wire.${t}`)});var Vf=st(St());tn("poll",({el:n,directive:e,component:t})=>{let o=ip(e.modifiers,2e3),{start:i,pauseWhile:r,throttleWhile:a,stopWhen:c}=Jf(()=>{Yf(n,e)},o);i(),a(()=>Zf()&&ep(e)),r(()=>tp(e)&&np(n)),r(()=>Qf(n)),r(()=>Gf()),c(()=>op(n))});function Yf(n,e){Vf.default.evaluate(n,e.expression?"$wire."+e.expression:"$wire.$commit()")}function Jf(n,e=2e3){let t=[],o=[],i=[];return{start(){let r=Xf(e,()=>{if(i.some(a=>a()))return r();t.some(a=>a())||o.some(a=>a())&&Math.random()<.95||n()})},pauseWhile(r){t.push(r)},throttleWhile(r){o.push(r)},stopWhen(r){i.push(r)}}}var Un=[];function Xf(n,e){if(!Un[n]){let t={timer:setInterval(()=>t.callbacks.forEach(o=>o()),n),callbacks:new Set};Un[n]=t}return Un[n].callbacks.add(e),()=>{Un[n].callbacks.delete(e),Un[n].callbacks.size===0&&(clearInterval(Un[n].timer),delete Un[n])}}var ks=!1;window.addEventListener("offline",()=>ks=!0);window.addEventListener("online",()=>ks=!1);function Gf(){return ks}var ic=!1;document.addEventListener("visibilitychange",()=>{ic=document.hidden},!1);function Zf(){return ic}function Qf(n){return!Ki(n).has("poll")}function ep(n){return!n.modifiers.includes("keep-alive")}function tp(n){return n.modifiers.includes("visible")}function np(n){let e=n.getBoundingClientRect();return!(e.top<(window.innerHeight||document.documentElement.clientHeight)&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.bottom>0&&e.right>0)}function op(n){return n.isConnected===!1}function ip(n,e){let t,o=n.find(r=>r.match(/([0-9]+)ms/)),i=n.find(r=>r.match(/([0-9]+)s/));return o?t=Number(o.replace("ms","")):i&&(t=Number(i.replace("s",""))*1e3),t||e}var xs={directive:tn,dispatchTo:ws,start:yf,stop:kf,rescan:xf,first:Ph,find:Rh,getByName:Nh,all:Dh,hook:bt,trigger:Ct,dispatch:Hh,on:$h};window.Livewire&&console.warn("Detected multiple instances of Livewire running");window.Alpine&&console.warn("Detected multiple instances of Alpine running");window.Livewire=xs;window.Alpine=Ql.default;window.livewireScriptConfig===void 0&&document.addEventListener("DOMContentLoaded",()=>{xs.start()});var rp=Ql.default;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT *//*! Bundled license information:

tabbable/dist/index.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/function sp(n){n.data("ToastComponent",e=>({defaultDuration:e.defaultDuration,wireToasts:e.$entangle("toasts"),prod:e.$entangle("prod"),wireToastsIndex:0,toasts:[],pendingToasts:[],pendingRemovals:[],count:0,loaded:!1,init(){window.Toast={component:this,make:(t,o,i,r)=>({title:o,message:t,type:i,duration:r}),debug(t,o="",i=void 0){this.component.add(this.make(t,o,"debug",i??this.component.defaultDuration))},info(t,o="",i=void 0){this.component.add(this.make(t,o,"info",i??this.component.defaultDuration))},success(t,o="",i=void 0){this.component.add(this.make(t,o,"success",i??this.component.defaultDuration))},warning(t,o="",i=void 0){this.component.add(this.make(t,o,"warning",i??this.component.defaultDuration))},danger(t,o="",i=void 0){this.component.add(this.make(t,o,"danger",i??this.component.defaultDuration))}},addEventListener("toast",t=>{this.add(t.detail)}),this.fetchWireToasts(),this.$watch("wireToasts",()=>{this.fetchWireToasts()}),setTimeout(()=>{this.loaded=!0,this.pendingToasts.forEach(t=>{this.add(t)}),this.pendingToasts=null},e.loadDelay)},fetchWireToasts(){this.wireToasts.forEach((t,o)=>{o<this.wireToastsIndex||(this.add(window.Alpine.raw(t)),this.wireToastsIndex++)})},add(t){if(this.loaded!==!0){this.pendingToasts.push(t);return}if(t.type==="debug"){if(this.prod)return;console.log(t.title,t.message)}t.type??(t.type="info"),t.show=0,t.index=this.count,this.toasts[this.count]=t,this.scheduleRemoval(this.count),this.count++},scheduleRemoval(t){Object.keys(this.pendingRemovals).includes(t.toString())||this.toasts[t].duration!==0&&(this.pendingRemovals[t]=setTimeout(()=>{this.remove(t)},this.toasts[t].duration))},scheduleRemovalWithOlder(t=this.count){for(let o=0;o<t;o++)this.scheduleRemoval(o)},cancelRemovalWithNewer(t){for(let o=this.count-1;o>=t;o--)clearTimeout(this.pendingRemovals[o]),delete this.pendingRemovals[o]},remove(t){this.toasts[t]&&(this.toasts[t].show=0),setTimeout(()=>{this.toasts[t]="",delete this.pendingRemovals[t]},500)}}))}var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Es(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Fr(){}Object.assign(Fr,{default:Fr,register:Fr,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){const e=(this.document||this.ownerDocument).querySelectorAll(n);let t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1});Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(n){const e=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(t=>{const o=t instanceof Node;e.appendChild(o?t:document.createTextNode(t))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(n){n=arguments.length===0?!0:!!n;const e=this.parentNode,t=window.getComputedStyle(e,null),o=parseInt(t.getPropertyValue("border-top-width")),i=parseInt(t.getPropertyValue("border-left-width")),r=this.offsetTop-e.offsetTop<e.scrollTop,a=this.offsetTop-e.offsetTop+this.clientHeight-o>e.scrollTop+e.clientHeight,c=this.offsetLeft-e.offsetLeft<e.scrollLeft,u=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,p=r&&!a;(r||a)&&n&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-o+this.clientHeight/2),(c||u)&&n&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(r||a||c||u)&&!n&&this.scrollIntoView(p)});window.requestIdleCallback=window.requestIdleCallback||function(n){const e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(n){clearTimeout(n)};let lp=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var rc=(n=>(n.VERBOSE="VERBOSE",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR",n))(rc||{});const Ie={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},cp={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Qo(n,e,t="log",o,i="color: inherit"){if(!("console"in window)||!window.console[t])return;const r=["info","log","warn","error"].includes(t),a=[];switch(Qo.logLevel){case"ERROR":if(t!=="error")return;break;case"WARN":if(!["error","warn"].includes(t))return;break;case"INFO":if(!r||n)return;break}o&&a.push(o);const c="Editor.js 2.29.0",u=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;n&&(r?(a.unshift(u,i),e=`%c${c}%c ${e}`):e=`( ${c} )${e}`);try{r?o?console[t](`${e} %o`,...a):console[t](e,...a):console[t](e)}catch{}}Qo.logLevel="VERBOSE";function dp(n){Qo.logLevel=n}const et=Qo.bind(window,!1),Zt=Qo.bind(window,!0);function Wn(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function ft(n){return Wn(n)==="function"||Wn(n)==="asyncfunction"}function Rt(n){return Wn(n)==="object"}function On(n){return Wn(n)==="string"}function up(n){return Wn(n)==="boolean"}function Ga(n){return Wn(n)==="number"}function Za(n){return Wn(n)==="undefined"}function Kt(n){return n?Object.keys(n).length===0&&n.constructor===Object:!0}function sc(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}async function hp(n,e=()=>{},t=()=>{}){async function o(i,r,a){try{await i.function(i.data),await r(Za(i.data)?{}:i.data)}catch{a(Za(i.data)?{}:i.data)}}return n.reduce(async(i,r)=>(await i,o(r,e,t)),Promise.resolve())}function ac(n){return Array.prototype.slice.call(n)}function Pi(n,e){return function(){const t=this,o=arguments;window.setTimeout(()=>n.apply(t,o),e)}}function fp(n){return n.name.split(".").pop()}function pp(n){return/^[-\w]+\/([-+\w]+|\*)$/.test(n)}function Qa(n,e,t){let o;return(...i)=>{const r=this,a=()=>{o=null,t||n.apply(r,i)},c=t&&!o;window.clearTimeout(o),o=window.setTimeout(a,e),c&&n.apply(r,i)}}function ns(n,e,t=void 0){let o,i,r,a=null,c=0;t||(t={});const u=function(){c=t.leading===!1?0:Date.now(),a=null,r=n.apply(o,i),a||(o=i=null)};return function(){const p=Date.now();!c&&t.leading===!1&&(c=p);const b=e-(p-c);return o=this,i=arguments,b<=0||b>e?(a&&(clearTimeout(a),a=null),c=p,r=n.apply(o,i),a||(o=i=null)):!a&&t.trailing!==!1&&(a=setTimeout(u,b)),r}}function gp(){const n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e&&(n[e]=!0),n}function wo(n){return n[0].toUpperCase()+n.slice(1)}function os(n,...e){if(!e.length)return n;const t=e.shift();if(Rt(n)&&Rt(t))for(const o in t)Rt(t[o])?(n[o]||Object.assign(n,{[o]:{}}),os(n[o],t[o])):Object.assign(n,{[o]:t[o]});return os(n,...e)}function Vi(n){const e=gp();return n=n.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?n=n.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function mp(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function bp(){return lp(10)}function vp(n){window.open(n,"_blank")}function wp(n=""){return`${n}${Math.floor(Math.random()*1e8).toString(16)}`}function is(n,e,t){const o=`${e} is deprecated and will be removed in the next major release. Please use the ${t} instead.`;n&&Zt(o,"warn")}function xo(n,e,t){const o=t.value?"value":"get",i=t[o],r=`#${e}Cache`;if(t[o]=function(...a){return this[r]===void 0&&(this[r]=i.apply(this,...a)),this[r]},o==="get"&&t.set){const a=t.set;t.set=function(c){delete n[r],a.apply(this,c)}}return t}const lc=650;function qn(){return window.matchMedia(`(max-width: ${lc}px)`).matches}const el=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function yp(n,e){const t=Array.isArray(n)||Rt(n),o=Array.isArray(e)||Rt(e);return t||o?JSON.stringify(n)===JSON.stringify(e):n===e}class B{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,o={}){const i=document.createElement(e);Array.isArray(t)?i.classList.add(...t):t&&i.classList.add(t);for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r]);return i}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach(o=>e.appendChild(o)):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(o=>e.prepend(o))):e.prepend(t)}static swap(e,t){const o=document.createElement("div"),i=e.parentNode;i.insertBefore(o,e),i.insertBefore(e,t),i.insertBefore(t,o),i.removeChild(o)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return ac(e.querySelectorAll(B.allInputsSelector)).reduce((t,o)=>B.isNativeInput(o)||B.containsOnlyInlineElements(o)?[...t,o]:[...t,...B.getDeepestBlockElements(o)],[])}static getDeepestNode(e,t=!1){const o=t?"lastChild":"firstChild",i=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[o]){let r=e[o];if(B.isSingleTag(r)&&!B.isNativeInput(r)&&!B.isLineBreakTag(r))if(r[i])r=r[i];else if(r.parentNode[i])r=r.parentNode[i];else return r.parentNode;return this.getDeepestNode(r,t)}return e}static isElement(e){return Ga(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Ga(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}static canSetCaret(e){let t=!0;if(B.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=B.isContentEditable(e);return t}static isNodeEmpty(e,t){let o;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?o=e.value:o=e.textContent.replace("",""),t&&(o=o.replace(new RegExp(t,"g"),"")),o.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,t){e.normalize();const o=[e];for(;o.length>0;)if(e=o.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,t))return!1;e.childNodes&&o.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=B.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return B.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;On(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const o=i=>!B.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(o);return Array.from(t.children).every(o)}static getDeepestBlockElements(e){return B.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((t,o)=>[...t,...B.getDeepestBlockElements(o)],[])}static getHolder(e){return On(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,r=t.top+i,a=t.left+o;return{top:r,left:a,bottom:r+t.height,right:a+t.width}}}const kp={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},xp={Text:"",Link:"",Bold:"",Italic:""},Ep={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},Sp={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},cc={ui:kp,toolNames:xp,tools:Ep,blockTunes:Sp},uo=class{static ui(n,e){return uo._t(n,e)}static t(n,e){return uo._t(n,e)}static setDictionary(n){uo.currentDictionary=n}static _t(n,e){const t=uo.getNamespace(n);return!t||!t[e]?e:t[e]}static getNamespace(n){return n.split(".").reduce((e,t)=>!e||!Object.keys(e).length?{}:e[t],uo.currentDictionary)}};let Ht=uo;Ht.currentDictionary=cc;class dc extends Error{}class Yi{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const o=i=>{const r=t(i),a=this.subscribers[e].indexOf(o);return a!==-1&&this.subscribers[e].splice(a,1),r};this.subscribers[e].push(o)}emit(e,t){Kt(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((o,i)=>{const r=i(o);return r!==void 0?r:o},t)}off(e,t){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let o=0;o<this.subscribers[e].length;o++)if(this.subscribers[e][o]===t){delete this.subscribers[e][o];break}}destroy(){this.subscribers={}}}function $n(n){Object.setPrototypeOf(this,{get id(){return n.id},get name(){return n.name},get config(){return n.config},get holder(){return n.holder},get isEmpty(){return n.isEmpty},get selected(){return n.selected},set stretched(e){n.stretched=e},get stretched(){return n.stretched},get focusable(){return n.focusable},call(e,t){return n.call(e,t)},save(){return n.save()},validate(e){return n.validate(e)},dispatchChange(){n.dispatchChange()}})}class Ss{constructor(){this.allListeners=[]}on(e,t,o,i=!1){const r=wp("l"),a={id:r,element:e,eventType:t,handler:o,options:i};if(!this.findOne(e,t,o))return this.allListeners.push(a),e.addEventListener(t,o,i),r}off(e,t,o,i){const r=this.findAll(e,t,o);r.forEach((a,c)=>{const u=this.allListeners.indexOf(r[c]);u>-1&&(this.allListeners.splice(u,1),a.element.removeEventListener(a.eventType,a.handler,a.options))})}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,o){const i=this.findAll(e,t,o);return i.length>0?i[0]:null}findAll(e,t,o){let i;const r=e?this.findByEventTarget(e):[];return e&&t&&o?i=r.filter(a=>a.eventType===t&&a.handler===o):e&&t?i=r.filter(a=>a.eventType===t):i=r,i}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(t=>{if(t.element===e)return t})}findByType(e){return this.allListeners.filter(t=>{if(t.eventType===e)return t})}findByHandler(e){return this.allListeners.filter(t=>{if(t.handler===e)return t})}findById(e){return this.allListeners.find(t=>t.id===e)}}class ze{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new Ss,this.readOnlyMutableListeners={on:(o,i,r,a=!1)=>{this.mutableListenerIds.push(this.listeners.on(o,i,r,a))},clearAll:()=>{for(const o of this.mutableListenerIds)this.listeners.offById(o);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===ze)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class be{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?B.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(be.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let o=null;return t&&t instanceof Element&&(o=t.closest(`.${be.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let o=null;return t&&t instanceof Element&&(o=t.closest(`.${be.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!be.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,t,o={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,t=e.createRange(),o.x=t.boundingLeft,o.y=t.boundingTop,o.width=t.boundingWidth,o.height=t.boundingHeight,o;if(!window.getSelection)return et("Method window.getSelection is not supported","warn"),o;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return et("Method SelectionUtils.rangeCount is not supported","warn"),o;if(e.rangeCount===0)return o;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(o=t.getBoundingClientRect()),o.x===0&&o.y===0){const i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("")),t.insertNode(i),o=i.getBoundingClientRect();const r=i.parentNode;r.removeChild(i),r.normalize()}}return o}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){const o=document.createRange(),i=window.getSelection();return B.isNativeInput(e)?B.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(o.setStart(e,t),o.setEnd(e,t),i.removeAllRanges(),i.addRange(o),o.getBoundingClientRect())}static isRangeInsideContainer(e){const t=be.range;return t===null?!1:e.contains(t.startContainer)}static addFakeCursor(){const e=be.range;if(e===null)return;const t=B.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return B.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const t=B.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=be.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,o=10){const i=window.getSelection();let r=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(a=>{let c=o;for(;c>0&&a.parentNode&&!(a.tagName===e&&(r=a,t&&a.classList&&!a.classList.contains(t)&&(r=null),r));)a=a.parentNode,c--}),r)}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const o=document.createRange();o.selectNodeContents(e),t.addRange(o)}}function _p(n,e){const{type:t,target:o,addedNodes:i,removedNodes:r}=n;if(o===e)return!0;if(["characterData","attributes"].includes(t)){const u=o.nodeType===Node.TEXT_NODE?o.parentNode:o;return e.contains(u)}const a=Array.from(i).some(u=>e.contains(u)),c=Array.from(r).some(u=>e.contains(u));return a||c}const rs="redactor dom changed",uc="block changed",hc="fake cursor is about to be toggled",fc="fake cursor have been set";function tl(n,e){return n.mergeable&&n.name===e.name}function Tp(n,e){const t=e==null?void 0:e.export;return ft(t)?t(n):On(t)?n[t]:(t!==void 0&&et("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Cp(n,e){const t=e==null?void 0:e.import;return ft(t)?t(n):On(t)?{[t]:n}:(t!==void 0&&et("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var pn=(n=>(n.APPEND_CALLBACK="appendCallback",n.RENDERED="rendered",n.MOVED="moved",n.UPDATED="updated",n.REMOVED="removed",n.ON_PASTE="onPaste",n))(pn||{});class Nt extends Yi{constructor({id:e=bp(),data:t,tool:o,api:i,readOnly:r,tunesData:a},c){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(u=void 0)=>{const p=u===void 0,b=u instanceof InputEvent;!p&&!b&&this.detectToolRootChange(u);let w;p||b?w=!0:w=!(u.length>0&&u.every(O=>{const{addedNodes:R,removedNodes:f,target:m}=O;return[...Array.from(R),...Array.from(f),m].some(x=>(B.isElement(x)||(x=x.parentElement),x&&x.closest('[data-mutation-free="true"]')!==null))})),w&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=o.name,this.id=e,this.settings=o.settings,this.config=o.settings.config||{},this.api=i,this.editorEventBus=c||null,this.blockAPI=new $n(this),this.tool=o,this.toolInstance=o.create(t,this.blockAPI,r),this.tunes=o.tunes,this.composeTunes(a),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=B.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex(o=>o===e||o.contains(e));t!==-1&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Kt(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return ft(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const e=B.isEmpty(this.pluginsContent,"/"),t=!this.hasMedia;return e&&t}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var t,o;this.holder.classList.toggle(Nt.CSS.selected,e);const i=e===!0&&be.isRangeInsideContainer(this.holder),r=e===!1&&be.isFakeCursorInsideContainer(this.holder);(i||r)&&((t=this.editorEventBus)==null||t.emit(hc,{state:e}),i?be.addFakeCursor():be.removeFakeCursor(this.holder),(o=this.editorEventBus)==null||o.emit(fc,{state:e}))}get selected(){return this.holder.classList.contains(Nt.CSS.selected)}set stretched(e){this.holder.classList.toggle(Nt.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Nt.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Nt.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(ft(this.toolInstance[e])){e==="appendCallback"&&et("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(o){et(`Error during '${e}' call: ${o.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([r,a])=>{if(ft(a.save))try{t[r]=a.save()}catch(c){et(`Tune ${a.constructor.name} save method throws an Error %o`,"warn",c)}});const o=window.performance.now();let i;return Promise.resolve(e).then(r=>(i=window.performance.now(),{id:this.id,tool:this.name,data:r,tunes:t,time:i-o})).catch(r=>{et(`Saving process for ${this.name} tool failed due to the ${r}`,"log","red")})}async validate(e){let t=!0;return this.toolInstance.validate instanceof Function&&(t=await this.toolInstance.validate(e)),t}getTunes(){const e=document.createElement("div"),t=[],o=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],i=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(r=>r.render());return[o,i].flat().forEach(r=>{B.isElement(r)?e.appendChild(r):Array.isArray(r)?t.push(...r):t.push(r)}),[t,e]}updateCurrentInput(){this.currentInput=B.isNativeInput(document.activeElement)||!be.anchorNode?document.activeElement:be.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),ft(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const t=await this.data;return e.find(o=>Object.entries(o.data).some(([i,r])=>t[i]&&yp(t[i],r)))}async exportDataAsString(){const e=await this.data;return Tp(e,this.tool.conversionConfig)}compose(){const e=B.make("div",Nt.CSS.wrapper),t=B.make("div",Nt.CSS.content),o=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=o,t.appendChild(this.toolRenderedElement);let i=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(r=>{if(ft(r.wrap))try{i=r.wrap(i)}catch(a){et(`Tune ${r.constructor.name} wrap method throws an Error %o`,"warn",a)}}),e.appendChild(i),e}composeTunes(e){Array.from(this.tunes.values()).forEach(t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))}),Object.entries(e).forEach(([t,o])=>{this.tunesInstances.has(t)||(this.unavailableTunesData[t]=o)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),B.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),B.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=t=>{const{mutations:o}=t;o.some(i=>_p(i,this.toolRenderedElement))&&this.didMutated(o)},(e=this.editorEventBus)==null||e.on(rs,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(rs,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(t=>{if(Array.from(t.removedNodes).includes(this.toolRenderedElement)){const o=t.addedNodes[t.addedNodes.length-1];this.toolRenderedElement=o}})}dropInputsCache(){this.cachedInputs=[]}}class Bp extends ze{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},o={},i,r,a,c)=>{const u=this.Editor.BlockManager.insert({id:c,tool:e,data:t,index:i,needToFocus:r,replace:a});return new $n(u)},this.composeBlockData=async e=>{const t=this.Editor.Tools.blockTools.get(e);return new Nt({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,t)=>{const{BlockManager:o}=this.Editor,i=o.getBlockById(e);if(i===void 0)throw new Error(`Block with id "${e}" not found`);const r=await o.update(i,t);return new $n(r)},this.convert=(e,t,o)=>{var i,r;const{BlockManager:a,Tools:c}=this.Editor,u=a.getBlockById(e);if(!u)throw new Error(`Block with id "${e}" not found`);const p=c.blockTools.get(u.name),b=c.blockTools.get(t);if(!b)throw new Error(`Block Tool with type "${t}" not found`);const w=((i=p==null?void 0:p.conversionConfig)==null?void 0:i.export)!==void 0,O=((r=b.conversionConfig)==null?void 0:r.import)!==void 0;if(w&&O)a.convert(u,t,o);else{const R=[w?!1:wo(u.name),O?!1:wo(t)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${u.name}" to "${t}" is not possible. ${R} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,t=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(t);const o=e.map(({id:i,type:r,data:a})=>this.Editor.BlockManager.composeBlock({id:i,tool:r||this.config.defaultBlock,data:a}));return this.Editor.BlockManager.insertMany(o,t),o.map(i=>new $n(i))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(!t){Zt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(t)}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(t===void 0){Zt("There is no block at index `"+e+"`","warn");return}return new $n(t)}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return t===void 0?(Zt("There is no block with id `"+e+"`","warn"),null):new $n(t)}swap(e,t){et("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(t){Zt(t,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){is(!0,"blocks.stretchBlock()","BlockAPI");const o=this.Editor.BlockManager.getBlockByIndex(e);o&&(o.stretched=t)}insertNewBlock(){et("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}class Op extends ze{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0):!1,this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,o=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],t,o),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class Ap extends ze{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}}class _s extends ze{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{Zt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:t=>Ht.t(_s.getNamespace(e),t)})}}class Ip extends ze{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class Mp extends ze{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class Lp extends ze{get methods(){return{on:(e,t,o,i)=>this.on(e,t,o,i),off:(e,t,o,i)=>this.off(e,t,o,i),offById:e=>this.offById(e)}}on(e,t,o,i){return this.listeners.on(e,t,o,i)}off(e,t,o,i){this.listeners.off(e,t,o,i)}offById(e){this.listeners.offById(e)}}var ss={},Np={get exports(){return ss},set exports(n){ss=n}};(function(n,e){(function(t,o){n.exports=o()})(window,function(){return function(t){var o={};function i(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=o,i.d=function(r,a,c){i.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:c})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,a){if(1&a&&(r=i(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var u in r)i.d(c,u,(function(p){return r[p]}).bind(null,u));return c},i.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(a,"a",a),a},i.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},i.p="/",i(i.s=0)}([function(t,o,i){i(1),t.exports=function(){var r=i(6),a="cdx-notify--bounce-in",c=null;return{show:function(u){if(u.message){(function(){if(c)return!0;c=r.getWrapper(),document.body.appendChild(c)})();var p=null,b=u.time||8e3;switch(u.type){case"confirm":p=r.confirm(u);break;case"prompt":p=r.prompt(u);break;default:p=r.alert(u),window.setTimeout(function(){p.remove()},b)}c.appendChild(p),p.classList.add(a)}}}}()},function(t,o,i){var r=i(2);typeof r=="string"&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(4)(r,a),r.locals&&(t.exports=r.locals)},function(t,o,i){(t.exports=i(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,o){t.exports=function(i){var r=[];return r.toString=function(){return this.map(function(a){var c=function(u,p){var b=u[1]||"",w=u[3];if(!w)return b;if(p&&typeof btoa=="function"){var O=(f=w,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(f))))+" */"),R=w.sources.map(function(m){return"/*# sourceURL="+w.sourceRoot+m+" */"});return[b].concat(R).concat([O]).join(`
`)}var f;return[b].join(`
`)}(a,i);return a[2]?"@media "+a[2]+"{"+c+"}":c}).join("")},r.i=function(a,c){typeof a=="string"&&(a=[[null,a,""]]);for(var u={},p=0;p<this.length;p++){var b=this[p][0];typeof b=="number"&&(u[b]=!0)}for(p=0;p<a.length;p++){var w=a[p];typeof w[0]=="number"&&u[w[0]]||(c&&!w[2]?w[2]=c:c&&(w[2]="("+w[2]+") and ("+c+")"),r.push(w))}},r}},function(t,o,i){var r,a,c={},u=(r=function(){return window&&document&&document.all&&!window.atob},function(){return a===void 0&&(a=r.apply(this,arguments)),a}),p=function(T){var P={};return function(V){if(typeof V=="function")return V();if(P[V]===void 0){var Z=(function(X){return document.querySelector(X)}).call(this,V);if(window.HTMLIFrameElement&&Z instanceof window.HTMLIFrameElement)try{Z=Z.contentDocument.head}catch{Z=null}P[V]=Z}return P[V]}}(),b=null,w=0,O=[],R=i(5);function f(T,P){for(var V=0;V<T.length;V++){var Z=T[V],X=c[Z.id];if(X){X.refs++;for(var oe=0;oe<X.parts.length;oe++)X.parts[oe](Z.parts[oe]);for(;oe<Z.parts.length;oe++)X.parts.push($(Z.parts[oe],P))}else{var Pe=[];for(oe=0;oe<Z.parts.length;oe++)Pe.push($(Z.parts[oe],P));c[Z.id]={id:Z.id,refs:1,parts:Pe}}}}function m(T,P){for(var V=[],Z={},X=0;X<T.length;X++){var oe=T[X],Pe=P.base?oe[0]+P.base:oe[0],Ae={css:oe[1],media:oe[2],sourceMap:oe[3]};Z[Pe]?Z[Pe].parts.push(Ae):V.push(Z[Pe]={id:Pe,parts:[Ae]})}return V}function x(T,P){var V=p(T.insertInto);if(!V)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var Z=O[O.length-1];if(T.insertAt==="top")Z?Z.nextSibling?V.insertBefore(P,Z.nextSibling):V.appendChild(P):V.insertBefore(P,V.firstChild),O.push(P);else if(T.insertAt==="bottom")V.appendChild(P);else{if(typeof T.insertAt!="object"||!T.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var X=p(T.insertInto+" "+T.insertAt.before);V.insertBefore(P,X)}}function _(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T);var P=O.indexOf(T);P>=0&&O.splice(P,1)}function N(T){var P=document.createElement("style");return T.attrs.type===void 0&&(T.attrs.type="text/css"),W(P,T.attrs),x(T,P),P}function W(T,P){Object.keys(P).forEach(function(V){T.setAttribute(V,P[V])})}function $(T,P){var V,Z,X,oe;if(P.transform&&T.css){if(!(oe=P.transform(T.css)))return function(){};T.css=oe}if(P.singleton){var Pe=w++;V=b||(b=N(P)),Z=L.bind(null,V,Pe,!1),X=L.bind(null,V,Pe,!0)}else T.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(V=function(Ae){var tt=document.createElement("link");return Ae.attrs.type===void 0&&(Ae.attrs.type="text/css"),Ae.attrs.rel="stylesheet",W(tt,Ae.attrs),x(Ae,tt),tt}(P),Z=(function(Ae,tt,ot){var at=ot.css,wt=ot.sourceMap,Et=tt.convertToAbsoluteUrls===void 0&&wt;(tt.convertToAbsoluteUrls||Et)&&(at=R(at)),wt&&(at+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(wt))))+" */");var xe=new Blob([at],{type:"text/css"}),ue=Ae.href;Ae.href=URL.createObjectURL(xe),ue&&URL.revokeObjectURL(ue)}).bind(null,V,P),X=function(){_(V),V.href&&URL.revokeObjectURL(V.href)}):(V=N(P),Z=(function(Ae,tt){var ot=tt.css,at=tt.media;if(at&&Ae.setAttribute("media",at),Ae.styleSheet)Ae.styleSheet.cssText=ot;else{for(;Ae.firstChild;)Ae.removeChild(Ae.firstChild);Ae.appendChild(document.createTextNode(ot))}}).bind(null,V),X=function(){_(V)});return Z(T),function(Ae){if(Ae){if(Ae.css===T.css&&Ae.media===T.media&&Ae.sourceMap===T.sourceMap)return;Z(T=Ae)}else X()}}t.exports=function(T,P){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(P=P||{}).attrs=typeof P.attrs=="object"?P.attrs:{},P.singleton||typeof P.singleton=="boolean"||(P.singleton=u()),P.insertInto||(P.insertInto="head"),P.insertAt||(P.insertAt="bottom");var V=m(T,P);return f(V,P),function(Z){for(var X=[],oe=0;oe<V.length;oe++){var Pe=V[oe];(Ae=c[Pe.id]).refs--,X.push(Ae)}for(Z&&f(m(Z,P),P),oe=0;oe<X.length;oe++){var Ae;if((Ae=X[oe]).refs===0){for(var tt=0;tt<Ae.parts.length;tt++)Ae.parts[tt]();delete c[Ae.id]}}}};var ve,z=(ve=[],function(T,P){return ve[T]=P,ve.filter(Boolean).join(`
`)});function L(T,P,V,Z){var X=V?"":Z.css;if(T.styleSheet)T.styleSheet.cssText=z(P,X);else{var oe=document.createTextNode(X),Pe=T.childNodes;Pe[P]&&T.removeChild(Pe[P]),Pe.length?T.insertBefore(oe,Pe[P]):T.appendChild(oe)}}},function(t,o){t.exports=function(i){var r=typeof window<"u"&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var a=r.protocol+"//"+r.host,c=a+r.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(u,p){var b,w=p.trim().replace(/^"(.*)"$/,function(O,R){return R}).replace(/^'(.*)'$/,function(O,R){return R});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(w)?u:(b=w.indexOf("//")===0?w:w.indexOf("/")===0?a+w:c+w.replace(/^\.\//,""),"url("+JSON.stringify(b)+")")})}},function(t,o,i){var r,a,c,u,p,b,w,O,R;t.exports=(r="cdx-notifies",a="cdx-notify",c="cdx-notify__cross",u="cdx-notify__button--confirm",p="cdx-notify__button--cancel",b="cdx-notify__input",w="cdx-notify__button",O="cdx-notify__btns-wrapper",{alert:R=function(f){var m=document.createElement("DIV"),x=document.createElement("DIV"),_=f.message,N=f.style;return m.classList.add(a),N&&m.classList.add(a+"--"+N),m.innerHTML=_,x.classList.add(c),x.addEventListener("click",m.remove.bind(m)),m.appendChild(x),m},confirm:function(f){var m=R(f),x=document.createElement("div"),_=document.createElement("button"),N=document.createElement("button"),W=m.querySelector("."+c),$=f.cancelHandler,ve=f.okHandler;return x.classList.add(O),_.innerHTML=f.okText||"Confirm",N.innerHTML=f.cancelText||"Cancel",_.classList.add(w),N.classList.add(w),_.classList.add(u),N.classList.add(p),$&&typeof $=="function"&&(N.addEventListener("click",$),W.addEventListener("click",$)),ve&&typeof ve=="function"&&_.addEventListener("click",ve),_.addEventListener("click",m.remove.bind(m)),N.addEventListener("click",m.remove.bind(m)),x.appendChild(_),x.appendChild(N),m.appendChild(x),m},prompt:function(f){var m=R(f),x=document.createElement("div"),_=document.createElement("button"),N=document.createElement("input"),W=m.querySelector("."+c),$=f.cancelHandler,ve=f.okHandler;return x.classList.add(O),_.innerHTML=f.okText||"Ok",_.classList.add(w),_.classList.add(u),N.classList.add(b),f.placeholder&&N.setAttribute("placeholder",f.placeholder),f.default&&(N.value=f.default),f.inputType&&(N.type=f.inputType),$&&typeof $=="function"&&W.addEventListener("click",$),ve&&typeof ve=="function"&&_.addEventListener("click",function(){ve(N.value)}),_.addEventListener("click",m.remove.bind(m)),x.appendChild(N),x.appendChild(_),m.appendChild(x),m},getWrapper:function(){var f=document.createElement("DIV");return f.classList.add(r),f}})}])})})(Np);const Rp=Es(ss);class Pp{show(e){Rp.show(e)}}class Dp extends ze{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new Pp}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class Fp extends ze{get methods(){const e=()=>this.isEnabled;return{toggle:t=>this.toggle(t),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var as={},jp={get exports(){return as},set exports(n){as=n}};(function(n,e){(function(t,o){n.exports=o()})(ap,function(){function t(w){var O=w.tags,R=Object.keys(O),f=R.map(function(m){return typeof O[m]}).every(function(m){return m==="object"||m==="boolean"||m==="function"});if(!f)throw new Error("The configuration was invalid");this.config=w}var o=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(w){return o.indexOf(w.nodeName)!==-1}var r=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function a(w){return r.indexOf(w.nodeName)!==-1}t.prototype.clean=function(w){const O=document.implementation.createHTMLDocument(),R=O.createElement("div");return R.innerHTML=w,this._sanitize(O,R),R.innerHTML},t.prototype._sanitize=function(w,O){var R=c(w,O),f=R.firstChild();if(f)do{if(f.nodeType===Node.TEXT_NODE)if(f.data.trim()===""&&(f.previousElementSibling&&i(f.previousElementSibling)||f.nextElementSibling&&i(f.nextElementSibling))){O.removeChild(f),this._sanitize(w,O);break}else continue;if(f.nodeType===Node.COMMENT_NODE){O.removeChild(f),this._sanitize(w,O);break}var m=a(f),x;m&&(x=Array.prototype.some.call(f.childNodes,i));var _=!!O.parentNode,N=i(O)&&i(f)&&_,W=f.nodeName.toLowerCase(),$=u(this.config,W,f),ve=m&&x;if(ve||p(f,$)||!this.config.keepNestedBlockElements&&N){if(!(f.nodeName==="SCRIPT"||f.nodeName==="STYLE"))for(;f.childNodes.length>0;)O.insertBefore(f.childNodes[0],f);O.removeChild(f),this._sanitize(w,O);break}for(var z=0;z<f.attributes.length;z+=1){var L=f.attributes[z];b(L,$,f)&&(f.removeAttribute(L.name),z=z-1)}this._sanitize(w,f)}while(f=R.nextSibling())};function c(w,O){return w.createTreeWalker(O,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function u(w,O,R){return typeof w.tags[O]=="function"?w.tags[O](R):w.tags[O]}function p(w,O){return typeof O>"u"?!0:typeof O=="boolean"?!O:!1}function b(w,O,R){var f=w.name.toLowerCase();return O===!0?!1:typeof O[f]=="function"?!O[f](w.value,R):typeof O[f]>"u"||O[f]===!1?!0:typeof O[f]=="string"?O[f]!==w.value:!1}return t})})(jp);const Hp=as;function pc(n,e){return n.map(t=>{const o=ft(e)?e(t.tool):e;return Kt(o)||(t.data=Ts(t.data,o)),t})}function mn(n,e={}){const t={tags:e};return new Hp(t).clean(n)}function Ts(n,e){return Array.isArray(n)?Up(n,e):Rt(n)?$p(n,e):On(n)?zp(n,e):n}function Up(n,e){return n.map(t=>Ts(t,e))}function $p(n,e){const t={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i=n[o],r=qp(e[o])?e[o]:e;t[o]=Ts(i,r)}return t}function zp(n,e){return Rt(e)?mn(n,e):e===!1?mn(n,{}):n}function qp(n){return Rt(n)||up(n)||ft(n)}class Wp extends ze{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return mn(e,t)}}class Kp extends ze{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Zt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class Vp extends ze{get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,t){return new be().findParentTag(e,t)}expandToTag(e){new be().expandToTag(e)}}class Yp extends ze{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Jp extends ze{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Zt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Zt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var ls={},Xp={get exports(){return ls},set exports(n){ls=n}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(n,e){(function(t,o){n.exports=o()})(window,function(){return function(t){var o={};function i(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=o,i.d=function(r,a,c){i.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:c})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,a){if(1&a&&(r=i(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var u in r)i.d(c,u,(function(p){return r[p]}).bind(null,u));return c},i.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(a,"a",a),a},i.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},i.p="",i(i.s=0)}([function(t,o,i){t.exports=i(1)},function(t,o,i){i.r(o),i.d(o,"default",function(){return r});class r{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(c,u,p){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const b=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},p);if(b.hidingDelay&&(this.hidingDelay=b.hidingDelay),this.nodes.content.innerHTML="",typeof u=="string")this.nodes.content.appendChild(document.createTextNode(u));else{if(!(u instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof u+" given.");this.nodes.content.appendChild(u)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),b.placement){case"top":this.placeTop(c,b);break;case"left":this.placeLeft(c,b);break;case"right":this.placeRight(c,b);break;case"bottom":default:this.placeBottom(c,b)}b&&b.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},b.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(c=!1){if(this.hidingDelay&&!c)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(c,u,p){c.addEventListener("mouseenter",()=>{this.show(c,u,p)}),c.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const c="codex-tooltips-style";if(document.getElementById(c))return;const u=i(2),p=this.make("style",null,{textContent:u.toString(),id:c});this.prepend(document.head,p)}placeBottom(c,u){const p=c.getBoundingClientRect(),b=p.left+c.clientWidth/2-this.nodes.wrapper.offsetWidth/2,w=p.bottom+window.pageYOffset+this.offsetTop+u.marginTop;this.applyPlacement("bottom",b,w)}placeTop(c,u){const p=c.getBoundingClientRect(),b=p.left+c.clientWidth/2-this.nodes.wrapper.offsetWidth/2,w=p.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",b,w)}placeLeft(c,u){const p=c.getBoundingClientRect(),b=p.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-u.marginLeft,w=p.top+window.pageYOffset+c.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",b,w)}placeRight(c,u){const p=c.getBoundingClientRect(),b=p.right+this.offsetRight+u.marginRight,w=p.top+window.pageYOffset+c.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",b,w)}applyPlacement(c,u,p){this.nodes.wrapper.classList.add(this.CSS.placement[c]),this.nodes.wrapper.style.left=u+"px",this.nodes.wrapper.style.top=p+"px"}make(c,u=null,p={}){const b=document.createElement(c);Array.isArray(u)?b.classList.add(...u):u&&b.classList.add(u);for(const w in p)p.hasOwnProperty(w)&&(b[w]=p[w]);return b}append(c,u){Array.isArray(u)?u.forEach(p=>c.appendChild(p)):c.appendChild(u)}prepend(c,u){Array.isArray(u)?(u=u.reverse()).forEach(p=>c.prepend(p)):c.prepend(u)}}},function(t,o){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Xp);const Gp=Es(ls);let en=null;function Cs(){en||(en=new Gp)}function Zp(n,e,t){Cs(),en==null||en.show(n,e,t)}function cs(n=!1){Cs(),en==null||en.hide(n)}function Jo(n,e,t){Cs(),en==null||en.onHover(n,e,t)}function Qp(){en==null||en.destroy(),en=null}class eg extends ze{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t})}get methods(){return{show:(e,t,o)=>this.show(e,t,o),hide:()=>this.hide(),onHover:(e,t,o)=>this.onHover(e,t,o)}}show(e,t,o){Zp(e,t,o)}hide(){cs()}onHover(e,t,o){Jo(e,t,o)}}class tg extends ze{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function gc(n,e){const t={};return Object.entries(n).forEach(([o,i])=>{if(Rt(i)){const r=e?`${e}.${o}`:o;Object.values(i).every(a=>On(a))?t[o]=r:t[o]=gc(i,r);return}t[o]=i}),t}const Qt=gc(cc);function ng(n,e){const t={};return Object.keys(n).forEach(o=>{const i=e[o];i!==void 0?t[i]=n[o]:t[o]=n[o]}),t}const og='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',mc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',ig='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',rg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',sg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',ag='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',nl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',lg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',cg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',dg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',ug='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',hg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';class vt{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(vt.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(vt.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(vt.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(vt.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(vt.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(vt.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const t=B.make("div",vt.CSS.container);return e.name&&(t.dataset.itemName=e.name),this.nodes.icon=B.make("div",vt.CSS.icon,{innerHTML:e.icon||sg}),t.appendChild(this.nodes.icon),t.appendChild(B.make("div",vt.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&t.appendChild(B.make("div",vt.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&t.classList.add(vt.CSS.active),e.isDisabled&&t.classList.add(vt.CSS.disabled),t}enableConfirmationMode(e){const t={...this.params,...e,confirmation:e.confirmation},o=this.make(t);this.nodes.root.innerHTML=o.innerHTML,this.nodes.root.classList.add(vt.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(vt.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(vt.CSS.noHover),this.nodes.root.classList.add(vt.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(vt.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(vt.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const Uo=class{constructor(n,e){this.cursor=-1,this.items=[],this.items=n||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(n){n<this.items.length&&n>=-1&&(this.dropCursor(),this.cursor=n,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(n){this.items=n}next(){this.cursor=this.leafNodesAndReturnIndex(Uo.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Uo.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(n){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=n===Uo.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),n===Uo.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,B.canSetCaret(this.items[e])&&Pi(()=>be.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let ho=Uo;ho.directions={RIGHT:"right",LEFT:"left"};class wn{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(wn.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case Ie.TAB:this.handleTabPress(t);break;case Ie.LEFT:case Ie.UP:this.flipLeft();break;case Ie.RIGHT:case Ie.DOWN:this.flipRight();break;case Ie.ENTER:this.handleEnterPress(t);break}},this.iterator=new ho(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||wn.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Ie.TAB,Ie.LEFT,Ie.RIGHT,Ie.ENTER,Ie.UP,Ie.DOWN]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),t!==void 0&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(t=>t!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?ho.directions.LEFT:ho.directions.RIGHT){case ho.directions.RIGHT:this.flipRight();break;case ho.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),ft(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class qo{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:t,placeholder:o}){this.listeners=new Ss,this.items=e,this.onSearch=t,this.render(o)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=B.make("div",qo.CSS.wrapper);const t=B.make("div",qo.CSS.icon,{innerHTML:dg});this.input=B.make("input",qo.CSS.input,{placeholder:e,tabIndex:-1}),this.wrapper.appendChild(t),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var t;const o=((t=e.title)==null?void 0:t.toLowerCase())||"",i=this.searchQuery.toLowerCase();return o.includes(i)}}const $o=class{lock(){el?this.lockHard():document.body.classList.add($o.CSS.scrollLocked)}unlock(){el?this.unlockHard():document.body.classList.remove($o.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add($o.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove($o.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let bc=$o;bc.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var fg=Object.defineProperty,pg=Object.getOwnPropertyDescriptor,gg=(n,e,t,o)=>{for(var i=o>1?void 0:o?pg(e,t):e,r=n.length-1,a;r>=0;r--)(a=n[r])&&(i=(o?a(e,t,i):a(i))||i);return o&&i&&fg(e,t,i),i},Xo=(n=>(n.Close="close",n))(Xo||{});const Lt=class extends Yi{constructor(n){super(),this.scopeElement=document.body,this.listeners=new Ss,this.scrollLocker=new bc,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=n.items.map(e=>new vt(e)),n.scopeElement!==void 0&&(this.scopeElement=n.scopeElement),n.messages&&(this.messages={...this.messages,...n.messages}),n.customContentFlippableItems&&(this.customContentFlippableItems=n.customContentFlippableItems),this.make(),n.customContent&&this.addCustomContent(n.customContent),n.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Lt.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Lt.CSS.overlayHidden),this.nodes.popover.classList.add(Lt.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&requestAnimationFrame(()=>{var n;(n=this.search)==null||n.focus()}),qn()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Lt.CSS.popoverOpened),this.nodes.popover.classList.remove(Lt.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Lt.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(n=>n.reset()),this.search!==void 0&&this.search.clear(),qn()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),qn()&&this.scrollLocker.unlock()}make(){this.nodes.popover=B.make("div",[Lt.CSS.popover]),this.nodes.nothingFoundMessage=B.make("div",[Lt.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=B.make("div",[Lt.CSS.items]),this.items.forEach(n=>{this.nodes.items.appendChild(n.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",n=>{const e=this.getTargetItem(n);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=B.make("div"),this.nodes.overlay=B.make("div",[Lt.CSS.overlay,Lt.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new qo({items:this.items,placeholder:this.messages.search,onSearch:(e,t)=>{this.items.forEach(i=>{const r=!t.includes(i);i.toggleHidden(r)}),this.toggleNothingFoundMessage(t.length===0),this.toggleCustomContent(e!=="");const o=e===""?this.flippableElements:t.map(i=>i.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))}});const n=this.search.getElement();n.classList.add(Lt.CSS.search),this.nodes.popover.insertBefore(n,this.nodes.popover.firstChild)}addCustomContent(n){this.nodes.customContent=n,this.nodes.customContent.classList.add(Lt.CSS.customContent),this.nodes.popover.insertBefore(n,this.nodes.popover.firstChild)}getTargetItem(n){return this.items.find(e=>n.composedPath().includes(e.getElement()))}handleItemClick(n){n.isDisabled||(this.items.filter(e=>e!==n).forEach(e=>e.reset()),n.handleClick(),this.toggleItemActivenessIfNeeded(n),n.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new wn({items:this.flippableElements,focusedItemClass:vt.CSS.focused,allowedKeys:[Ie.TAB,Ie.UP,Ie.DOWN,Ie.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const n=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(n)}get height(){let n=0;if(this.nodes.popover===null)return n;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Lt.CSS.popoverOpened),document.body.appendChild(e),n=e.offsetHeight,e.remove(),n}get shouldOpenBottom(){const n=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),t=this.height,o=n.top+t,i=n.top-t,r=Math.min(window.innerHeight,e.bottom);return i<e.top||o<=r}toggleNothingFoundMessage(n){this.nodes.nothingFoundMessage.classList.toggle(Lt.CSS.nothingFoundMessageDisplayed,n)}toggleCustomContent(n){var e;(e=this.nodes.customContent)==null||e.classList.toggle(Lt.CSS.customContentHidden,n)}toggleItemActivenessIfNeeded(n){if(n.toggle===!0&&n.toggleActive(),typeof n.toggle=="string"){const e=this.items.filter(t=>t.toggle===n.toggle);if(e.length===1){n.toggleActive();return}e.forEach(t=>{t.toggleActive(t===n)})}}};let Bs=Lt;gg([xo],Bs.prototype,"height",1);class mg extends ze{constructor(){super(...arguments),this.opened=!1,this.selection=new be,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=B.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const[t,o]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Bs({searchable:!0,items:t.map(i=>this.resolveTuneAliases(i)),customContent:o,customContentFlippableItems:this.getControls(o),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ht.ui(Qt.ui.popover,"Nothing found"),search:Ht.ui(Qt.ui.popover,"Filter")}}),this.popover.on(Xo.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened&&(this.opened=!1,be.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Xo.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))}getControls(e){const{StylesAPI:t}=this.Editor,o=e.querySelectorAll(`.${t.classes.settingsButton}, ${B.allInputsSelector}`);return Array.from(o)}resolveTuneAliases(e){const t=ng(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}}class qt extends ze{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=B.make("div",[qt.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=B.make("div",qt.CSS.conversionToolbarTools);const e=B.make("div",qt.CSS.conversionToolbarLabel,{textContent:Ht.ui(Qt.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),B.append(this.nodes.wrapper,e),B.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),ft(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(qt.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(qt.CSS.conversionToolHidden))),this.flipper.focusFirst(),ft(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(qt.CSS.conversionToolbarShowed),ft(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,t){const{BlockManager:o,BlockSelection:i,InlineToolbar:r,Caret:a}=this.Editor;o.convert(this.Editor.BlockManager.currentBlock,e,t),i.clearSelection(),this.close(),r.close(),window.requestAnimationFrame(()=>{a.setToBlock(this.Editor.BlockManager.currentBlock,a.positions.END)})}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([t,o])=>{var i;const r=o.conversionConfig;!r||!r.import||(i=o.toolbox)==null||i.forEach(a=>this.addToolIfValid(t,a))})}addToolIfValid(e,t){Kt(t)||!t.icon||this.addTool(e,t)}addTool(e,t){var o;const i=B.make("div",[qt.CSS.conversionTool]),r=B.make("div",[qt.CSS.conversionToolIcon]);i.dataset.tool=e,r.innerHTML=t.icon,B.append(i,r),B.append(i,B.text(Ht.t(Qt.toolNames,t.title||wo(e))));const a=(o=this.Editor.Tools.blockTools.get(e))==null?void 0:o.shortcut;if(a){const c=B.make("span",qt.CSS.conversionToolSecondaryLabel,{innerText:Vi(a)});B.append(i,c)}B.append(this.nodes.tools,i),this.tools.push({name:e,button:i,toolboxItem:t}),this.listeners.on(i,"click",async()=>{await this.replaceWithBlock(e,t.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,t=await e.getActiveToolboxEntry();function o(i,r){return i.icon===r.icon&&i.title===r.title}this.tools.forEach(i=>{let r=!1;if(t){const a=o(t,i.toolboxItem);r=i.button.dataset.tool===e.name&&a}i.button.hidden=r,i.button.classList.toggle(qt.CSS.conversionToolHidden,r)})}enableFlipper(){this.flipper=new wn({focusedItemClass:qt.CSS.conversionToolFocused})}}var ds={},bg={get exports(){return ds},set exports(n){ds=n}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(n,e){(function(t,o){n.exports=o()})(window,function(){return function(t){var o={};function i(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=o,i.d=function(r,a,c){i.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:c})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,a){if(1&a&&(r=i(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var u in r)i.d(c,u,(function(p){return r[p]}).bind(null,u));return c},i.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(a,"a",a),a},i.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},i.p="",i(i.s=0)}([function(t,o,i){function r(u,p){for(var b=0;b<p.length;b++){var w=p[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(u,w.key,w)}}function a(u,p,b){return p&&r(u.prototype,p),b&&r(u,b),u}i.r(o);var c=function(){function u(p){var b=this;(function(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")})(this,u),this.commands={},this.keys={},this.name=p.name,this.parseShortcutName(p.name),this.element=p.on,this.callback=p.callback,this.executeShortcut=function(w){b.execute(w)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return a(u,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),a(u,[{key:"parseShortcutName",value:function(p){p=p.split("+");for(var b=0;b<p.length;b++){p[b]=p[b].toUpperCase();var w=!1;for(var O in u.supportedCommands)if(u.supportedCommands[O].includes(p[b])){w=this.commands[O]=!0;break}w||(this.keys[p[b]]=!0)}for(var R in u.supportedCommands)this.commands[R]||(this.commands[R]=!1)}},{key:"execute",value:function(p){var b,w={CMD:p.ctrlKey||p.metaKey,SHIFT:p.shiftKey,ALT:p.altKey},O=!0;for(b in this.commands)this.commands[b]!==w[b]&&(O=!1);var R,f=!0;for(R in this.keys)f=f&&p.keyCode===u.keyCodes[R];O&&f&&this.callback(p)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),u}();o.default=c}]).default})})(bg);const vg=Es(ds);class wg{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const t=new vg({name:e.name,on:e.on,callback:e.handler}),o=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...o,t])}remove(e,t){const o=this.findShortcut(e,t);if(!o)return;o.remove();const i=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,i.filter(r=>r!==o))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find(({name:o})=>o===t)}}const yo=new wg;var yg=Object.defineProperty,kg=Object.getOwnPropertyDescriptor,vc=(n,e,t,o)=>{for(var i=o>1?void 0:o?kg(e,t):e,r=n.length-1,a;r>=0;r--)(a=n[r])&&(i=(o?a(e,t,i):a(i))||i);return o&&i&&yg(e,t,i),i},Li=(n=>(n.Opened="toolbox-opened",n.Closed="toolbox-closed",n.BlockAdded="toolbox-block-added",n))(Li||{});const wc=class extends Yi{constructor({api:n,tools:e,i18nLabels:t}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=n,this.tools=e,this.i18nLabels=t}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Bs({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Xo.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(wc.CSS.toolbox),this.nodes.toolbox}hasFocus(){var n;return(n=this.popover)==null?void 0:n.hasFocus()}destroy(){var n;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(n=this.popover)==null||n.off(Xo.Close,this.onPopoverClose)}toolButtonActivated(n,e){this.insertNewBlock(n,e)}open(){var n;this.isEmpty||((n=this.popover)==null||n.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var n;(n=this.popover)==null||n.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const n=[];return this.tools.forEach(e=>{e.toolbox&&n.push(e)}),n}get toolboxItemsToBeDisplayed(){const n=(e,t)=>({icon:e.icon,title:Ht.t(Qt.toolNames,e.title||wo(t.name)),name:t.name,onActivate:()=>{this.toolButtonActivated(t.name,e.data)},secondaryLabel:t.shortcut?Vi(t.shortcut):""});return this.toolsToBeDisplayed.reduce((e,t)=>(Array.isArray(t.toolbox)?t.toolbox.forEach(o=>{e.push(n(o,t))}):t.toolbox!==void 0&&e.push(n(t.toolbox,t)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(n=>{const e=n.shortcut;e&&this.enableShortcutForTool(n.name,e)})}enableShortcutForTool(n,e){yo.add({name:e,on:this.api.ui.nodes.redactor,handler:t=>{t.preventDefault();const o=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(o);if(i)try{this.api.blocks.convert(i.id,n),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(o,"end")});return}catch{}this.insertNewBlock(n)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(n=>{const e=n.shortcut;e&&yo.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(n,e){const t=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(t);if(!o)return;const i=o.isEmpty?t:t+1;let r;if(e){const c=await this.api.blocks.composeBlockData(n);r=Object.assign(c,e)}const a=this.api.blocks.insert(n,r,void 0,i,void 0,o.isEmpty);a.call(pn.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};let Os=wc;vc([xo],Os.prototype,"toolsToBeDisplayed",1);vc([xo],Os.prototype,"toolboxItemsToBeDisplayed",1);const yc="block hovered";class xg extends ze{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var t;(t=this.toolboxInstance)==null||t.close()},open:()=>{if(this.toolboxInstance===null){et("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){et("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var t;return(t=this.toolboxInstance)==null?void 0:t.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){et("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:o}=this.Editor.UI,i=e.pluginsContent,r=window.getComputedStyle(i),a=parseInt(r.paddingTop,10),c=t.offsetHeight;let u;o?u=t.offsetTop+c:u=t.offsetTop+a,this.nodes.wrapper.style.top=`${Math.floor(u)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,t;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(t=this.toolboxInstance)==null||t.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}make(){this.nodes.wrapper=B.make("div",this.CSS.toolbar),["content","actions"].forEach(i=>{this.nodes[i]=B.make("div",this.CSS[i])}),B.append(this.nodes.wrapper,this.nodes.content),B.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=B.make("div",this.CSS.plusButton,{innerHTML:cg}),B.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{cs(!0),this.plusButtonClicked()},!1);const e=B.make("div");e.appendChild(document.createTextNode(Ht.ui(Qt.ui.toolbar.toolbox,"Add"))),e.appendChild(B.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Jo(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=B.make("span",this.CSS.settingsToggler,{innerHTML:lg}),B.append(this.nodes.actions,this.nodes.settingsToggler);const t=B.make("div"),o=B.text(Ht.ui(Qt.ui.blockTunes.toggler,"Click to tune"));t.appendChild(o),t.appendChild(B.make("div",this.CSS.plusButtonShortcut,{textContent:Vi("CMD + /")})),Jo(this.nodes.settingsToggler,t,{hidingDelay:400}),B.append(this.nodes.actions,this.makeToolbox()),B.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),B.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Os({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Ht.ui(Qt.ui.popover,"Filter"),nothingFound:Ht.ui(Qt.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Li.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Li.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Li.BlockAdded,({block:e})=>{const{BlockManager:t,Caret:o}=this.Editor,i=t.getBlockById(e.id);i.inputs.length===0&&(i===t.lastBlock?(t.insertAtEnd(),o.setToBlock(t.lastBlock)):o.setToBlock(t.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),(t=this.toolboxInstance)!=null&&t.opened&&this.toolboxInstance.close(),cs(!0)},!0),qn()||this.eventsDispatcher.on(yc,e=>{var t;this.Editor.BlockSettings.opened||(t=this.toolboxInstance)!=null&&t.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Ji=(n=>(n[n.Block=0]="Block",n[n.Inline=1]="Inline",n[n.Tune=2]="Tune",n))(Ji||{}),Ni=(n=>(n.Shortcut="shortcut",n.Toolbox="toolbox",n.EnabledInlineTools="inlineToolbar",n.EnabledBlockTunes="tunes",n.Config="config",n))(Ni||{}),kc=(n=>(n.Shortcut="shortcut",n.SanitizeConfig="sanitize",n))(kc||{}),fo=(n=>(n.IsEnabledLineBreaks="enableLineBreaks",n.Toolbox="toolbox",n.ConversionConfig="conversionConfig",n.IsReadOnlySupported="isReadOnlySupported",n.PasteConfig="pasteConfig",n))(fo||{}),As=(n=>(n.IsInline="isInline",n.Title="title",n))(As||{}),xc=(n=>(n.IsTune="isTune",n))(xc||{});class Is{constructor({name:e,constructable:t,config:o,api:i,isDefault:r,isInternal:a=!1,defaultPlaceholder:c}){this.api=i,this.name=e,this.constructable=t,this.config=o,this.isDefault=r,this.isInternal=a,this.defaultPlaceholder=c}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(ft(this.constructable.reset))return this.constructable.reset()}prepare(){if(ft(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class Eg extends ze{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=qn()?20:6,this.buttonsList=null,this.width=0,this.flipper=null}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(e=!1,t=!0){e&&this.close(),this.allowedToShow()&&(await this.addToolsFiltered(t),this.move(),this.open(t),this.Editor.Toolbar.close())}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,t])=>{const o=this.getToolShortcut(e);o&&yo.remove(this.Editor.UI.nodes.redactor,o),ft(t.clear)&&t.clear()}),this.reset(),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}make(){this.nodes.wrapper=B.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=B.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=B.make("div",this.CSS.buttonsWrapper),this.nodes.actions=B.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),B.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),B.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),B.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}open(){if(this.opened)return;this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0;let e=Array.from(this.buttonsList);e.unshift(this.nodes.conversionToggler),e=e.filter(t=>!t.hidden),this.flipper.activate(e)}move(){const e=be.rect,t=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),o={x:e.x-t.x,y:e.y+e.height-t.top+this.toolbarVerticalMargin};o.x+this.width+t.x>this.Editor.UI.contentRect.right&&(o.x=this.Editor.UI.contentRect.right-this.width-t.x),this.nodes.wrapper.style.left=Math.floor(o.x)+"px",this.nodes.wrapper.style.top=Math.floor(o.y)+"px"}reset(){this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarLeftOriented,this.CSS.inlineToolbarRightOriented),this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=["IMG","INPUT"],t=be.get(),o=be.text;if(!t||!t.anchorNode||t.isCollapsed||o.length<1)return!1;const i=B.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(t&&e.includes(i.tagName)||i.closest('[contenteditable="true"]')===null)return!1;const r=this.Editor.BlockManager.getBlock(t.anchorNode);return r?r.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=B.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=B.make("div",this.CSS.conversionTogglerContent);const e=B.make("div",this.CSS.conversionTogglerArrow,{innerHTML:mc});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(t=>{!t&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),qn()===!1&&Jo(this.nodes.conversionToggler,Ht.ui(Qt.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:t}=e,o=t.name,i=t.tool.conversionConfig,r=i&&i.export;this.nodes.conversionToggler.hidden=!r,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!r);const a=await t.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=a.icon||a.title||wo(o)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();B.append(this.nodes.wrapper,e)}async addToolsFiltered(e=!0){const t=be.get(),o=this.Editor.BlockManager.getBlock(t.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(o.tool.inlineTools.values()).forEach(i=>{this.addTool(i)}),e&&this.Editor.ConversionToolbar.hasTools()?await this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0,this.recalculateWidth()}addTool(e){const t=e.create(),o=t.render();if(!o){et("Render method must return an instance of Node","warn",e.name);return}if(o.dataset.tool=e.name,this.nodes.buttons.appendChild(o),this.toolsInstances.set(e.name,t),ft(t.renderActions)){const c=t.renderActions();this.nodes.actions.appendChild(c)}this.listeners.on(o,"click",c=>{this.toolClicked(t),c.preventDefault()});const i=this.getToolShortcut(e.name);if(i)try{this.enableShortcuts(t,i)}catch{}const r=B.make("div"),a=Ht.t(Qt.toolNames,e.title||wo(e.name));r.appendChild(B.text(a)),i&&r.appendChild(B.make("div",this.CSS.inlineToolbarShortcut,{textContent:Vi(i)})),qn()===!1&&Jo(o,r,{placement:"top",hidingDelay:100}),t.checkState(be.get())}getToolShortcut(e){const{Tools:t}=this.Editor,o=t.inlineTools.get(e),i=t.internal.inlineTools;return Array.from(i.keys()).includes(e)?this.inlineTools[e][kc.Shortcut]:o.shortcut}enableShortcuts(e,t){yo.add({name:t,handler:o=>{const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(o.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const t=be.range;e.surround(t),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(be.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t,o])=>{e[t]=o.create()}),e}enableFlipper(){this.flipper=new wn({focusedItemClass:this.CSS.focusedButton,allowedKeys:[Ie.ENTER,Ie.TAB]})}}class Sg extends ze{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case Ie.BACKSPACE:this.backspace(e);break;case Ie.DELETE:this.delete(e);break;case Ie.ENTER:this.enter(e);break;case Ie.DOWN:case Ie.RIGHT:this.arrowRightAndDown(e);break;case Ie.UP:case Ie.LEFT:this.arrowLeftAndUp(e);break;case Ie.TAB:this.tabPressed(e);break;case Ie.SLASH:e.ctrlKey||e.metaKey?this.commandSlashPressed():this.slashPressed();break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&sc(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!0}dragLeave(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:o,Caret:i}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then(()=>{const r=o.removeSelectedBlocks(),a=o.insertDefaultBlockAtIndex(r,!0);i.setToBlock(a,i.positions.START),t.clearSelection(e)})}tabPressed(e){const{InlineToolbar:t,ConversionToolbar:o,Caret:i}=this.Editor;o.opened||t.opened||(e.shiftKey?i.navigatePrevious(!0):i.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(){this.Editor.BlockManager.currentBlock.isEmpty&&this.activateToolbox()}enter(e){const{BlockManager:t,UI:o}=this.Editor;if(t.currentBlock.tool.isLineBreaksEnabled||o.someToolbarOpened&&o.someFlipperButtonFocused||e.shiftKey)return;let i=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?i=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):i=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(i),this.Editor.Toolbar.moveAndOpen(i),e.preventDefault()}backspace(e){const{BlockManager:t,Caret:o}=this.Editor,{currentBlock:i,previousBlock:r}=t;if(!(!be.isCollapsed||!o.isAtStart)){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){o.navigatePrevious();return}if(r!==null){if(r.isEmpty){t.removeBlock(r);return}if(i.isEmpty){t.removeBlock(i);const a=t.currentBlock;o.setToBlock(a,o.positions.END);return}tl(i,r)?this.mergeBlocks(r,i):o.setToBlock(r,o.positions.END)}}}delete(e){const{BlockManager:t,Caret:o}=this.Editor,{currentBlock:i,nextBlock:r}=t;if(!(!be.isCollapsed||!o.isAtEnd)){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){o.navigateNext();return}if(r!==null){if(r.isEmpty){t.removeBlock(r);return}if(i.isEmpty){t.removeBlock(i),o.setToBlock(r,o.positions.START);return}tl(i,r)?this.mergeBlocks(i,r):o.setToBlock(r,o.positions.START)}}}mergeBlocks(e,t){const{BlockManager:o,Caret:i,Toolbar:r}=this.Editor;i.createShadow(e.pluginsContent),o.mergeBlocks(e,t).then(()=>{window.requestAnimationFrame(()=>{i.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),r.close()})})}arrowRightAndDown(e){const t=wn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Ie.TAB);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.Toolbar.close();const o=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Ie.DOWN&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===Ie.DOWN||e.keyCode===Ie.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Pi(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(wn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Ie.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const t=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Ie.UP&&t){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===Ie.UP||e.keyCode===Ie.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Pi(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const t=e.keyCode===Ie.ENTER&&this.Editor.Toolbar.toolbox.opened,o=e.keyCode===Ie.ENTER&&this.Editor.BlockSettings.opened,i=e.keyCode===Ie.ENTER&&this.Editor.InlineToolbar.opened,r=e.keyCode===Ie.ENTER&&this.Editor.ConversionToolbar.opened,a=e.keyCode===Ie.TAB;return!(e.shiftKey||a||t||o||i||r)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class jr{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return ac(this.workingArea.children)}static set(e,t,o){return isNaN(Number(t))?(Reflect.set(e,t,o),!0):(e.insert(+t,o),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const o=this.blocks[t];B.swap(this.blocks[e].holder,o.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=o}move(e,t){const o=this.blocks.splice(t,1)[0],i=e-1,r=Math.max(0,i),a=this.blocks[r];e>0?this.insertToDOM(o,"afterend",a):this.insertToDOM(o,"beforebegin",a),this.blocks.splice(e,0,o);const c=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});o.call(pn.MOVED,c)}insert(e,t,o=!1){if(!this.length){this.push(t);return}e>this.length&&(e=this.length),o&&(this.blocks[e].holder.remove(),this.blocks[e].call(pn.REMOVED));const i=o?1:0;if(this.blocks.splice(e,i,t),e>0){const r=this.blocks[e-1];this.insertToDOM(t,"afterend",r)}else{const r=this.blocks[e+1];r?this.insertToDOM(t,"beforebegin",r):this.insertToDOM(t)}}replace(e,t){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){const o=new DocumentFragment;for(const i of e)o.appendChild(i.holder);if(this.length>0){if(t>0){const i=Math.min(t-1,this.length-1);this.blocks[i].holder.after(o)}else t===0&&this.workingArea.prepend(o);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(o);e.forEach(i=>i.call(pn.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(pn.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(pn.REMOVED)),this.blocks.length=0}insertAfter(e,t){const o=this.blocks.indexOf(e);this.insert(o+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,o){t?o.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(pn.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const ol="block-removed",il="block-added",_g="block-moved",rl="block-changed";class Tg{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,o)=>{this.completed=this.completed.then(e).then(t).catch(o)})}}class Cg extends ze{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new jr(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:jr.set,get:jr.get}),this.listeners.on(document,"copy",t=>this.Editor.BlockEvents.handleCommandC(t))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:o=void 0,tunes:i={}}){const r=this.Editor.ReadOnly.isEnabled,a=this.Editor.Tools.blockTools.get(e),c=new Nt({id:o,data:t,tool:a,api:this.Editor.API,readOnly:r,tunesData:i},this.eventsDispatcher);return r||window.requestIdleCallback(()=>{this.bindBlockEvents(c)},{timeout:2e3}),c}insert({id:e=void 0,tool:t=this.config.defaultBlock,data:o={},index:i,needToFocus:r=!0,replace:a=!1,tunes:c={}}={}){let u=i;u===void 0&&(u=this.currentBlockIndex+(a?0:1));const p=this.composeBlock({id:e,tool:t,data:o,tunes:c});return a&&this.blockDidMutated(ol,this.getBlockByIndex(u),{index:u}),this._blocks.insert(u,p,a),this.blockDidMutated(il,p,{index:u}),r?this.currentBlockIndex=u:u<=this.currentBlockIndex&&this.currentBlockIndex++,p}insertMany(e,t=0){this._blocks.insertMany(e,t)}async update(e,t){const o=await e.data,i=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},o,t),tunes:e.tunes}),r=this.getBlockIndex(e);return this._blocks.replace(r,i),this.blockDidMutated(rl,i,{index:r}),i}replace(e,t,o){const i=this.getBlockIndex(e);this.insert({tool:t,data:o,index:i,replace:!0})}paste(e,t,o=!1){const i=this.insert({tool:e,replace:o});try{window.requestIdleCallback(()=>{i.call(pn.ON_PASTE,t)})}catch(r){et(`${e}: onPaste callback call is failed`,"error",r)}return i}insertDefaultBlockAtIndex(e,t=!1){const o=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=o,this.blockDidMutated(il,o,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,o}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,t){const o=await t.data;Kt(o)||await e.mergeWith(o),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,t=!0){return new Promise(o=>{const i=this._blocks.indexOf(e);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(i),this.blockDidMutated(ol,e,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,t&&this.insert()),o()})}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=B.make("div");t.appendChild(e);const o={text:B.isEmpty(t)?"":t.innerHTML};return this.insert({data:o})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(t=>t.id===e)}getBlock(e){B.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,o=e.closest(`.${Nt.CSS.wrapper}`),i=t.indexOf(o);if(i>=0)return this._blocks[i]}setCurrentBlockByChildNode(e){B.isElement(e)||(e=e.parentNode);const t=e.closest(`.${Nt.CSS.wrapper}`);if(!t)return;const o=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(o!=null&&o.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;B.isElement(e)||(e=e.parentNode);const t=e.closest(`.${Nt.CSS.wrapper}`);return this.blocks.find(o=>o.holder===t)}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){if(isNaN(e)||isNaN(t)){et("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(t)){et("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated(_g,this.currentBlock,{fromIndex:t,toIndex:e})}async convert(e,t,o){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const i=this.Editor.Tools.blockTools.get(t);if(!i)throw new Error(`Could not convert Block. Tool ${t} not found.`);const r=await e.exportDataAsString(),a=mn(r,i.sanitizeConfig);let c=Cp(a,i.conversionConfig);o&&(c=Object.assign(c,o)),this.replace(e,i.name,c)}dropPointer(){this.currentBlockIndex=-1}async clear(e=!1){const t=new Tg;this.blocks.forEach(o=>{t.add(async()=>{await this.removeBlock(o,!1)})}),await t.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",o=>{t.keydown(o)}),this.readOnlyMutableListeners.on(e.holder,"keyup",o=>{t.keyup(o)}),this.readOnlyMutableListeners.on(e.holder,"dragover",o=>{t.dragOver(o)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",o=>{t.dragLeave(o)}),e.on("didMutated",o=>this.blockDidMutated(rl,o,{index:this.getBlockIndex(o)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,o){const i=new CustomEvent(e,{detail:{target:new $n(t),...o}});return this.eventsDispatcher.emit(uc,{event:i}),t}}class Bg extends ze{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(t=>t.selected===!0)}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach(o=>{o.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(t=>t.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new be,yo.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:o}=this.Editor;if(o.isEnabled){e.preventDefault(),this.selectAllBlocks();return}t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){be.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let o;isNaN(e)?o=t.currentBlock:o=t.getBlockByIndex(e),o.selected=!1,this.clearCache()}clearSelection(e,t=!1){const{BlockManager:o,Caret:i,RectangleSelection:r}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const a=e&&e instanceof KeyboardEvent,c=a&&sc(e.keyCode);if(this.anyBlockSelected&&a&&c&&!be.isSelectionExists){const u=o.removeSelectedBlocks();o.insertDefaultBlockAtIndex(u,!0),i.setToBlock(o.currentBlock),Pi(()=>{const p=e.key;i.insertContentAtCaretPosition(p.length>1?"":p)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||r.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}t&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const t=B.make("div");this.selectedBlocks.forEach(r=>{const a=mn(r.holder.innerHTML,this.sanitizerConfig),c=B.make("p");c.innerHTML=a,t.appendChild(c)});const o=Array.from(t.childNodes).map(r=>r.textContent).join(`

`),i=t.innerHTML;return e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(r=>r.save())).then(r=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(r))}catch{}})}selectBlockByIndex(e){const{BlockManager:t}=this.Editor,o=t.getBlockByIndex(e);o!==void 0&&this.selectBlock(o)}selectBlock(e){this.selection.save(),be.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){yo.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),B.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const t=this.Editor.BlockManager.getBlock(e.target),o=t.inputs;if(o.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(o.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(t),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),be.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class Di extends ze{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const t=be.get(),o=B.getDeepestNode(e.currentInput);let i=t.focusNode;if(B.isNativeInput(o))return o.selectionEnd===0;if(!t.anchorNode)return!1;let r=i.textContent.search(/\S/);r===-1&&(r=0);let a=t.focusOffset;return i.nodeType!==Node.TEXT_NODE&&i.childNodes.length&&(i.childNodes[a]?(i=i.childNodes[a],a=0):(i=i.childNodes[a-1],a=i.textContent.length)),(B.isLineBreakTag(o)||B.isEmpty(o))&&this.getHigherLevelSiblings(i,"left").every(c=>{const u=B.isLineBreakTag(c),p=c.children.length===1&&B.isLineBreakTag(c.children[0]),b=u||p;return B.isEmpty(c)&&!b})&&a===r?!0:o===null||i===o&&a<=r}get isAtEnd(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const t=be.get();let o=t.focusNode;const i=B.getDeepestNode(e.currentInput,!0);if(B.isNativeInput(i))return i.selectionEnd===i.value.length;if(!t.focusNode)return!1;let r=t.focusOffset;if(o.nodeType!==Node.TEXT_NODE&&o.childNodes.length&&(o.childNodes[r-1]?(o=o.childNodes[r-1],r=o.textContent.length):(o=o.childNodes[0],r=0)),B.isLineBreakTag(i)||B.isEmpty(i)){const c=this.getHigherLevelSiblings(o,"right");if(c.every((u,p)=>p===c.length-1&&B.isLineBreakTag(u)||B.isEmpty(u)&&!B.isLineBreakTag(u))&&r===o.textContent.length)return!0}const a=i.textContent.replace(/\s+$/,"");return o===i&&r>=a.length}setToBlock(e,t=this.positions.DEFAULT,o=0){var i;const{BlockManager:r,BlockSelection:a}=this.Editor;if(a.clearSelection(),!e.focusable){(i=window.getSelection())==null||i.removeAllRanges(),a.selectBlock(e),r.currentBlock=e;return}let c;switch(t){case this.positions.START:c=e.firstInput;break;case this.positions.END:c=e.lastInput;break;default:c=e.currentInput}if(!c)return;const u=B.getDeepestNode(c,t===this.positions.END),p=B.getContentLength(u);switch(!0){case t===this.positions.START:o=0;break;case t===this.positions.END:case o>p:o=p;break}this.set(u,o),r.setCurrentBlockByChildNode(e.holder),r.currentBlock.currentInput=c}setToInput(e,t=this.positions.DEFAULT,o=0){const{currentBlock:i}=this.Editor.BlockManager,r=B.getDeepestNode(e);switch(t){case this.positions.START:this.set(r,0);break;case this.positions.END:this.set(r,B.getContentLength(r));break;default:o&&this.set(r,o)}i.currentInput=e}set(e,t=0){const{top:o,bottom:i}=be.setCursor(e,t),{innerHeight:r}=window;o<0?window.scrollBy(0,o-30):i>r&&window.scrollBy(0,i-r+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}extractFragmentFromCaretPosition(){const e=be.get();if(e.rangeCount){const t=e.getRangeAt(0),o=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),o)if(B.isNativeInput(o)){const i=o,r=document.createDocumentFragment(),a=i.value.substring(0,i.selectionStart),c=i.value.substring(i.selectionStart);return r.textContent=c,i.value=a,r}else{const i=t.cloneRange();return i.selectNodeContents(o),i.setStart(t.endContainer,t.endOffset),i.extractContents()}}}navigateNext(e=!1){const{BlockManager:t}=this.Editor,{currentBlock:o,nextBlock:i}=t,{nextInput:r}=o,a=this.isAtEnd;let c=i;const u=e||a;if(r&&u)return this.setToInput(r,this.positions.START),!0;if(c===null){if(o.tool.isDefault||!u)return!1;c=t.insertAtEnd()}return u?(this.setToBlock(c,this.positions.START),!0):!1}navigatePrevious(e=!1){const{currentBlock:t,previousBlock:o}=this.Editor.BlockManager;if(!t)return!1;const{previousInput:i}=t,r=e||this.isAtStart;return i&&r?(this.setToInput(i,this.positions.END),!0):o!==null&&r?(this.setToBlock(o,this.positions.END),!0):!1}createShadow(e){const t=document.createElement("span");t.classList.add(Di.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(`.${Di.CSS.shadowCaret}`);if(!t)return;new be().expandToTag(t);const o=document.createRange();o.selectNode(t),o.extractContents()}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),o=document.createElement("div"),i=be.get(),r=be.range;o.innerHTML=e,Array.from(o.childNodes).forEach(p=>t.appendChild(p)),t.childNodes.length===0&&t.appendChild(new Text);const a=t.lastChild;r.deleteContents(),r.insertNode(t);const c=document.createRange(),u=a.nodeType===Node.TEXT_NODE?a:a.firstChild;u!==null&&u.textContent!==null&&c.setStart(u,u.textContent.length),i.removeAllRanges(),i.addRange(c)}getHigherLevelSiblings(e,t){let o=e;const i=[];for(;o.parentNode&&o.parentNode.contentEditable!=="true";)o=o.parentNode;const r=t==="left"?"previousSibling":"nextSibling";for(;o[r];)o=o[r],i.push(o);return i}}class Og extends ze{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:o}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;const i=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,r=t.getBlockByChildNode(e.target);if(!(!i||!r)&&r!==i){if(i===this.firstSelectedBlock){be.get().removeAllRanges(),i.selected=!0,r.selected=!0,o.clearCache();return}if(r===this.firstSelectedBlock){i.selected=!1,r.selected=!1,o.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,r),this.lastSelectedBlock=r}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==cp.LEFT)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:t,BlockSelection:o}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,o.clearCache(),be.get().removeAllRanges());const i=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),r=t.blocks[i];r&&(this.lastSelectedBlock.selected!==r.selected?(r.selected=!0,o.clearCache()):(this.lastSelectedBlock.selected=!1,o.clearCache()),this.lastSelectedBlock=r,this.Editor.InlineToolbar.close(),r.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:o,Caret:i}=this.Editor,r=t.blocks.indexOf(this.firstSelectedBlock),a=t.blocks.indexOf(this.lastSelectedBlock);if(o.anyBlockSelected&&r>-1&&a>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case Ie.DOWN:case Ie.RIGHT:i.setToBlock(t.blocks[Math.max(r,a)],i.positions.END);break;case Ie.UP:case Ie.LEFT:i.setToBlock(t.blocks[Math.min(r,a)],i.positions.START);break;default:i.setToBlock(t.blocks[Math.max(r,a)],i.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;be.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:o,BlockSelection:i}=this.Editor,r=o.blocks.indexOf(e),a=o.blocks.indexOf(t),c=e.selected!==t.selected;for(let u=Math.min(r,a);u<=Math.max(r,a);u++){const p=o.blocks[u];p!==this.firstSelectedBlock&&p!==(c?e:t)&&(o.blocks[u].selected=!o.blocks[u].selected,i.clearCache())}}}class Ag extends ze{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async t=>{await this.processDrop(t)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",t=>{this.processDragOver(t)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:t,Caret:o,Paste:i}=this.Editor;e.preventDefault(),t.blocks.forEach(a=>{a.dropTarget=!1}),be.isAtEditor&&!be.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const r=t.setCurrentBlockByChildNode(e.target);if(r)this.Editor.Caret.setToBlock(r,o.positions.END);else{const a=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(a,o.positions.END)}await i.processDataTransfer(e.dataTransfer,!0)}processDragStart(){be.isAtEditor&&!be.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class Ig extends ze{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(o=>{this.redactorChanged(o)}),this.eventsDispatcher.on(uc,o=>{this.particularBlockChanged(o.event)}),this.eventsDispatcher.on(hc,()=>{this.disable()}),this.eventsDispatcher.on(fc,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!ft(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let t;this.batchingOnChangeQueue.size===1?t=this.batchingOnChangeQueue.values().next().value:t=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,t),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(rs,{mutations:e})}}const Ec=class extends ze{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=n=>{try{const e=n.create({},{},!1);if(n.pasteConfig===!1){this.exceptionList.push(n.name);return}if(!ft(e.onPaste))return;this.getTagsConfig(n),this.getFilesConfig(n),this.getPatternsConfig(n)}catch(e){et(`Paste handling for ${n.name} Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async n=>{const{BlockManager:e,Toolbar:t}=this.Editor,o=e.setCurrentBlockByChildNode(n.target);!o||this.isNativeBehaviour(n.target)&&!n.clipboardData.types.includes("Files")||o&&this.exceptionList.includes(o.name)||(n.preventDefault(),this.processDataTransfer(n.clipboardData),t.close())}}async prepare(){this.processTools()}toggleReadOnly(n){n?this.unsetCallback():this.setCallback()}async processDataTransfer(n,e=!1){const{Tools:t}=this.Editor,o=n.types;if((o.includes?o.includes("Files"):o.contains("Files"))&&!Kt(this.toolsFiles)){await this.processFiles(n.files);return}const i=n.getData(this.MIME_TYPE),r=n.getData("text/plain");let a=n.getData("text/html");if(i)try{this.insertEditorJSData(JSON.parse(i));return}catch{}e&&r.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:r)+"</p>");const c=Object.keys(this.toolsTags).reduce((b,w)=>(b[w.toLowerCase()]=this.toolsTags[w].sanitizationConfig??{},b),{}),u=Object.assign({},c,t.getAllInlineToolsSanitizeConfig(),{br:{}}),p=mn(a,u);!p.trim()||p.trim()===r||!B.isHTMLString(p)?await this.processText(r):await this.processText(p,!0)}async processText(n,e=!1){const{Caret:t,BlockManager:o}=this.Editor,i=e?this.processHTML(n):this.processPlain(n);if(!i.length)return;if(i.length===1){i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop());return}const r=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;i.map(async(a,c)=>this.insertBlock(a,c===0&&r)),o.currentBlock&&t.setToBlock(o.currentBlock,t.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const n=this.Editor.Tools.blockTools;Array.from(n.values()).forEach(this.processTool)}collectTagNames(n){return On(n)?[n]:Rt(n)?Object.keys(n):[]}getTagsConfig(n){if(n.pasteConfig===!1)return;const e=n.pasteConfig.tags||[],t=[];e.forEach(o=>{const i=this.collectTagNames(o);t.push(...i),i.forEach(r=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,r)){et(`Paste handler for ${n.name} Tool on ${r} tag is skipped because it is already used by ${this.toolsTags[r].tool.name} Tool.`,"warn");return}const a=Rt(o)?o[r]:null;this.toolsTags[r.toUpperCase()]={tool:n,sanitizationConfig:a}})}),this.tagsByTool[n.name]=t.map(o=>o.toUpperCase())}getFilesConfig(n){if(n.pasteConfig===!1)return;const{files:e={}}=n.pasteConfig;let{extensions:t,mimeTypes:o}=e;!t&&!o||(t&&!Array.isArray(t)&&(et(`extensions property of the onDrop config for ${n.name} Tool should be an array`),t=[]),o&&!Array.isArray(o)&&(et(`mimeTypes property of the onDrop config for ${n.name} Tool should be an array`),o=[]),o&&(o=o.filter(i=>pp(i)?!0:(et(`MIME type value ${i} for the ${n.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[n.name]={extensions:t||[],mimeTypes:o||[]})}getPatternsConfig(n){n.pasteConfig===!1||!n.pasteConfig.patterns||Kt(n.pasteConfig.patterns)||Object.entries(n.pasteConfig.patterns).forEach(([e,t])=>{t instanceof RegExp||et(`Pattern ${t} for ${n.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:t,tool:n})})}isNativeBehaviour(n){return B.isNativeInput(n)}async processFiles(n){const{BlockManager:e}=this.Editor;let t;t=await Promise.all(Array.from(n).map(i=>this.processFile(i))),t=t.filter(i=>!!i);const o=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;t.forEach((i,r)=>{e.paste(i.type,i.event,r===0&&o)})}async processFile(n){const e=fp(n),t=Object.entries(this.toolsFiles).find(([i,{mimeTypes:r,extensions:a}])=>{const[c,u]=n.type.split("/"),p=a.find(w=>w.toLowerCase()===e.toLowerCase()),b=r.find(w=>{const[O,R]=w.split("/");return O===c&&(R===u||R==="*")});return!!p||!!b});if(!t)return;const[o]=t;return{event:this.composePasteEvent("file",{file:n}),type:o}}processHTML(n){const{Tools:e}=this.Editor,t=B.make("DIV");return t.innerHTML=n,this.getNodes(t).map(o=>{let i,r=e.defaultTool,a=!1;switch(o.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=B.make("div"),i.appendChild(o);break;case Node.ELEMENT_NODE:i=o,a=!0,this.toolsTags[i.tagName]&&(r=this.toolsTags[i.tagName].tool);break}const{tags:c}=r.pasteConfig||{tags:[]},u=c.reduce((w,O)=>(this.collectTagNames(O).forEach(R=>{const f=Rt(O)?O[R]:null;w[R.toLowerCase()]=f||{}}),w),{}),p=Object.assign({},u,r.baseSanitizeConfig);if(i.tagName.toLowerCase()==="table"){const w=mn(i.outerHTML,p);i=B.make("div",void 0,{innerHTML:w}).firstChild}else i.innerHTML=mn(i.innerHTML,p);const b=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:a,tool:r.name,event:b}}).filter(o=>{const i=B.isEmpty(o.content),r=B.isSingleTag(o.content);return!i||r})}processPlain(n){const{defaultBlock:e}=this.config;if(!n)return[];const t=e;return n.split(/\r?\n/).filter(o=>o.trim()).map(o=>{const i=B.make("div");i.textContent=o;const r=this.composePasteEvent("tag",{data:i});return{content:i,tool:t,isBlock:!1,event:r}})}async processSingleBlock(n){const{Caret:e,BlockManager:t}=this.Editor,{currentBlock:o}=t;if(!o||n.tool!==o.name||!B.containsOnlyInlineElements(n.content.innerHTML)){this.insertBlock(n,(o==null?void 0:o.tool.isDefault)&&o.isEmpty);return}e.insertContentAtCaretPosition(n.content.innerHTML)}async processInlinePaste(n){const{BlockManager:e,Caret:t}=this.Editor,{content:o}=n;if(e.currentBlock&&e.currentBlock.tool.isDefault&&o.textContent.length<Ec.PATTERN_PROCESSING_MAX_LENGTH){const i=await this.processPattern(o.textContent);if(i){const r=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,a=e.paste(i.tool,i.event,r);t.setToBlock(a,t.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const i=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,mn(o.innerHTML,i))}else this.insertBlock(n)}async processPattern(n){const e=this.toolsPatterns.find(t=>{const o=t.pattern.exec(n);return o?n===o.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:n}),tool:e.tool.name}:void 0}insertBlock(n,e=!1){const{BlockManager:t,Caret:o}=this.Editor,{currentBlock:i}=t;let r;if(e&&i&&i.isEmpty){r=t.paste(n.tool,n.event,!0),o.setToBlock(r,o.positions.END);return}r=t.paste(n.tool,n.event),o.setToBlock(r,o.positions.END)}insertEditorJSData(n){const{BlockManager:e,Caret:t,Tools:o}=this.Editor;pc(n,i=>o.blockTools.get(i).sanitizeConfig).forEach(({tool:i,data:r},a)=>{let c=!1;a===0&&(c=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const u=e.insert({tool:i,data:r,replace:c});t.setToBlock(u,t.positions.END)})}processElementNode(n,e,t){const o=Object.keys(this.toolsTags),i=n,{tool:r}=this.toolsTags[i.tagName]||{},a=this.tagsByTool[r==null?void 0:r.name]||[],c=o.includes(i.tagName),u=B.blockElements.includes(i.tagName.toLowerCase()),p=Array.from(i.children).some(({tagName:w})=>o.includes(w)&&!a.includes(w)),b=Array.from(i.children).some(({tagName:w})=>B.blockElements.includes(w.toLowerCase()));if(!u&&!c&&!p)return t.appendChild(i),[...e,t];if(c&&!p||u&&!b&&!p)return[...e,t,i]}getNodes(n){const e=Array.from(n.childNodes);let t;const o=(i,r)=>{if(B.isEmpty(r)&&!B.isSingleTag(r))return i;const a=i[i.length-1];let c=new DocumentFragment;switch(a&&B.isFragment(a)&&(c=i.pop()),r.nodeType){case Node.ELEMENT_NODE:if(t=this.processElementNode(r,i,c),t)return t;break;case Node.TEXT_NODE:return c.appendChild(r),[...i,c];default:return[...i,c]}return[...i,...Array.from(r.childNodes).reduce(o,[])]};return e.reduce(o,[])}composePasteEvent(n,e){return new CustomEvent(n,{detail:e})}};let Sc=Ec;Sc.PATTERN_PROCESSING_MAX_LENGTH=450;class Mg extends ze{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:t}=e,o=[];Array.from(t.entries()).forEach(([i,r])=>{r.isReadOnlySupported||o.push(i)}),this.toolsDontSupportReadOnly=o,this.config.readOnly&&o.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const t=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const i in this.Editor)this.Editor[i].toggleReadOnly&&this.Editor[i].toggleReadOnly(e);if(t===e)return this.readOnlyEnabled;const o=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(o.blocks),this.readOnlyEnabled}throwCriticalError(){throw new dc(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Wo extends ze{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const o=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const i=[`.${Nt.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],r=o.closest("."+this.Editor.UI.CSS.editorWrapper),a=i.some(c=>!!o.closest(c));!r||a||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",t=>{this.processMouseDown(t)},!1),this.listeners.on(document.body,"mousemove",ns(t=>{this.processMouseMove(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",ns(t=>{this.processScroll(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(B.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),o=B.make("div",Wo.CSS.overlay,{}),i=B.make("div",Wo.CSS.overlayContainer,{}),r=B.make("div",Wo.CSS.rect,{});return i.appendChild(r),o.appendChild(i),t.appendChild(o),this.overlayRectangle=r,{container:t,overlay:o}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:o,index:i}=this.genInfoForMouseSelection(),r=this.startX>t&&this.mouseX>t,a=this.startX<o&&this.mouseX<o;this.rectCrossesBlocks=!(r||a),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),be.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,o=document.elementFromPoint(e,t),i=this.Editor.BlockManager.getBlockByChildNode(o);let r;i!==void 0&&(r=this.Editor.BlockManager.blocks.findIndex(b=>b.holder===i.holder));const a=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Nt.CSS.content),c=Number.parseInt(window.getComputedStyle(a).width,10)/2,u=e-c,p=e+c;return{index:r,leftPos:u,rightPos:p}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const t=this.stackOfSelected[this.stackOfSelected.length-1]===e,o=this.stackOfSelected.length,i=1,r=-1,a=0;if(t)return;const c=this.stackOfSelected[o-1]-this.stackOfSelected[o-2]>0;let u=a;o>1&&(u=c?i:r);const p=e>this.stackOfSelected[o-1]&&u===i,b=e<this.stackOfSelected[o-1]&&u===r,w=!(p||b||u===a);if(!w&&(e>this.stackOfSelected[o-1]||this.stackOfSelected[o-1]===void 0)){let f=this.stackOfSelected[o-1]+1||e;for(f;f<=e;f++)this.addBlockInSelection(f);return}if(!w&&e<this.stackOfSelected[o-1]){for(let f=this.stackOfSelected[o-1]-1;f>=e;f--)this.addBlockInSelection(f);return}if(!w)return;let O=o-1,R;for(e>this.stackOfSelected[o-1]?R=()=>e>this.stackOfSelected[O]:R=()=>e<this.stackOfSelected[O];R();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[O]),this.stackOfSelected.pop(),O--}}class Lg extends ze{async render(e){return new Promise(t=>{const{Tools:o,BlockManager:i}=this.Editor;if(e.length===0)i.insert();else{const r=e.map(({type:a,data:c,tunes:u,id:p})=>{o.available.has(a)===!1&&(Zt(`Tool ${a} is not found. Check 'tools' property at the Editor.js config.`,"warn"),c=this.composeStubDataForTool(a,c,p),a=o.stubTool);let b;try{b=i.composeBlock({id:p,tool:a,data:c,tunes:u})}catch(w){et(`Block ${a} skipped because of plugins error`,"error",{data:c,error:w}),c=this.composeStubDataForTool(a,c,p),a=o.stubTool,b=i.composeBlock({id:p,tool:a,data:c,tunes:u})}return b});i.insertMany(r)}window.requestIdleCallback(()=>{t()},{timeout:2e3})})}composeStubDataForTool(e,t,o){const{Tools:i}=this.Editor;let r=e;if(i.unavailable.has(e)){const a=i.unavailable.get(e).toolbox;a!==void 0&&a[0].title!==void 0&&(r=a[0].title)}return{savedData:{id:o,type:e,data:t},title:r}}}class Ng extends ze{async save(){const{BlockManager:e,Tools:t}=this.Editor,o=e.blocks,i=[];try{o.forEach(c=>{i.push(this.getSavedData(c))});const r=await Promise.all(i),a=await pc(r,c=>t.blockTools.get(c).sanitizeConfig);return this.makeOutput(a)}catch(r){Zt("Saving failed due to the Error %o","error",r)}}async getSavedData(e){const t=await e.save(),o=t&&await e.validate(t.data);return{...t,isValid:o}}makeOutput(e){const t=[];return e.forEach(({id:o,tool:i,data:r,tunes:a,isValid:c})=>{if(!c){et(`Block ${i} skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){t.push(r);return}const u={id:o,type:i,data:r,...!Kt(a)&&{tunes:a}};t.push(u)}),{time:+new Date,blocks:t,version:"2.29.0"}}}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Rg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class Ms{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:o,readOnly:i}){this.api=o,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:Ms.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=t.preserveBlank!==void 0?t.preserveBlank:!1,this.data=e}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete")return;const{textContent:t}=this._element;t===""&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){const t={text:this.data.text+e.text};this.data=t}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const t={text:e.detail.data.innerHTML};this.data=t}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}get data(){if(this._element!==null){const e=this._element.innerHTML;this._data.text=e}return this._data}set data(e){this._data=e||{},this._element!==null&&this.hydrate()}hydrate(){window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:Rg,title:"Text"}}}class Ls{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=og,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}Ls.isInline=!0;Ls.title="Bold";class Ns{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=ag,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Ns.isInline=!0;Ns.title="Italic";class Rs{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new be}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=nl,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const t=this.selection.findParentTag("A");if(t){this.selection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=ug,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const t=e.getAttribute("href");this.nodes.input.value=t!=="null"?t:"",this.selection.save()}else this.nodes.button.innerHTML=nl,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const t=new be;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let t=this.nodes.input.value||"";if(!t.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(t)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),et("Incorrect Link pasted","warn",t);return}t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const t=/^\/[^/\s]/.test(e),o=e.substring(0,1)==="#",i=/^\/\/[^/\s]/.test(e);return!t&&!o&&!i&&(e="http://"+e),e}insertLink(e){const t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Rs.isInline=!0;Rs.title="Link";class _c{constructor({data:e,api:t}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=t,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=B.make("div",this.CSS.wrapper),t=hg,o=B.make("div",this.CSS.info),i=B.make("div",this.CSS.title,{textContent:this.title}),r=B.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=t,o.appendChild(i),o.appendChild(r),e.appendChild(o),e}}_c.isReadOnlySupported=!0;class Pg extends Is{constructor(){super(...arguments),this.type=Ji.Inline}get title(){return this.constructable[As.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class Dg extends Is{constructor(){super(...arguments),this.type=Ji.Tune}create(e,t){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:t,data:e})}}class Ft extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isBlock());return new Ft(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInline());return new Ft(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,t])=>t.isTune());return new Ft(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInternal);return new Ft(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,t])=>!t.isInternal);return new Ft(e)}}var Fg=Object.defineProperty,jg=Object.getOwnPropertyDescriptor,Tc=(n,e,t,o)=>{for(var i=o>1?void 0:o?jg(e,t):e,r=n.length-1,a;r>=0;r--)(a=n[r])&&(i=(o?a(e,t,i):a(i))||i);return o&&i&&Fg(e,t,i),i};class Ps extends Is{constructor(){super(...arguments),this.type=Ji.Block,this.inlineTools=new Ft,this.tunes=new Ft}create(e,t,o){return new this.constructable({data:e,block:t,readOnly:o,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[fo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[fo.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[fo.Toolbox],t=this.config[Ni.Toolbox];if(!Kt(e)&&t!==!1)return t?Array.isArray(e)?Array.isArray(t)?t.map((o,i)=>{const r=e[i];return r?{...r,...o}:o}):[t]:Array.isArray(t)?t:[{...e,...t}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[fo.ConversionConfig]}get enabledInlineTools(){return this.config[Ni.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Ni.EnabledBlockTunes]}get pasteConfig(){return this.constructable[fo.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(Kt(e))return t;const o={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];Rt(r)?o[i]=Object.assign({},t,r):o[i]=r}return o}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),Array.from(this.tunes.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),e}}Tc([xo],Ps.prototype,"sanitizeConfig",1);Tc([xo],Ps.prototype,"baseSanitizeConfig",1);class Hg{constructor(e,t,o){this.api=o,this.config=e,this.editorConfig=t}get(e){const{class:t,isInternal:o=!1,...i}=this.config[e],r=this.getConstructor(t);return new r({name:e,constructable:t,config:i,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:o})}getConstructor(e){switch(!0){case e[As.IsInline]:return Pg;case e[xc.IsTune]:return Dg;default:return Ps}}}class Cc{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:mc,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e+1);if(!t)throw new Error("Unable to move Block down since it is already the last");const o=t.holder,i=o.getBoundingClientRect();let r=Math.abs(window.innerHeight-o.offsetHeight);i.top<window.innerHeight&&(r=window.scrollY+o.offsetHeight),window.scrollTo(0,r),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Cc.isTune=!0;class Bc{constructor({api:e}){this.api=e}render(){return{icon:rg,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Bc.isTune=!0;class Oc{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:ig,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e),o=this.api.blocks.getBlockByIndex(e-1);if(e===0||!t||!o)throw new Error("Unable to move Block up since it is already the first");const i=t.holder,r=o.holder,a=i.getBoundingClientRect(),c=r.getBoundingClientRect();let u;c.top>0?u=Math.abs(a.top)-Math.abs(c.top):u=Math.abs(a.top)+c.height,window.scrollBy(0,-1*u),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Oc.isTune=!0;var Ug=Object.defineProperty,$g=Object.getOwnPropertyDescriptor,zg=(n,e,t,o)=>{for(var i=o>1?void 0:o?$g(e,t):e,r=n.length-1,a;r>=0;r--)(a=n[r])&&(i=(o?a(e,t,i):a(i))||i);return o&&i&&Ug(e,t,i),i};class Ac extends ze{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Ft,this.toolsUnavailable=new Ft}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=os({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new Hg(e,this.config,this.Editor.API);const t=this.getListOfPrepareFunctions(e);if(t.length===0)return Promise.resolve();await hp(t,o=>{this.toolPrepareMethodSuccess(o)},o=>{this.toolPrepareMethodFallback(o)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>{Object.assign(e,t.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{ft(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:Ls,isInternal:!0},italic:{class:Ns,isInternal:!0},link:{class:Rs,isInternal:!0},paragraph:{class:Ms,inlineToolbar:!0,isInternal:!0},stub:{class:_c,isInternal:!0},moveUp:{class:Oc,isInternal:!0},delete:{class:Bc,isInternal:!0},moveDown:{class:Cc,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const o=["render","surround","checkState"].filter(i=>!t.create()[i]);if(o.length){et(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",o),this.toolsUnavailable.set(t.name,t);return}}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach(([o,i])=>{t.push({function:ft(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:o,config:i.config}})}),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Ft(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(t=>[t,this.inlineTools.get(t)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Ft(e.enabledInlineTools.map(t=>[t,this.inlineTools.get(t)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const t=new Ft(e.enabledBlockTunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new Ft([...t,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const t=new Ft(this.config.tunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new Ft([...t,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!ft(t)&&!ft(t.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const t in this.config.tools)Rt(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}zg([xo],Ac.prototype,"getAllInlineToolsSanitizeConfig",1);const qg=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class Wg extends ze{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=Qa(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Nt.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback(()=>{this.enableModuleBindings()},{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:o,ConversionToolbar:i}=this.Editor;return t.opened||o.opened||i.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,t])=>t.flipper instanceof wn).some(([e,t])=>t.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:o,ConversionToolbar:i}=this.Editor;t.close(),o.close(),i.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<lc}make(){this.nodes.holder=B.getHolder(this.config.holder),this.nodes.wrapper=B.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=B.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(B.get(e))return;const t=B.make("style",null,{id:e,textContent:qg.toString()});this.config.style&&!Kt(this.config.style)&&this.config.style.nonce&&t.setAttribute("nonce",this.config.style.nonce),B.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",t=>{this.redactorClicked(t)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",t=>{this.documentTouched(t)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",t=>{this.documentTouched(t)},{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",t=>{this.documentKeydown(t)},!0),this.readOnlyMutableListeners.on(document,"mousedown",t=>{this.documentClicked(t)},!0);const e=Qa(()=>{this.selectionChanged()},180);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",ns(t=>{const o=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||o&&e!==o&&(e=o,this.eventsDispatcher.emit(yc,{block:this.Editor.BlockManager.getBlockByChildNode(o)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case Ie.ENTER:this.enterPressed(e);break;case Ie.BACKSPACE:case Ie.DELETE:this.backspacePressed(e);break;case Ie.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,o=e.target.closest(`.${this.CSS.editorWrapper}`),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(t!==void 0&&o===null){this.Editor.BlockEvents.keydown(e);return}o||t&&i||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:t,BlockSelection:o,Caret:i}=this.Editor;if(o.anyBlockSelected&&!be.isSelectionExists){const r=t.removeSelectedBlocks(),a=t.insertDefaultBlockAtIndex(r,!0);i.setToBlock(a,i.positions.START),o.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:o}=this.Editor,i=t.currentBlockIndex>=0;if(o.anyBlockSelected&&!be.isSelectionExists){o.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&i&&e.target.tagName==="BODY"){const r=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(r),this.Editor.Toolbar.moveAndOpen(r)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var t,o;if(!e.isTrusted)return;const i=e.target;this.nodes.holder.contains(i)||be.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=(t=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:t.contains(i),a=(o=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:o.contains(i),c=r||a;if(this.Editor.BlockSettings.opened&&!c){this.Editor.BlockSettings.close();const u=this.Editor.BlockManager.getBlockByChildNode(i);this.Editor.Toolbar.moveAndOpen(u)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const o=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(o,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!be.isCollapsed)return;const t=e.target,o=e.metaKey||e.ctrlKey;if(B.isAnchor(t)&&o){e.stopImmediatePropagation(),e.stopPropagation();const i=t.getAttribute("href"),r=mp(i);vp(r);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){const t=this.Editor.BlockManager.getBlockByIndex(-1),o=B.offset(t.holder).bottom,i=e.pageY,{BlockSelection:r}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!r.anyBlockSelected&&o<i){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:a,Caret:c,Toolbar:u}=this.Editor;(!a.lastBlock.tool.isDefault||!a.lastBlock.isEmpty)&&a.insertAtEnd(),c.setToTheLastBlock(),u.moveAndOpen(a.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,o=be.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&be.get().removeAllRanges(),!o){be.range||this.Editor.InlineToolbar.close();return}const i=o.closest(`.${Nt.CSS.content}`)===null;if(i&&(this.Editor.InlineToolbar.containsNode(o)||this.Editor.InlineToolbar.close(),o.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(o);const r=i!==!0;this.Editor.InlineToolbar.tryToShow(!0,r)}}const Kg={BlocksAPI:Bp,CaretAPI:Op,EventsAPI:Ap,I18nAPI:_s,API:Ip,InlineToolbarAPI:Mp,ListenersAPI:Lp,NotifierAPI:Dp,ReadOnlyAPI:Fp,SanitizerAPI:Wp,SaverAPI:Kp,SelectionAPI:Vp,StylesAPI:Yp,ToolbarAPI:Jp,TooltipAPI:eg,UiAPI:tg,BlockSettings:mg,ConversionToolbar:qt,Toolbar:xg,InlineToolbar:Eg,BlockEvents:Sg,BlockManager:Cg,BlockSelection:Bg,Caret:Di,CrossBlockSelection:Og,DragNDrop:Ag,ModificationsObserver:Ig,Paste:Sc,ReadOnly:Mg,RectangleSelection:Wo,Renderer:Lg,Saver:Ng,Tools:Ac,UI:Wg};class Vg{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Yi;let t,o;this.isReady=new Promise((i,r)=>{t=i,o=r}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:r,UI:a,ModificationsObserver:c}=this.moduleInstances;a.checkEmptiness(),c.enable(),this.configuration.autofocus&&r.setToBlock(i.blocks[0],r.positions.START),t()}).catch(i=>{et(`Editor.js is not ready because of ${i}`,"error"),o(i)})}set configuration(e){var t,o;Rt(e)?this.config={...e}:this.config={holder:e},is(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=rc.VERBOSE),dp(this.config.logLevel),is(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Kt(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(t=this.config.i18n)!=null&&t.messages&&Ht.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((o=this.config.i18n)==null?void 0:o.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:t}=this.config;if(e&&t)throw Error("holderId and holder param can't assign at the same time.");if(On(t)&&!B.get(t))throw Error(`element with ID ${t} is missing. Pass correct holder's ID.`);if(t&&Rt(t)&&!B.isElement(t))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,t)=>e.then(async()=>{try{await this.moduleInstances[t].prepare()}catch(o){if(o instanceof dc)throw new Error(o.message);et(`Module ${t} was skipped because of %o`,"warn",o)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(Kg).forEach(([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(o){et("[constructModules]",`Module ${e} skipped because`,"error",o)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const o in this.moduleInstances)o!==e&&(t[o]=this.moduleInstances[o]);return t}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class Yg{static get version(){return"2.29.0"}constructor(e){let t=()=>{};Rt(e)&&ft(e.onReady)&&(t=e.onReady);const o=new Vg(e);this.isReady=o.isReady.then(()=>{this.exportAPI(o),t()})}exportAPI(e){const t=["configuration"],o=()=>{Object.values(e.moduleInstances).forEach(i=>{ft(i.destroy)&&i.destroy(),i.listeners.removeAll()}),Qp(),e=null;for(const i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};t.forEach(i=>{this[i]=e[i]}),this.destroy=o,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,r])=>{Object.entries(r).forEach(([a,c])=>{this[c]=e.moduleInstances.API.methods[i][a]})})}}rp.plugin(sp);xs.start();window.EditorJS=Yg;console.log(window.EditorJS);
